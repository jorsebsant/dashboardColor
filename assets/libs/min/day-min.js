if("undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){function ticksToSortable(e){var t=DayPilot.Date.Cache.Ticks;if(t[e])return DayPilot.Stats.cacheHitsTicks+=1,t[e];var i=new Date(e),a,n=i.getUTCMilliseconds();a=0===n?"":10>n?".00"+n:100>n?".0"+n:"."+n;var o=i.getUTCSeconds();10>o&&(o="0"+o);var r=i.getUTCMinutes();10>r&&(r="0"+r);var s=i.getUTCHours();10>s&&(s="0"+s);var l=i.getUTCDate();10>l&&(l="0"+l);var d=i.getUTCMonth()+1;10>d&&(d="0"+d);var c=i.getUTCFullYear();if(0>=c)throw"The minimum year supported is 1.";10>c?c="000"+c:100>c?c="00"+c:1e3>c&&(c="0"+c);var h=c+"-"+d+"-"+l+"T"+s+":"+r+":"+o+a;return t[e]=h,h}function equalsIgnoreCase(e,t){return DayPilot.Util.isNullOrUndefined(e)?!1:DayPilot.Util.isNullOrUndefined(t)?!1:e.toLocaleLowerCase()===t.toLocaleLowerCase()}if("undefined"==typeof DayPilot.$){DayPilot.$=function(e){return document.getElementById(e)},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var e=document.createElement("div");e.innerHTML="<!--[if IE 8]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),DayPilot.browser.ie9=function(){var e=document.createElement("div");e.innerHTML="<!--[if IE 9]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),DayPilot.browser.ielt9=function(){var e=document.createElement("div");e.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),DayPilot.browser.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),DayPilot.browser.chrome=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Chrome"),DayPilot.browser.ie=DayPilot.isIE,DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof $c,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(e,t){if(t=t||window.event,"undefined"!=typeof t.offsetX){var i={x:t.offsetX+1,y:t.offsetY+1};if(!e)return i;for(var a=t.srcElement;a&&a!==e;)"SPAN"!==a.tagName&&(i.x+=a.offsetLeft,a.offsetTop>0&&(i.y+=a.offsetTop-a.scrollTop)),a=a.offsetParent;return a?i:null}if("undefined"!=typeof t.layerX){var i={x:t.layerX,y:t.layerY,$g:t.target};if(!e)return i;for(var a=t.target;a&&"absolute"!==a.style.position&&"relative"!==a.style.position;)a=a.parentNode,DayPilot.isKhtml&&(i.y+=a.scrollTop);for(;a&&a!==e;)i.x+=a.offsetLeft,i.y+=a.offsetTop-a.scrollTop,a=a.offsetParent;return a?i:null}return null},DayPilot.mo3=function(e,t){t=t||window.event;var i=DayPilot.page(t);if(i){var a=DayPilot.abs(e);return{x:i.x-a.x,y:i.y-a.y}}return DayPilot.mo2(e,t)},DayPilot.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(e,t){if(e&&e.isDayPilotList&&!t)return e;var i=DayPilot.isArray(e)||"[object NodeList]"===Object.prototype.toString.call(e),a=!i&&!DayPilot.Util.isNullOrUndefined(e),n=[];if(n.isDayPilotList=!0,n.clone=function(){var e=DayPilot.list();return n.each(function(t){e.push(t)}),e},n.each=function(e){if(e){if(n.forEach)return void n.forEach(e);for(var t=0;t<this.length;t++)e(n[t],t,n)}},n.addProps=function(e){var t=n.clone();if(e)for(var i in e)t[i]=e[i];return t},n.last=function(){return 0===n.length?null:n[n.length-1]},n.add=function(e){var t=n.clone();return t.push(e),t},n.map=function(e){if("function"!=typeof e)throw"DayPilot.list().map(f): Function expected";var t=DayPilot.list();return n.each(function(i,a,n){t.push(e(i,a,n))}),t},n.filter=function(e){var t=DayPilot.list();if("function"!=typeof e)throw"DayPilot.list().filter(f): Function expected";return n.each(function(i){e(i)&&t.push(i)}),t},n.concat=function(e){if(!e)return n;for(var t=n.clone(),i=0;i<e.length;i++)t.push(e[i]);return t},n.find||(n.find=function(e){if("function"!=typeof e)throw"DayPilot.list().find(f): Function expected";for(var t=0;t<this.length;t++)if(e(n[t]))return n[t];return void 0}),n.findIndex||(n.findIndex=function(e){if("function"!=typeof e)throw"DayPilot.list().findIndex(f): Function expected";for(var t=0;t<this.length;t++)if(e(n[t]))return t;return-1}),n.some||(n.some=function(e){if("function"!=typeof e)throw"DayPilot.list().some(f): Function expected";for(var t=0;t<this.length;t++)if(e(n[t]))return!0;return!1}),n.reduce||(n.reduce=function(e,t){if("function"!=typeof e)throw"DayPilot.list().reduce(f): Function expected";var i,a=0;if("undefined"!=typeof t)i=t;else{if(a=1,0===n.length)throw"DayPilot.list().reduce(f): No initial value and empty list";i=n[0]}for(var o=a;o<this.length;o++)i=e(i,n[o],o,this);return i}),n.isEmpty=function(){return 0===n.length},i)for(var o=0;o<e.length;o++)n[o]=e[o];else a&&(n[0]=e);return n},DayPilot.line=function(e,t,i,a,n){var o={x:e,y:t},r={x:i,y:a,deg:DayPilot.deg(e,t,i,a)};if(a>t){var s=t;t=a,a=s,s=e,e=i,i=s}var l=DayPilot.deg(e,t,i,a),d=function(){var n=Math.abs(e-i),o=Math.abs(t-a);return Math.sqrt(n*n+o*o)}(),c=function(){var n=Math.abs(e-i),o=Math.abs(t-a),r=(e+i)/2,s=(t+a)/2,l=Math.sqrt(n*n+o*o);return r-l/2}(),h=function(){return(t+a)/2}(),u=document.createElement("div");u.setAttribute("style","border:1px solid black;width:"+d+"px;height:0px;-moz-transform:rotate("+l+"deg);-webkit-transform:rotate("+l+"deg);-ms-transform:rotate("+l+"deg);transform:rotate("+l+"deg);position:absolute;top:"+h+"px;left:"+c+"px;");var f=document.createElement("div");if(f.appendChild(u),n){var d=6,v=r.y-d,p=r.x-d,l=l;r.y>o.y&&(l-=180);var g=document.createElement("div");g.style.borderColor="transparent black transparent transparent",g.style.borderWidth=d+"px",g.style.borderStyle="solid",g.style.position="absolute",g.style.left=p+"px",g.style.top=v+"px",g.style.transform="rotate("+l+"deg)",f.appendChild(g)}return f},DayPilot.deg=function(e,t,i,a){var n=Math.abs(e-i),o=Math.abs(t-a),r,s=(e+i)/2,l=(t+a)/2,d=Math.sqrt(n*n+o*o),c=s-d/2,h=l;n=d/2,r=Math.abs(s-c),o=Math.sqrt(Math.abs(e-c)*Math.abs(e-c)+Math.abs(t-h)*Math.abs(t-h));var u=(o*o-n*n-r*r)/(2*n*r),f=Math.acos(u),v=180*f/Math.PI;return v},DayPilot.complete=function(e){return"complete"===document.readyState?void e():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var e=0;e<DayPilot.complete.list.length;e++){var t=DayPilot.complete.list[e];t()}DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(e))},DayPilot.page=function(e){return e=e||window.event,"undefined"!=typeof e.pageX?{x:e.pageX,y:e.pageY}:"undefined"!=typeof e.clientX?{x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.rel=function(e,t){var i=DayPilot.abs(e),a=DayPilot.abs(t);return{x:i.x-a.x,y:i.y-a.y,w:e.offsetWidth,h:e.offsetHeight}},DayPilot.abs=function(e,t){if(!e)return null;var i={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};if(e.getBoundingClientRect){var a=null;try{a=e.getBoundingClientRect()}catch(n){a={top:e.offsetTop,$z:e.offsetLeft}}i.x=a.left,i.y=a.top;var o=DayPilot.doc();i.x-=o.clientLeft||0,i.y-=o.clientTop||0;var r=DayPilot.pageOffset();if(i.x+=r.x,i.y+=r.y,t){var s=DayPilot.absOffsetBased(e,!1),t=DayPilot.absOffsetBased(e,!0);i.x+=t.x-s.x,i.y+=t.y-s.y,i.w=t.w,i.h=t.h}return i}return DayPilot.absOffsetBased(e,t)},DayPilot.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},DayPilot.absOffsetBased=function(e,t){for(var i={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(e);)e=DayPilot.op(e),i.x-=e.scrollLeft,i.y-=e.scrollTop,t&&(i.x<0&&(i.w+=i.x,i.x=0),i.y<0&&(i.h+=i.y,i.y=0),e.scrollLeft>0&&i.x+i.w>e.clientWidth&&(i.w-=i.x+i.w-e.clientWidth),e.scrollTop&&i.y+i.h>e.clientHeight&&(i.h-=i.y+i.h-e.clientHeight)),i.x+=e.offsetLeft,i.y+=e.offsetTop;var a=DayPilot.pageOffset();return i.x+=a.x,i.y+=a.y,i},DayPilot.wd=function(){var e=DayPilot.isIEQuirks,t=document.documentElement.clientHeight;e&&(t=document.body.clientHeight);var i=document.documentElement.clientWidth;e&&(i=document.body.clientWidth);var a=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,o={};return o.width=i,o.height=t,o.scrollTop=a,o.scrollLeft=n,o},DayPilot.op=function(e){try{return e.offsetParent}catch(t){return document.body}},DayPilot.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},DayPilot.doc=function(){var e=document.documentElement;return e&&e.clientHeight?e:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var e=DayPilot.doc();return{x:e.scrollLeft,y:e.scrollTop}},DayPilot.ac=function(e,t){if(!t)var t=[];for(var i=0;e.children&&i<e.children.length;i++)t.push(e.children[i]),DayPilot.ac(e.children[i],t);return t},DayPilot.indexOf=function(e,t,i){if(!e||!e.length)return-1;for(var a=0;a<e.length;a++)if(i){if(i(e[a],t))return a}else if(e[a]===t)return a;return-1},DayPilot.contains=function(e,t){return e?e!==t||DayPilot.isArray(e)?-1!==DayPilot.indexOf(e,t):!0:!1},DayPilot.rfa=function(e,t){var i=DayPilot.indexOf(e,t);-1!==i&&e.splice(i,1)},DayPilot.sheet=function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(document.createTextNode(""));var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e);var i=!!e.styleSheet,a={};return a.rules=[],a.commit=function(){try{i&&(e.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},a.add=function(t,a,n){if(i)return void this.rules.push(t+"{"+a+"}");if(e.sheet.insertRule)"undefined"==typeof n&&(n=e.sheet.cssRules.length),e.sheet.insertRule(t+"{"+a+"}",n);else{if(!e.sheet.addRule)throw"No CSS registration method found";e.sheet.addRule(t,a,n)}},a},DayPilot.Args=function(e){var t=this;this.preventDefault=function(){e&&e.preventDefault(),t.preventDefault.value=!0}},DayPilot.Debug=function(e){var t=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.$3T=null,this.clear=function(){this.messages=[],t.$3T&&(t.$3T.innerHTML="")},this.hide=function(){DayPilot.de(t.$3T),t.$3T=null},this.show=function(){t.$3T&&t.hide();var i=e.nav.top,a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.style.backgroundColor="black",a.style.color="#ccc",a.style.overflow="auto",a.style.webkitUserSelect="auto",a.style.MozUserSelect="all",a.onclick=function(){t.hide()};for(var n=0;n<this.messages.length;n++){var o=t.messages[n],r=o.$3U();a.appendChild(r)}this.$3T=a,i.appendChild(a)},this.message=function(e,t){if(this.enabled){var i={};i.time=new DayPilot.Date,i.level=t||"debug",i.text=e,i.$3U=function(){var e=document.createElement("div");switch(e.innerHTML=i.time+" ("+i.level+"): "+i.text,i.level){case"error":e.style.color="red";break;case"warning":e.style.color="orange";break;case"info":e.style.color="white";break;case"debug":}return e},this.messages.push(i),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(i)}}},DayPilot.re=function(e,t,i){if(i)if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent){var a=function(t){i.call(e,t)};e.attachEvent("on"+t,a)}},DayPilot.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},DayPilot.tr=function(e){return e?e.replace(/^\s+|\s+$/g,""):""},DayPilot.ds=function(e){return DayPilot.Date.toStringSortable(e)},DayPilot.gs=function(e,t){var i=e;if(i.currentStyle)var a=i.currentStyle[t];else if(window.getComputedStyle)var a=document.defaultView.getComputedStyle(i,null).getPropertyValue(t);return"undefined"==typeof a&&(a=""),a},DayPilot.StyleReader=function(e){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}this.get=function(i){var a=DayPilot.list(i.split("-")),n=a.reduce(function(e,i,a){return i=t(i),e+i});return e?DayPilot.gs(e,n)||DayPilot.gs(e,i):null}},DayPilot.he=function(e){var t=e.replace(/&/g,"&amp;");return t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")},DayPilot.he2=function(e){var t=document.createTextNode(e),i=document.createElement("div");return i.appendChild(t),i.innerHTML},DayPilot.us=function(e){if(e){e.setAttribute("unselectable","on"),e.style.userSelect="none",e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.webkitUserSelect="none";for(var t=0;t<e.childNodes.length;t++)1===e.childNodes[t].nodeType&&DayPilot.us(e.childNodes[t])}},DayPilot.pu=function(e){var t=e.attributes,i,a,n;if(t)for(a=t.length,i=0;a>i;i+=1)t[i]&&(n=t[i].name,"function"==typeof e[n]&&(e[n]=null));if(t=e.childNodes)for(a=t.length,i=0;a>i;i+=1)var o=DayPilot.pu(e.childNodes[i])},DayPilot.puc=function(e){var t=e.childNodes,i,a;if(t){var a=t.length;for(i=0;a>i;i+=1)DayPilot.pu(e.childNodes[i])}},DayPilot.de=function(e){if(e)if(DayPilot.isArray(e))for(var t=0;t<e.length;t++)DayPilot.de(e[t]);else e.parentNode&&e.parentNode.removeChild(e)},DayPilot.fade=function(e,t,i){if(e){clearTimeout(e.messageTimeout);var a=50,n="none"!==e.style.display,o=t>0,r=0>t;if(0!==t){if(o?e.status="in":r&&(e.status="out"),o&&!n)e.target=parseFloat(e.style.opacity),e.opacity=0,e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.display="";else if(r&&!e.target)e.target=e.style.opacity;else{var s=e.opacity,l=Math.floor(10*(s+t))/10;o&&l>e.target&&(l=e.target),r&&0>l&&(l=0);var d=100*l;e.opacity=l,e.style.opacity=l,e.style.filter="alpha(opacity="+d+")"}if(o&&(e.opacity>=e.target||e.opacity>=1)||r&&e.opacity<=0){if(e.target=null,r){e.style.opacity=e.target,e.opacity=e.target;var c=e.target?"alpha(opacity="+100*e.target+")":null;e.style.filter=c,e.style.display="none"}i&&"function"==typeof i&&(e.status=null,i())}else e.messageTimeout=setTimeout(function(){DayPilot.fade(e,t,i)},a)}}},DayPilot.sw=function(e){return e?e.offsetWidth-e.clientWidth:0},DayPilot.swa=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.width="200px",e.style.height="100px",e.style.overflow="auto";var t=document.createElement("div");t.style.width="300px",t.style.height="300px",e.appendChild(t),document.body.appendChild(e);var i=DayPilot.sw(e);return document.body.removeChild(e),i},DayPilot.sh=function(e){return e?e.offsetHeight-e.clientHeight:0},DayPilot.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},DayPilot.ua=function(e){if("string"==typeof e||"number"==typeof e)return[e];for(var t={},i=[],a=0,n=e.length;n>a;++a)e[a]in t||(i.push(e[a]),t[e[a]]=1);return i},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function e(e,a){var n={w:e.offsetWidth,h:e.offsetHeight,x:parseInt(e.style.left),y:parseInt(e.style.top)};n.height=e.style.height,n.width=e.style.width,n.top=e.style.top,n.left=e.style.left,n.toString=function(){return"w: "+this.w+" h:"+this.h};var o={};if(o.finished=null,o.vertical="center",o.horizontal="center",a)for(var r in a)o[r]=a[r];e.style.visibility="hidden",e.style.display="";var s=a.animation||"fast",l=t(s);l.div=e,l.i=0,l.target=n,l.config=o,i(l)}function t(e){var t=function(){var e=[];e.time=10;var t,i=.08;t=.1;for(var a=t;1.2>a;a+=i)e.push(a),t=a;i=.03;for(var a=t;a>.8;a-=i)e.push(a),t=a;for(var a=t;1>=a;a+=i)e.push(a),t=a;return e},i=function(){var e=[];e.time=10;var t,i=.04;t=.1;for(var a=t;1>=a;a+=i)e.push(a),t=a;return e},a=function(){var e=[];e.time=10;var t,i=.08;t=.1;for(var a=t;1>=a;a+=i)e.push(a),t=a;return e},n={fast:a,slow:i,jump:t};return n[e]||(e="fast"),n[e]()}function i(e){var t=e.div,a=e[e.i],n=a*e.target.h,o;switch(e.config.vertical){case"center":o=e.target.y-(n-e.target.h)/2;break;case"top":o=e.target.y;break;case"bottom":o=e.target.y-(n-e.target.h);break;default:throw"Unexpected 'vertical' value."}var r=a*e.target.w,s;switch(e.config.horizontal){case"left":s=e.target.x;break;case"center":s=e.target.x-(r-e.target.w)/2;break;case"right":s=e.target.x-(r-e.target.w);break;default:throw"Unexpected 'horizontal' value."}var l=DayPilot.wd(),d=l.height+l.scrollTop-(o+n);0>d&&(o+=d);var c=l.width-(s+r);0>c&&(s+=c),t.style.height=n+"px",t.style.top=o+"px",t.style.width=r+"px",t.style.left=s+"px",t.style.visibility="visible",e.i++,e.i<e.length-1?setTimeout(function(e){return function(){i(e)}}(e),e.time):(t.style.width=e.target.width,t.style.height=e.target.height,t.style.top=e.target.top,t.style.left=e.target.left,"function"==typeof e.config.finished&&e.config.finished())}DayPilot.pop=e}(),DayPilot.Util={},DayPilot.Util.addClass=function(e,t){if(t&&e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.addClass(e[i],t);else{if(!e.className)return void(e.className=t);var a=new RegExp("(^|\\s)"+t+"($|\\s)");a.test(e.className)||(e.className=e.className+" "+t)}},DayPilot.Util.normalizeColor=function(e){function t(e){return e=e.replace(/[^\d,]/g,"").split(","),"#"+((1<<24)+(+e[0]<<16)+(+e[1]<<8)+ +e[2]).toString(16).slice(1)}return 0===e.indexOf("rgb")?t(e):e},DayPilot.Util.addClassToString=function(e,t){if(!e)return t;var i=new RegExp("(^|\\s)"+t+"($|\\s)");return i.test(e)?e:e+" "+t},DayPilot.Util.removeClassFromString=function(e,t){if(!e)return"";var i=new RegExp("(^|\\s)"+t+"($|\\s)");return e.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(e,t){if(e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.removeClass(e[i],t);else{var a=new RegExp("(^|\\s)"+t+"($|\\s)");e.className=e.className.replace(a," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(e){var t=[];for(var i in e)t.push(i),t.push(e[i]);return t.join("-")},DayPilot.Util.propArray=function(e,t,i){return DayPilot.list(e).map(function(e){return e[t]?e[t]:i})},DayPilot.Util.updatePropsFromArray=function(e,t,i){for(var a=0;a<i.length;a++)e[a][t]=i[a]},DayPilot.Util.copyProps=function(e,t,i){if(e)if("undefined"==typeof i)for(var a in e)"undefined"!=typeof e[a]&&(t[a]=e[a]);else for(var n=0;n<i.length;n++){var a=i[n];"undefined"!=typeof e[a]&&(t[a]=e[a])}},DayPilot.Util.firstPropValue=function(e){for(var t in e)return e[t]},DayPilot.Util.createArrayCopy=function(e,t){if(!DayPilot.isArray(e))return[];for(var i=[],a=0;a<e.length;a++){var n={};DayPilot.Util.copyProps(e[a],n,t),i.push(n)}return i},DayPilot.Util.avg=function(e,t){return(e+t)/2},DayPilot.Util.div=function(e,t,i,a,n){var o=document.createElement("div");return(t||i||a||n)&&(0>a&&(t+=a,a*=-1),0>n&&(i+=n,n*=-1),o.style.position="absolute","number"==typeof t&&(o.style.left=t+"px"),"number"==typeof i&&(o.style.top=i+"px"),"number"==typeof a&&(o.style.width=a+"px"),"number"==typeof n&&(o.style.height=n+"px")),e&&e.appendChild(o),o},DayPilot.Util.overlaps=function(e,t,i,a){return!(i>=t||e>=a)},DayPilot.Util.isMouseEvent=function(e){return navigator.msPointerEnabled&&e.pointerType?"mouse"===e.pointerType?!0:4===e.pointerType?!0:!1:!1},DayPilot.Util.mouseButton=function(e){var t={};if(e=e||window.event,"undefined"==typeof e.which)switch(e.button){case 1:t.left=!0;break;case 4:t.middle=!0;break;case 2:t.right=!0;break;case 0:t.unknown=!0}else switch(e.which){case 1:t.left=!0;break;case 2:t.middle=!0;break;case 3:t.right=!0}return t},DayPilot.Util.membersPlain=function(e){var t=DayPilot.Util.members(e,2),i=function(e){for(var t=0;t<e.length;t++){var i=e[t],a=i.name;i.obsolete&&(a+=" (obsolete)"),i.noCssOnly&&(a+=" (!cssOnly)"),i.aspnet&&(a+=" (ASP.NET)"),i.mvc&&(a+="(MVC)"),e[t]=a}};return i(t.events),i(t.methods),i(t.properties),t},DayPilot.Util.members=function(e,t){var i=DayPilot.list(),a=DayPilot.list(),n=DayPilot.list(),o=e&&e.members?e.members.obsolete:[],r=e&&e.members?e.members.noCssOnly:[],s=e&&e.members?e.members.ignore:[],l=e&&e.members&&e.members.ignoreFilter?e.members.ignoreFilter:function(){return!1};for(var d in e)if(0!==d.indexOf("$")&&0!==d.indexOf("_")&&0!==d.indexOf("number")&&0!==d.indexOf("is")&&"v"!==d&&!DayPilot.contains(s,d)&&!l(d))if(0!==d.indexOf("on"))if("function"!=typeof e[d])if("object"!=typeof e[d])n.push(d);else{var c=e[d];if(0===t){n.push(d);continue}if(c&&c.nodeType>0){n.push(d);continue}if(c instanceof DayPilot.Bubble){n.push(d);continue}if(c instanceof DayPilot.Date){n.push(d);continue}if(c instanceof DayPilot.Menu){n.push(d);continue}if(c instanceof DayPilot.Scheduler){n.push(d);continue}if(DayPilot.isArray(c)){n.push(d);continue}null===c&&n.push(d);var h=null;"number"==typeof t&&(h=t-1);for(var u=DayPilot.Util.members(c,h),f=0;f<u.events.length;f++)i.push(d+"."+u.events[f].name);for(var f=0;f<u.methods.length;f++)a.push(d+"."+u.methods[f].name);for(var f=0;f<u.properties.length;f++)n.push(d+"."+u.properties[f].name)}else a.push(d);else i.push(d);i.sort(),a.sort(),n.sort();var v=function(e){for(var t=0;t<e.length;t++){var i=e[t],a={};a.name=i,e[t]=a,DayPilot.contains(o,i)&&(a.obsolete=!0),DayPilot.contains(r,i)&&(a.noCssOnly=!0),-1!==i.indexOf("CallBack")&&(a.aspnet=!0,a.mvc=!0),-1!==i.indexOf("PostBack")&&(a.aspnet=!0),-1!==i.indexOf("Notify")&&(a.aspnet=!0,a.mvc=!0)}};return v(i),v(a),v(n),{events:i,methods:a,properties:n}},DayPilot.Util.replaceCharAt=function(e,t,i){return e.substr(0,t)+i+e.substr(t+i.length)},DayPilot.Util.evalVariable=function(str,$0S){if($0S=$0S||["object"],null===str||"undefined"==typeof str)return null;if(-1!==DayPilot.indexOf($0S,typeof str))return str;if("string"!=typeof str)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str))throw"Invalid variable name: "+str;return eval(str)},DayPilot.Util.evalFunction=function(str){if(null===str)return null;if("function"==typeof str)return str;if("string"!=typeof str)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(str))throw"Invalid function string";return eval("("+str+")")},DayPilot.Util.parseJSON=function(e){return JSON&&JSON.parse?JSON.parse(e):DayPilot.JSON.parse(e)},DayPilot.Util.isNullOrUndefined=function(e){return null===e||"undefined"==typeof e},DayPilot.Util.log=function(e){window.console&&window.console.log&&window.console.log(e)},DayPilot.Util.adiff=function(e,t,i){var a={};return a.add=[],a.remove=[],a},DayPilot.Util.workerFrom=function(e){var t=e.toString(),i=t.slice(t.indexOf("{")+1,t.lastIndexOf("};")),a=new $0X([i]),n=window.URL.createObjectURL(a);return new $0Z(n)},DayPilot.Util.monitor=function(e,t,i){var a=e[t];e[t]=function(){i.apply(e,arguments),a.apply(e,arguments)}},DayPilot.Areas={},DayPilot.Areas.attach=function(e,t,i){var i=i||{},a=i.areas,n=i.allowed||function(){return!0},o=i.offsetX||0;DayPilot.re(e,"mousemove",function(r){e.active||e.areasDisabled||!n()||DayPilot.Areas.showAreas(e,t,r,a,{offsetX:o,eventDiv:i.eventDiv})}),DayPilot.re(e,"mouseout",function(t){DayPilot.Areas.hideAreas(e,t)}),a=$14(t,a),DayPilot.list(a).each(function(a){var n=a.v||"Visible";if("Visible"===n){var r=DayPilot.Areas.createArea(e,t,a,{offsetX:o,eventDiv:i.eventDiv});e.appendChild(r)}})},DayPilot.Areas.disable=function(e){e.areasDisabled=!0,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).each(function(e){e.style.display="none"})},DayPilot.Areas.enable=function(e){e.areasDisabled=!1,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).each(function(e){e.style.display=""})};var $14=function(e,t){return DayPilot.isArray(t)||(t=e.areas,t||(e.cache?t=e.cache.areas:e.data&&(t=e.data.areas))),t};DayPilot.Areas.showAreas=function(e,t,i,a,n){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var o=0;o<DayPilot.Areas.all.length;o++){var r=DayPilot.Areas.all[o];r!==e&&DayPilot.Areas.hideAreas(r,i)}if(!e.active&&(e.active={},DayPilot.isArray(a)||(a=t.areas,a||(t.cache?a=t.cache.areas:t.data&&(a=t.data.areas))),a&&0!==a.length&&!(e.areas&&e.areas.length>0))){e.areas=[];for(var o=0;o<a.length;o++){var s=a[o],l=s.v||"Visible";if("Hover"===l){var d=DayPilot.Areas.createArea(e,t,s,n);e.areas.push(d),e.appendChild(d),DayPilot.Areas.all.push(e)}}e.active.children=DayPilot.ac(e)}}},DayPilot.Areas.createArea=function(e,t,i,a){function n(e,t,i){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(i),e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}function o(e,t,i){DayPilot.Menu&&DayPilot.Menu.touchPosition(i);var a=t.menu;"string"==typeof a?a=DayPilot.Util.evalVariable(a):e.isEvent&&e.calendar.contextMenu?a=DayPilot.Util.evalVariable(e.calendar.contextMenu):e.isRow&&e.calendar.contextMenu&&(a=DayPilot.Util.evalVariable(e.calendar.contextMenuResource)),a&&a.show&&a.show(e)}var a=a||{},r=a.offsetX||0,s=a.eventDiv||e,l=document.createElement("div");l.isActiveArea=!0,l.area=i,l.setAttribute("unselectable","on");var d=i.w||i.width,c=i.h||i.height,h=i.cssClass||i.css||i.className;if("undefined"!=typeof i.style&&l.setAttribute("style",i.style),l.style.position="absolute","undefined"!=typeof d&&(l.style.width=d+"px"),"undefined"!=typeof c&&(l.style.height=c+"px"),"undefined"!=typeof i.right&&(l.style.right=i.right+"px"),"undefined"!=typeof i.top&&(l.style.top=i.top+"px"),"undefined"!=typeof i.left&&(l.style.left=i.left+r+"px"),"undefined"!=typeof i.bottom&&(l.style.bottom=i.bottom+"px"),"undefined"!=typeof i.html&&i.html&&(l.innerHTML=i.html),h&&(l.className=h),i.backColor&&(l.style.background=i.backColor),"ResizeEnd"===i.action||"ResizeStart"===i.action||"Move"===i.action){if(t.calendar.isCalendar)switch(i.action){case"ResizeEnd":i.cursor="s-resize",i.dpBorder="bottom";break;case"ResizeStart":i.cursor="n-resize",i.dpBorder="top";break;case"Move":i.cursor="move"}if(t.calendar.isScheduler||t.calendar.isMonth)switch(i.action){case"ResizeEnd":i.cursor="e-resize",i.dpBorder="right";break;case"ResizeStart":i.cursor="w-resize",i.dpBorder="left";break;case"Move":i.cursor="move"}l.onmousemove=function(e,t,i){return function(a){var a=a||window.event;a.cancelBubble=!0,t.calendar.internal&&t.calendar.internal.dragInProgress&&t.calendar.internal.dragInProgress()||(e.style.cursor=i.cursor,i.dpBorder&&(e.dpBorder=i.dpBorder))}}(s,t,i),l.onmouseout=function(e,t,i){return function(t){e.style.cursor=""}}(s,t,i)}if(("ResizeEnd"===i.action||"ResizeStart"===i.action)&&t.isEvent&&t.calendar.internal.touch){var u=function(e,t,i){return function(a){a.cancelBubble=!0;var n=t.calendar.internal.touch,o=a.touches?a.touches[0]:a,r={x:o.pageX,y:o.pageY};t.calendar.coords=n.relativeCoords(a),n.preventEventTap=!0,t.calendar.isScheduler?n.startResizing(e,"ResizeEnd"===i.action?"right":"left"):t.calendar.isCalendar&&n.startResizing(e,"ResizeEnd"===i.action?"bottom":"top",r)}}(s,t,i);DayPilot.re(l,DayPilot.touch.start,u)}if("ContextMenu"===i.action&&t.isEvent&&t.calendar.internal.touch){var u=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault(),o(t,i,e);var a=t.calendar.internal.touch;a.preventEventTap=!0}}(s,t,i),f=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault()}}(s,t,i);DayPilot.re(l,DayPilot.touch.start,u),DayPilot.re(l,DayPilot.touch.end,f)}if("Bubble"===i.action&&t.isEvent&&t.calendar.internal.touch){var u=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault(),n(t,i,e);var a=t.calendar.internal.touch;a.preventEventTap=!0}}(s,t,i),f=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault()}}(s,t,i);DayPilot.re(l,DayPilot.touch.start,u),DayPilot.re(l,DayPilot.touch.end,f)}if("Move"===i.action&&t.isEvent&&t.calendar.internal.touch){var u=function(e,t,i){return function(i){i.cancelBubble=!0;var a=t.calendar.internal.touch,n=i.touches?i.touches[0]:i,o={x:n.pageX,y:n.pageY};t.calendar.coords=a.relativeCoords(i),a.preventEventTap=!0,a.startMoving(e,o)}}(s,t,i);DayPilot.re(l,DayPilot.touch.start,u)}if("Move"===i.action&&t.isRow&&t.calendar.internal.touch,"Bubble"===i.action&&t.isEvent&&(l.onmousemove=function(e,t,i){return function(e){t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}}(e,t,i),l.onmouseout=function(e,t,i){return function(e){"undefined"!=typeof DayPilot.Bubble&&t.calendar.bubble&&t.calendar.bubble.hideOnMouseOut()}}(e,t,i)),"HoverMenu"===i.action&&(l.onmousemove=function(e,t,i){return function(e){var a=i.menu;"string"==typeof a&&(a=DayPilot.Util.evalVariable(a)),a&&a.show&&(a.visible?a.source&&"undefined"!=typeof a.source.id&&a.source.id!==t.id&&a.show(t):a.show(t),a.cancelHideTimeout())}}(e,t,i),l.onmouseout=function(e,t,i){return function(e){var t=i.menu;"string"==typeof t&&(t=DayPilot.Util.evalVariable(t)),t&&t.hideOnMouseOver&&t.delayedHide()}}(e,t,i)),"JavaScript"===i.action){var u=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault();var i=t.calendar.internal.touch;i.start=!0}}(s,t,i),f=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault();var a=t.calendar.internal.touch;a.start=!1;var n=i.js;if("string"==typeof n&&(n=DayPilot.Util.evalFunction(i.js)),"function"==typeof n){var o=i.target||t;n.call(this,o)}}}(s,t,i);DayPilot.re(l,DayPilot.touch.start,u),DayPilot.re(l,DayPilot.touch.end,f)}return l.onmousedown=function(e,t,i){return function(a){if("function"==typeof i.onmousedown&&i.onmousedown(a),"function"==typeof i.mousedown){var n={};n.area=i,n.div=e,n.originalEvent=a,n.source=t,i.mousedown(n)}if("Move"===i.action&&t.isRow){var o=t.$.row,r=t.calendar.internal.rowtools;r.startMoving(o)}var s=!0;if(s){if("Move"===i.action||"ResizeEnd"===i.action||"ResizeStart"===i.action||!i.action)return;a=a||window.event,a.preventDefault(),a.cancelBubble=!0}}}(e,t,i),l.onclick=function(e,t,i){return function(e){var e=e||window.event;if(i.action){switch(i.action){case"JavaScript":var a=i.js;if("string"==typeof a&&(a=DayPilot.Util.evalFunction(i.js)),"function"==typeof a){var n=i.target||t;a.call(this,n)}break;case"ContextMenu":o(t,i,e);break;case"CallBack":alert("callback not implemented yet, id: "+i.id)}e.cancelBubble=!0}}}(e,t,i),l},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(e,t){if(e&&e&&e.active){var i=e.active,a=e.areas;if(i&&i.children){var t=t||window.event;if(t){var n=t.toElement||t.relatedTarget;if(~DayPilot.indexOf(i.children,n))return}}if(!a||0===a.length)return void(e.active=null);DayPilot.de(a),e.active=null,e.areas=[],DayPilot.rfa(DayPilot.Areas.all,e),i.children=null}},DayPilot.Areas.hideAll=function(e){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var t=0;t<DayPilot.Areas.all.length;t++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[t],e)
},DayPilot.Action=function(e,t,i,a){var n=this;this.calendar=e,this.isAction=!0,this.action=t,this.params=i,this.data=a,this.notify=function(){n.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){n.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){n.calendar.queue.add(this)},this.toJSON=function(){var e={};return e.name=this.action,e.params=this.params,e.data=this.data,e}},DayPilot.Selection=function(e,t,i,a){this.menuType="selection",this.start=new DayPilot.Date(e),this.end=new DayPilot.Date(t),this.resource=i,this.root=a,this.calendar=a,this.toJSON=function(e){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t}},DayPilot.Link=function(e,t){this.isLink=!0,this.data=e,this.calendar=t,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var e={};return e.from=this.data.from,e.to=this.data.to,e.id=this.data.id,e.type=this.data.type,e}},DayPilot.Args=function(){this.isArgs=!0,this.preventDefault=function(){this.preventDefault.value=!0}},DayPilot.Event=function(e,t,i){var a=this;this.calendar=t,this.data=e?e:{},this.part=i?i:{},"undefined"==typeof this.data.id&&(this.data.id=this.data.value);var n={},o=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(n.dirty)return n;for(var e=0;e<o.length;e++)n[o[e]]=a.data[o[e]];return n.dirty=!0,n},this.copy=function(){var e={};return DayPilot.Util.copyProps(a.data,e),e},this.commit=function(){if(n.dirty){for(var e=0;e<o.length;e++)a.data[o[e]]=n[o[e]];n.dirty=!1}},this.dirty=function(){return n.dirty},this.id=function(e){return"undefined"==typeof e?a.data.id:void(this.temp().id=e)},this.value=function(e){return"undefined"==typeof e?a.id():void a.id(e)},this.text=function(e){return"undefined"==typeof e?a.data.text:(this.temp().text=e,void this.client.innerHTML(e))},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(a.data.start):void(this.temp().start=new DayPilot.Date(e))},this.end=function(e){return"undefined"==typeof e?t&&t.internal.adjustEndNormalize?t.internal.adjustEndNormalize(new DayPilot.Date(a.data.end)):new DayPilot.Date(a.data.end):void(this.temp().end=new DayPilot.Date(e))},this.rawend=function(){return"undefined"==typeof $0T?t&&t.internal.adjustEndIn?t.internal.adjustEndIn(new DayPilot.Date(a.data.end)):new DayPilot.Date(a.data.end):void(this.temp().end=new DayPilot.Date($0T))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof $0T?a.data.allday:void(this.temp().allday=$0T)},this.isAllDay=this.allday,this.resource=function(e){return"undefined"==typeof e?a.data.resource:void(this.temp().resource=e)},this.recurrent=function(){return a.data.recurrent},this.recurrentMasterId=function(){return a.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return a.cache?a.cache.bubbleHtml||a.data.bubbleHtml:a.data.bubbleHtml},this.tag=function(e){if(a.data.tags)return a.data.tags[e];var t=a.data.tag;if(!t)return null;if("undefined"==typeof e)return a.data.tag;for(var i=a.calendar.tagFields,n=-1,o=0;o<i.length;o++)e===i[o]&&(n=o);if(-1===n)throw"Field name not found.";return t[n]},this.client={},this.client.innerHTML=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.html?a.cache.html:"undefined"!=typeof a.data.html?a.data.html:a.data.text:(a.data.html=e,void(a.cache&&(a.cache.html=e)))},this.client.html=this.client.innerHTML,this.client.header=function(e){return"undefined"==typeof e?a.data.header:void(a.data.header=e)},this.client.cssClass=function(e){return"undefined"==typeof e?a.data.cssClass:void(a.data.cssClass=e)},this.client.toolTip=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.toolTip?a.cache.toolTip:"undefined"!=typeof a.data.toolTip?a.data.toolTip:a.data.text:void(a.data.toolTip=e)},this.client.backColor=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.backColor?a.cache.backColor:"undefined"!=typeof a.data.backColor?a.data.backColor:a.calendar.eventBackColor:void(a.data.backColor=e)},this.client.borderColor=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.borderColor?a.cache.borderColor:"undefined"!=typeof a.data.borderColor?a.data.borderColor:a.calendar.eventBorderColor:void(a.data.borderColor=e)},this.client.barColor=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.barColor?a.cache.barColor:"undefined"!=typeof a.data.barColor?a.data.barColor:a.calendar.durationBarColor:void(a.data.barColor=e)},this.client.barVisible=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.barHidden?!a.cache.barHidden:a.calendar.durationBarVisible&&!a.data.barHidden:void(a.data.barHidden=!e)},this.client.contextMenu=function(e){if("undefined"==typeof e){if(a.oContextMenu)return a.oContextMenu;var t=a.cache?a.cache.contextMenu:a.data.contextMenu;return t?DayPilot.Util.evalVariable(t):null}a.oContextMenu=e},this.client.moveEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.moveDisabled?!a.cache.moveDisabled:"Disabled"!==a.calendar.eventMoveHandling&&!a.data.moveDisabled:void(a.data.moveDisabled=!e)},this.client.resizeEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.resizeDisabled?!a.cache.resizeDisabled:"Disabled"!==a.calendar.eventResizeHandling&&!a.data.resizeDisabled:void(a.data.resizeDisabled=!e)},this.client.rightClickEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.rightClickDisabled?!a.cache.rightClickDisabled:"Disabled"!==a.calendar.rightClickHandling&&!a.data.rightClickDisabled:void(a.data.rightClickDisabled=!e)},this.client.clickEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.clickDisabled?!a.cache.clickDisabled:"Disabled"!==a.calendar.clickHandling&&!a.data.clickDisabled:void(a.data.clickDisabled=!e)},this.client.deleteEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.deleteDisabled?!a.cache.deleteDisabled:"Disabled"!==a.calendar.eventDeleteHandling&&!a.data.deleteDisabled:void(a.data.deleteDisabled=!e)},this.client.doubleClickEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.doubleClickDisabled?!a.cache.doubleClickDisabled:"Disabled"!==a.calendar.eventDoubleClickHandling&&!a.data.doubleClickDisabled:void(a.data.doubleClickDisabled=!e)},this.client.deleteClickEnabled=function(e){return"undefined"==typeof e?a.cache&&"undefined"!=typeof a.cache.deleteDisabled?!a.cache.deleteDisabled:"Disabled"!==a.calendar.eventDeleteHandling&&!a.data.deleteDisabled:void(a.data.deleteDisabled=!e)},this.toJSON=function(e){var t={};if(t.value=this.id(),t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.resource=this.resource(),t.isAllDay=!1,t.recurrentMasterId=this.recurrentMasterId(),t.join=this.data.join,t.tag={},a.data.tags)for(var i in a.data.tags)a.data.tags.hasOwnProperty(i)&&(t.tag[i]=""+a.data.tags[i]);else if(a.calendar&&a.calendar.tagFields)for(var n=a.calendar.tagFields,o=0;o<n.length;o++)t.tag[n[o]]=this.tag(n[o]);return t}},DayPilot.Task=function(e,t){if(!e)throw"Trying to initialize DayPilot.Task with null data parameter";var i=this,a=null;if(e instanceof DayPilot.Event)a=e,this.data=e.data.task;else{if(e instanceof DayPilot.Task)return e;this.data=e.isTaskWrapper?e.data:e}var n={},o=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=t,this.temp=function(){if(n.dirty)return n;for(var e=0;e<o.length;e++)n[o[e]]=i.data[o[e]];return n.dirty=!0,n},this.copy=function(){var e={};return DayPilot.Util.copyProps(i.data,e),e},this.commit=function(){if(n.dirty){for(var e=0;e<o.length;e++)i.data[o[e]]=n[o[e]];n.dirty=!1}},this.dirty=function(){return n.dirty},this.id=function(e){return"undefined"==typeof e?i.data.id:void(this.temp().id=e)},this.text=function(e){return"undefined"==typeof e?i.data.text:(this.temp().text=e,void this.client.innerHTML(e))},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(e){return"undefined"==typeof e?t&&"Date"===t.eventEndSpec?new DayPilot.Date(i.data.end).getDatePart().addDays(1):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(e))},this.type=function(e){return"undefined"==typeof e?a?a.data.type:i.data.type:void(this.temp().type=e)},this.complete=function(e){return"undefined"==typeof e?i.data.complete?i.data.complete:0:void(this.temp().complete=e)},this.children=function(){var e=[];e.add=function(e){var t=new DayPilot.Task(e);this.data.children||(this.data.children=[]),this.children.push(t.data)};for(var i=0;this.data.children&&i<this.data.children.length;i++)e.push(new DayPilot.Task(this.data.children[i],t));return e},this.toJSON=function(e){var t={};return t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.type=this.type(),t.tags={},DayPilot.Util.copyProps(this.data.tags,t.tags),t},this.row={};var r=this.row;r.expanded=function(e){return"undefined"==typeof e?i.data.row?!i.data.row.collapsed:!0:(i.data.row||(i.data.row={}),!!i.data.row.collapsed!=!e&&t.internal.rowObjectForTaskData(i.data).toggle(),i.data.row.collapsed=!e,void 0)},r.expand=function(){r.expanded(!0)},r.collapse=function(){r.expanded(!1)},r.toggle=function(){r.expanded(!r.expanded())}},DayPilot.request=function(e,t,i,a){var n=DayPilot.createXmlHttp();n&&(n.open("POST",e,!0),n.setRequestHeader("Content-type","text/plain"),n.onreadystatechange=function(){return 4===n.readyState?200!==n.status&&304!==n.status?void(a?a(n):window.console&&console.log("HTTP error "+n.status)):void t(n):void 0},4!==n.readyState&&("object"==typeof i&&(i=DayPilot.JSON.stringify(i)),n.send(i)))},DayPilot.ajax=function(e){var t=DayPilot.createXmlHttp();if(t){var i=e.method||"GET",a=e.success||function(){},n=e.error||function(){},o=e.data,r=e.url;t.open(i,r,!0),t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status){var e={};e.request=t,a(e)}else if(n){var e={};e.request=t,n(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof o&&(o=DayPilot.JSON.stringify(o)),t.send(o))}},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Duration=function(e){var t=this,i=864e5,a=36e5,n=6e4,o=1e3;if(2===arguments.length){var r=arguments[0],s=arguments[1];if(!(r instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(s instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";this.ticks=s.getTime()-r.getTime()}else this.ticks=e;this.toString=function(e){if(!e)return t.days()+"."+t.hours()+":"+t.minutes()+":"+t.seconds()+"."+t.milliseconds();var i=t.minutes();i=(10>i?"0":"")+i;var a=e;return a=a.replace("mm",i),a=a.replace("m",t.minutes()),a=a.replace("H",t.hours()),a=a.replace("h",t.hours()),a=a.replace("d",t.days()),a=a.replace("s",t.seconds())},this.totalHours=function(){return t.ticks/a},this.totalDays=function(){return t.ticks/i},this.totalHours=function(){return t.ticks/a},this.totalMinutes=function(){return t.ticks/n},this.totalSeconds=function(){return t.ticks/o},this.days=function(){return Math.floor(t.totalDays())},this.hours=function(){var e=t.ticks-t.days()*i;return Math.floor(e/a)},this.minutes=function(){var e=t.ticks-Math.floor(t.totalHours())*a;return Math.floor(e/n)},this.seconds=function(){var e=t.ticks-Math.floor(t.totalMinutes())*n;return Math.floor(e/o)},this.milliseconds=function(){return t.ticks%o}},DayPilot.TimeSpan=function(){DayPilot.Duration.apply(this,arguments)};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(e,t){if(e instanceof DayPilot.Date)return e;var i;DayPilot.Util.isNullOrUndefined(e)&&(i=DayPilot.DateUtil.fromLocal().getTime(),e=i);var a=DayPilot.Date.Cache.Ctor;if(a[e])return DayPilot.Stats.cacheHitsCtor+=1,a[e];var n=!1;if("string"==typeof e)i=DayPilot.DateUtil.fromStringSortable(e,t).getTime(),n=!0;else if("number"==typeof e){if(isNaN(e))throw"Cannot create DayPilot.Date from NaN";i=e}else{if(!(e instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";i=t?DayPilot.DateUtil.fromLocal(e).getTime():e.getTime()}var o=ticksToSortable(i);return a[o]?a[o]:(a[o]=this,a[i]=this,n&&o!==e&&DayPilot.DateUtil.hasTzSpec(e)&&(a[e]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return i}}),Object.defineProperty(this,"value",{value:o,writable:!1,enumerable:!0})):(this.ticks=i,this.value=o),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(i)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={}},DayPilot.Date.prototype.addDays=function(e){return new DayPilot.Date(this.ticks+24*e*60*60*1e3)},DayPilot.Date.prototype.addHours=function(e){return this.addTime(60*e*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(e){return this.addTime(e)},DayPilot.Date.prototype.addMinutes=function(e){return this.addTime(60*e*1e3)},DayPilot.Date.prototype.addMonths=function(e){var t=new Date(this.ticks);if(0===e)return this;var i=t.getUTCFullYear(),a=t.getUTCMonth()+1;if(e>0){for(;e>=12;)e-=12,i++;e>12-a?(i++,a=e-(12-a)):a+=e}else{for(;-12>=e;)e+=12,i--;0>=a+e?(i--,a=12+a+e):a+=e}var n=new Date(t.getTime());n.setUTCDate(1),n.setUTCFullYear(i),n.setUTCMonth(a-1);var o=new DayPilot.Date(n).daysInMonth();return n.setUTCDate(Math.min(o,t.getUTCDate())),new DayPilot.Date(n)},DayPilot.Date.prototype.addSeconds=function(e){return this.addTime(1e3*e)},DayPilot.Date.prototype.addTime=function(e){return new DayPilot.Date(this.ticks+e)},DayPilot.Date.prototype.addYears=function(e){var t=new Date(this.ticks),i=new Date(this.ticks),a=this.getYear()+e,n=this.getMonth();i.setUTCDate(1),i.setUTCFullYear(a),i.setUTCMonth(n);var o=new DayPilot.Date(i).daysInMonth();return i.setUTCDate(Math.min(o,t.getUTCDate())),new DayPilot.Date(i)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var e=new Date(this.ticks),t=e.getUTCMonth()+1,i=e.getUTCFullYear(),a=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==t?a[t-1]:i%4!==0?a[1]:i%100===0&&i%400!==0?a[1]:a[1]+1},DayPilot.Date.prototype.daysInYear=function(){var e=this.getYear();return e%4!==0?365:e%100===0&&e%400!==0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(e){if(null===e)return!1;if(e instanceof DayPilot.Date)return this===e;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var e=new Date;return e.setUTCFullYear(this.getYear(),this.getMonth(),1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfYear=function(){var e=this.getYear(),t=new Date;return t.setUTCFullYear(e,0,1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfWeek=function(e){for(var t=this,e=e||0,i=t.dayOfWeek();i!==e;)t=t.addDays(-1),i=t.dayOfWeek();return new DayPilot.Date(t)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var e=new Date(this.ticks);return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var e=this.getDatePart();return DayPilot.DateUtil.diff(this,e)},DayPilot.Date.prototype.lastDayOfMonth=function(){var e=new Date(this.firstDayOfMonth().getTime()),t=this.daysInMonth();return e.setUTCDate(t),new DayPilot.Date(e)},DayPilot.Date.prototype.weekNumber=function(){var e=this.firstDayOfYear(),t=(this.getTime()-e.getTime())/864e5;return Math.ceil((t+e.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var e=!1,t=this.dayOfYear(),i=this.firstDayOfYear().dayOfWeek(),a=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===i&&(i=7),0===a&&(a=7);var n=8-i;(4===i||4===a)&&(e=!0);var o=Math.ceil((t-n)/7),r=o;return n>=4&&(r+=1),r>52&&!e&&(r=1),0===r&&(r=this.firstDayOfYear().addDays(-1).weekNumberISO()),r},DayPilot.Date.prototype.toDateLocal=function(){var e=new Date(this.ticks),t=new Date;return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours()),t.setMinutes(e.getUTCMinutes()),t.setSeconds(e.getUTCSeconds()),t.setMilliseconds(e.getUTCMilliseconds()),t},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(e,t){return"undefined"==typeof e?this.toStringSortable():new $29(e,t).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return ticksToSortable(this.ticks)},DayPilot.Date.parse=function(e,t,i){var a=new $29(t,i);return a.parse(e)};var $2b=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(e,t,i){t=t||1,i=i||1;var a=new Date(0);return a.setUTCFullYear(e),a.setUTCMonth(t-1),a.setUTCDate(i),new DayPilot.Date(a)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(e,t){if(!e)throw"Can't create DayPilot.Date from an empty string";var i=e.length,a=10===i,n=19===i,o=i>19;if(!a&&!n&&!o)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+e;if(DayPilot.Date.Cache.Parsing[e]&&!t)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[e];var r=e.substring(0,4),s=e.substring(5,7),l=e.substring(8,10),d=new Date(0);if(d.setUTCFullYear(r,s-1,l),a)return DayPilot.Date.Cache.Parsing[e]=d,d;var c=e.substring(11,13),h=e.substring(14,16),u=e.substring(17,19);if(d.setUTCHours(c),d.setUTCMinutes(h),d.setUTCSeconds(u),n)return DayPilot.Date.Cache.Parsing[e]=d,d;var f=e[19],v=0;if("."===f){var p=parseInt(e.substring(20,23));d.setUTCMilliseconds(p),v=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23))}else v=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));var g=new DayPilot.Date(d);return t||(g=g.addMinutes(-v)),d=g.toDate(),DayPilot.Date.Cache.Parsing[e]=d,d},DayPilot.DateUtil.getTzOffsetMinutes=function(e){if(DayPilot.Util.isNullOrUndefined(e)||""===e)return 0;if("Z"===e)return 0;var t=e[0],i=parseInt(e.substring(1,3)),a=parseInt(e.substring(4)),n=60*i+a;if("-"===t)return-n;if("+"===t)return n;throw"Invalid timezone spec: "+e},DayPilot.DateUtil.hasTzSpec=function(e){return e.indexOf("+")?!0:e.indexOf("-")?!0:!1},DayPilot.DateUtil.daysDiff=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new DayPilot.Date(e),t=new DayPilot.Date(t),e.getTime()>t.getTime())return null;for(var i=0,a=e.getDatePart(),n=t.getDatePart();n>a;)a=a.addDays(1),i++;return i},DayPilot.DateUtil.daysSpan=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new DayPilot.Date(e),t=new DayPilot.Date(t),e===t)return 0;var i=DayPilot.DateUtil.daysDiff(e,t);return t==t.getDatePart()&&i--,i},DayPilot.DateUtil.diff=function(e,t){if(!(e&&t&&e.getTime&&t.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return e.getTime()-t.getTime()},DayPilot.DateUtil.fromLocal=function(e){e||(e=new Date);var t=new Date;return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours()),t.setUTCMinutes(e.getMinutes()),t.setUTCSeconds(e.getSeconds()),t.setUTCMilliseconds(e.getMilliseconds()),t},DayPilot.DateUtil.localToday=function(){var e=new Date;return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e},DayPilot.DateUtil.hours=function(e,t){var i=e.getUTCMinutes();10>i&&(i="0"+i);var a=e.getUTCHours();if(t){var n=12>a,a=a%12;0===a&&(a=12);var o=n?"AM":"PM";return a+":"+i+" "+o}return a+":"+i},DayPilot.DateUtil.max=function(e,t){return e.getTime()>t.getTime()?e:t},DayPilot.DateUtil.min=function(e,t){return e.getTime()<t.getTime()?e:t};var $29=function(e,t){"string"==typeof t&&(t=DayPilot.Locale.find(t));var t=t||DayPilot.Locale.US,i=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(e){return e.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(e){return e.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(e){var t=e.getMinutes();return 10>t?"0"+t:t}},{seq:"m",expr:"[0-9]{1,2}",str:function(e){var t=e.getMinutes();return t}},{seq:"HH",expr:"[0-9]{2,2}",str:function(e){var t=e.getHours();return 10>t?"0"+t:t}},{seq:"H",expr:"[0-9]{1,2}",str:function(e){var t=e.getHours();return t}},{seq:"hh",expr:"[0-9]{2,2}",str:function(e){var t=e.getHours(),t=t%12;0===t&&(t=12);var i=t;return 10>i?"0"+i:i}},{seq:"h",expr:"[0-9]{1,2}",str:function(e){var t=e.getHours(),t=t%12;return 0===t&&(t=12),t}},{seq:"tt",expr:"(AM|PM)",str:function(e){var t=e.getHours(),i=12>t;return i?"AM":"PM"}},{seq:"ss",expr:"[0-9]{2,2}",str:function(e){var t=e.getSeconds();return 10>t?"0"+t:t}},{seq:"s",expr:"[0-9]{1,2}",str:function(e){var t=e.getSeconds();return t}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(e){var i=t.monthNames[e.getMonth()];return i},transform:function(e){var i=DayPilot.indexOf(t.monthNames,e,equalsIgnoreCase);return 0>i?null:i+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(e){var i=t.monthNamesShort[e.getMonth()];return i},transform:function(e){var i=DayPilot.indexOf(t.monthNamesShort,e,equalsIgnoreCase);return 0>i?null:i+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(e){var t=e.getMonth()+1;return 10>t?"0"+t:t}},{seq:"M",expr:"[0-9]{1,2}",str:function(e){var t=e.getMonth()+1;return t}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(e){var i=t.dayNames[e.getDayOfWeek()];return i}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(e){var i=t.dayNamesShort[e.getDayOfWeek()];return i}},{seq:"dd",expr:"[0-9]{2,2}",str:function(e){var t=e.getDay();return 10>t?"0"+t:t}},{seq:"%d",expr:"[0-9]{1,2}",str:function(e){var t=e.getDay();return t}},{seq:"d",expr:"[0-9]{1,2}",str:function(e){var t=e.getDay();return t}}],a=function(e){return e.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s")},this.findSequence=function(t){function n(e){return parseInt(e)}var o=e.indexOf(t);return-1===o?null:{findValue:function(o){for(var r=a(e),s=null,l=0;l<i.length;l++){var d=i[l].length,c=t===i[l].seq,h=i[l].expr;c&&(h="("+h+")",s=i[l].transform),r=r.replace(i[l].seq,h)}r="^"+r+"$";try{var u=new RegExp(r),f=u.exec(o);return f?(s=s||n)(f[1]):null}catch(v){throw"unable to create regex from: "+r}}}},this.print=function(t){for(var a=function(e){for(var t=0;t<i.length;t++)if(i[t]&&i[t].seq===e)return i[t];return null},n=e.length<=0,o=0,r=[];!n;){var s=e.substring(o),l=/%?(.)\1*/.exec(s);if(l&&l.length>0){var d=l[0],c=a(d);r.push(c?c:d),o+=d.length,n=e.length<=o}else n=!0}for(var h=0;h<r.length;h++){var u=r[h];"string"!=typeof u&&(r[h]=u.str(t))}return r.join("")},this.parse=function(e){var t=this.year.findValue(e);if(!t)return null;var i=this.month.findValue(e);if(DayPilot.Util.isNullOrUndefined(i))return null;if(i>12||1>i)return null;var a=this.day.findValue(e),n=DayPilot.Date.fromYearMonthDay(t,i).daysInMonth();if(1>a||a>n)return null;var o=this.hours?this.hours.findValue(e):0,r=this.minutes?this.minutes.findValue(e):0,s=this.seconds?this.seconds.findValue(e):0,l=new Date;return l.setUTCFullYear(t,i-1,a),l.setUTCHours(o),l.setUTCMinutes(r),l.setUTCSeconds(s),l.setUTCMilliseconds(0),new DayPilot.Date(l)},this.init()};DayPilot.Canvas=function(e,t,i,a){var a=a||1,n=document.createElement("canvas");n.width=e*a,n.height=t*a;var o=n.getContext("2d");o.scale(a,a),this.defaultFileName="image.png","image/jpeg"===i&&(this.defaultFileName="image.jpg"),this.fillRect=function(e,t){o.save(),o.strokeStyle="rgb(0,0,0,0)",o.fillStyle=t,o.fillRect(e.x+.5,e.y+.5,e.w-.5,e.h-.5),o.restore()},this.rect=function(e,t){o.save(),o.strokeStyle=t,o.beginPath(),o.rect(e.x+.5,e.y+.5,e.w-1,e.h-1),o.stroke(),o.restore()},this.text=function(e,t,i,a,n,r){n=n||"left",r=r||0,a=a||"#000",o.save();var s=DayPilot.browser.ff?3:0,l=parseInt(i.size);s+=.2*l,s+=DayPilot.browser.chrome?1:0,s+=DayPilot.browser.ie?1:0,o.rect(e.x+.5+r,e.y+.5+r,e.w-1-r,e.h-1-r),o.clip(),o.fillStyle=a,o.font=i.style+" "+i.size+" "+i.family,o.textBaseline="top",o.textAlign=n;var d=e.x;switch(n){case"center":d+=e.w/2;break;case"right":d+=e.w}var c=0;d+=c,o.fillText(t,d+r,e.y+c+r+s),o.restore()},this.line=function(e,t,i,a,n){o.save(),o.lineWidth=1,o.strokeStyle=n,o.beginPath(),o.moveTo(e+.5,t+.5),o.lineTo(i+.5,a+.5),o.stroke(),o.restore()},this.image=function(e,t){if(t){if("string"==typeof t){var i=t,t=document.createElement("img");if(0!==i.indexOf("data:"))return t.onload=function(){o.save(),o.drawImage(t,e.x,e.y),o.restore()},void(t.src=i);t.src=i}o.save(),o.drawImage(t,e.x,e.y),o.restore()}},this.getWidth=function(){return n.width},this.getHeight=function(){return n.height},this.getElement=function(){return n},this.getSource=function(){return"<img src='"+n.toDataURL(i)+"' />"},this.getDataUri=function(){return n.toDataURL(i)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return n.msToBlob?n.msToBlob():new $0X([this.getSource(i)])}},DayPilot.Svg=function(e,t){function i(e,t){var i=null;if("string"==typeof e){if(0===e.indexOf("data:")){var a={};a.dataUri=e,t(a)}i=e}else i=e.src;var e=document.createElement("img");e.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0);var i={};i.dataUri=e.toDataURL("image/png"),t(i)},e.src=i}var a="http://www.w3.org/2000/svg",n=document.createElementNS(a,"svg");n.outerHTML&&n.setAttribute("xmlns",a),n.setAttribute("viewBox","0 0 "+e+" "+t),this.defaultFileName="image.svg",this.fillRect=function(e,t){var i=document.createElementNS(a,"rect");i.setAttribute("x",e.x+.5),i.setAttribute("y",e.y+.5),i.setAttribute("width",e.w-1),i.setAttribute("height",e.h-1),i.setAttribute("fill",t),n.appendChild(i)},this.rect=function(e,t){var i=document.createElementNS(a,"rect");i.setAttribute("x",e.x+.5),i.setAttribute("y",e.y+.5),i.setAttribute("width",e.w-1),i.setAttribute("height",e.h-1),i.setAttribute("stroke",t),i.setAttribute("stroke-width","1"),i.setAttribute("fill","transparent"),n.appendChild(i)},this.text=function(e,t,i,o,r,s){var r=r||"left",s=s||0,l=3,d=e.x,c="start";switch(r){case"center":d+=e.w/2,c="middle";break;case"right":d+=e.w,c="end"}var h=document.createElementNS(a,"clipPath");h.id="clip"+DayPilot.guid();var u=document.createElementNS(a,"rect");u.setAttribute("x",e.x),u.setAttribute("y",e.y),u.setAttribute("width",e.w),u.setAttribute("height",e.h),h.appendChild(u),n.appendChild(h);var f=document.createElementNS(a,"text");f.setAttribute("fill",o),f.setAttribute("font-family",i.family),f.setAttribute("font-size",i.size),f.setAttribute("font-style",i.style),f.setAttribute("x",d+s),f.setAttribute("y",e.y+s+l),f.setAttribute("dy","1em"),f.setAttribute("text-anchor",c),f.setAttribute("clip-path","url(#"+h.id+")");var v=document.createTextNode(t);f.appendChild(v),n.appendChild(f)},this.line=function(e,t,i,o,r){var s=document.createElementNS(a,"line");s.setAttribute("x1",e+.5),s.setAttribute("y1",t+.5),s.setAttribute("x2",i+.5),s.setAttribute("y2",o+.5),s.setAttribute("stroke",r),n.appendChild(s)},this.image=function(e,t){function o(t){var i="http://www.w3.org/1999/xlink",o=document.createElementNS(a,"image");o.setAttributeNS(i,"href",t.dataUri),o.setAttribute("x",e.x),o.setAttribute("y",e.y),o.setAttribute("width",e.w),o.setAttribute("height",e.h),n.appendChild(o)}i(t,o)},this.getWidth=function(){return e},this.getHeight=function(){return t},this.getElement=function(){return n},this.getSource=function(){if(n.outerHTML)return n.outerHTML;var e=document.createElement("div"),t=n.cloneNode(!0);return e.appendChild(t),e.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new $0X([this.getSource()])}},DayPilot.Excel=function(){var e=this,t=null,i=null,a=null,n={};n.xmlns="urn:schemas-microsoft-com:office:spreadsheet",n.o="urn:schemas-microsoft-com:office:office",n.x="urn:schemas-microsoft-com:office:excel",n.ss="urn:schemas-microsoft-com:office:spreadsheet",n.html="http://www.w3.org/TR/REC-html40",this.init=function(){t=document.implementation.createDocument(n.xmlns,"Workbook",null),t.documentElement.setAttribute("xmlns:o",n.o),t.documentElement.setAttribute("xmlns:x",n.x),t.documentElement.setAttribute("xmlns:ss",n.ss),t.documentElement.setAttribute("xmlns:html",n.html);var o=t.createElement("x:ExcelWorkbook");t.documentElement.appendChild(o),i=t.createElement("ss:Styles"),t.documentElement.appendChild(i),a=e.styles.create(),a.setId("Default"),a.setName("Normal")},this.worksheets=[],this.worksheets.create=function(t){var i=e.el(n.ss,"Worksheet"),a=new o(i);return a.setName(t),this.push(a),a},this.styles=[],this.styles.create=function(e){var a=t.createElement("ss:Style");i.appendChild(a);var n=new r(a);return this.push(n),n},this.styles.getDefault=function(){return a},this.el=function(e,i){var a=t.createElementNS(e,i);return t.documentElement.appendChild(a),a},this.getSource=function(){var e=new XMLSerializer,i=e.serializeToString(t);return'<?xml version="1.0"?>'+i},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return t},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new $0X([this.getSource()])};var o=function(e){var i=t.createElement("Table");e.appendChild(i);var a=t.createElement("x:WorksheetOptions");e.appendChild(a),this.rows=[],this.setName=function(t){e.setAttribute("ss:Name",t)},this.cell=function(e,a){for(;a>=this.rows.length;){var o=t.createElement("Row");
i.appendChild(o),this.rows.push(new n(o))}var r=this.rows[a];return r.cell(e)},this.enableGridlines=function(e){var i=DayPilot.list(a.childNodes).find(function(e){return"x:DoNotDisplayGridlines"===e.tagName});if(!i&&!e){var n=t.createElement("x:DoNotDisplayGridlines");a.appendChild(n)}i&&e&&a.removeChild(i)};var n=function(e){this.cells=[],this.getElement=function(){return e},this.cell=function(a){for(;a>=this.cells.length;){var n=t.createElement("Cell");e.appendChild(n),this.cells.push(new i(n))}return this.cells[a]};var i=function(e){this.setText=function(i){var a=t.createElement("Data");a.setAttribute("ss:Type","String");var n=t.createTextNode(i);for(a.appendChild(n);e.firstChild;)e.removeChild(e.firstChild);return e.appendChild(a),this},this.setColspan=function(t){return t>1?e.setAttribute("ss:MergeAcross",t-1):e.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(t){return t>1?e.setAttribute("ss:MergeDown",t-1):e.removeAttribute("ss:MergeDown"),this},this.setStyle=function(t){if(!(t instanceof r))throw"Invalid argument, Style expected";return e.setAttribute("ss:StyleID",t.getId()),this}}}},r=function(e){var i=DayPilot.guid();e.setAttribute("ss:ID",i);var a=t.createElement("ss:Alignment");e.appendChild(a);var n=t.createElement("ss:Interior");e.appendChild(n);var o=t.createElement("ss:Borders");e.appendChild(o),this.setHorizontalAlignment=function(e){a.setAttribute("ss:Horizontal",e)},this.setVerticalAlignment=function(e){a.setAttribute("ss:Vertical",e)},this.setBackColor=function(e){var t=DayPilot.Util.normalizeColor(e);n.setAttribute("ss:Color",t),n.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(e){function i(e,i){var a=t.createElement("ss:Border");return a.setAttribute("ss:Position",e),a.setAttribute("ss:LineStyle","Continuous"),a.setAttribute("ss:Color",DayPilot.Util.normalizeColor(i)),a}this.clearBorders();var a=i("Left",e);o.appendChild(a);var n=i("Right",e);o.appendChild(n);var r=i("Top",e);o.appendChild(r);var s=i("Bottom",e);o.appendChild(s)},this.clearBorders=function(){for(;o.firstChild;)o.removeChild(o.firstChild)},this.getId=function(){return i},this.setId=function(t){i=t,e.setAttribute("ss:ID",i)},this.setName=function(t){e.setAttribute("ss:Name",t)}};this.init()},DayPilot.Locale=function(e,t){if(this.id=e,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,t)for(var i in t)this[i]=t[i]},DayPilot.Locale.all={},DayPilot.Locale.find=function(e){if(!e)return null;var t=e.toLowerCase();return t.length>2&&(t=DayPilot.Util.replaceCharAt(t,2,"-")),DayPilot.Locale.all[t]},DayPilot.Locale.register=function(e){DayPilot.Locale.all[e.id]=e},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","sá."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","mércores","xoves","venres","sábado"],dayNamesShort:["do","lu","ma","mé","xo","ve","sá"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["sø","må","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["N","Pn","Wt","Śr","Cz","Pt","So"],monthNames:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","št","pi","so"],monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sö","må","ti","on","to","fr","lö"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(e){function t(e,t,a){var n={};n.start=e,n.end=t,n.day=a,n.target=i.active.control,n.preventDefault=function(){this.preventDefault.value=!0};var o=i.$3Z;o&&o.start===n.start&&o.end===n.end&&o.day===n.day&&o.target===n.target||(i.$3Z=n,"function"==typeof i.onChange&&(i.onChange(n),n.preventDefault.value)||"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(n),n.preventDefault.value)||(i.active.sendNavigate(i.day),"function"==typeof i.onChanged&&i.onChanged(n),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(n)))}var i=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=new DayPilot.Date,this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(e){var t=i.navigator.control;t&&(t.selectMode=e,t.select(i.day))},this.addView=function(e,t){var a;if("string"==typeof e){if(a=document.getElementById(e),!a)throw"Element not found: "+e}else a=e;var n=a,o={};return o.isView=!0,o.id=n.id,o.control=n,o.options=t||{},o.hide=function(){n.hide?n.hide():n.nav&&n.nav.top?n.nav.top.style.display="none":n.style.display="none"},o.sendNavigate=function(e){var t=function(){return n.backendUrl?!0:"function"==typeof WebForm_DoCallback&&n.uniqueID?!0:!1}();t?n.commandCallBack&&n.commandCallBack("navigate",{day:e}):(n.startDate=e,n.update())},o.show=function(){i.$3V(),n.show?n.show():n.nav&&n.nav.top?n.nav.top.style.display="":n.style.display=""},o.selectMode=function(){if(o.options.navigatorSelectMode)return o.options.navigatorSelectMode;if(n.isCalendar)switch(n.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(n.isMonth)switch(n.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(o),o},this.addTrigger=function(e,t){var a;if("string"==typeof e){if(a=document.getElementById(e),!a)throw"Element not found: "+e}else a=e;var n=this.$3W(t);n||(n=this.addView(t));var o={};return o.isTrigger=!0,o.element=a,o.id=a.id,o.view=n,o.onClick=function(e){i.show(o),i.$3X(o),e=e||window.event,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},DayPilot.re(a,"click",o.onClick),this.triggers.push(o),o},this.addButton=this.addTrigger,this.select=function(e){var t=this.$3Y(e);t?t.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.$3Y=function(e){for(var t=0;t<this.triggers.length;t++){var i=this.triggers[t];if(i.id===e)return i}return null},this.$3X=function(e){if(this.selectedClass){for(var t=0;t<this.triggers.length;t++){var i=this.triggers[t];DayPilot.Util.removeClass(i.element,this.selectedClass)}DayPilot.Util.addClass(e.element,this.selectedClass)}},this.addNavigator=function(e){i.navigator.control=e,e.timeRangeSelectedHandling="JavaScript",e.onTimeRangeSelected=function(){var a,n,o;if(1===e.api)a=arguments[0],n=arguments[1],o=arguments[2];else{var r=arguments[0];a=r.start,n=r.end,o=r.day}i.day=o,t(a,n,o)}},this.show=function(e){var t,a;if(e.isTrigger)a=e,t=a.view;else if(t=e.isView?e:this.$3W(e),this.active===t)return;if(i.onSelect){var n={};n.source=a?a.element:null,n.target=t.control,i.onSelect(n)}this.active=t,t.show();var o=t.selectMode();i.navigator.updateMode(o)},this.$3W=function(e){for(var t=0;t<this.views.length;t++)if(this.views[t].control===e)return this.views[t];return null},this.$3V=function(){for(var e=0;e<this.views.length;e++)this.views[e].hide()},this.events={},this.events.load=function(e,t,a){if(!i.active||!i.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";i.active.control.events.load(e,t,a)},this.$3Z=null,this.$40=function(){if(e)for(var t in e)"triggers"===t?DayPilot.list(e.triggers).each(function(e){i.addTrigger(e.id,e.view)}):"navigator"===t?i.addNavigator(e.navigator):i[t]=e[t]},this.$40()},function(){if(!DayPilot.Global.defaultCss){var e=DayPilot.sheet();e.add(".bubble_default_main","cursor: default;"),e.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),e.add(".calendar_default_main","border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #666;background: #eee;"),e.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #999;"),e.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),e.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),e.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),e.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),e.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),e.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),e.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),e.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),e.add(".calendar_default_event","cursor: default;"),e.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),e.add(".calendar_default_shadow_inner","background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),e.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),e.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),e.add(".calendar_default_now","background-color: red;"),e.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),e.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),e.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),e.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),e.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),e.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),e.add(".menu_default_main a span","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),e.add(".menu_default_main a:hover",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),e.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),e.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),e.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),e.add(".month_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;"),e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),e.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),e.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),e.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),e.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;"),e.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),e.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),e.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),e.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),e.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),e.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),e.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),e.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),e.add(".navigator_default_main","border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;"),e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),e.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),e.add(".navigator_default_day","color: black;"),e.add(".navigator_default_weekend","background-color: #f0f0f0;"),e.add(".navigator_default_dayheader","color: black;"),e.add(".navigator_default_line","border-bottom: 1px solid #A0A0A0;"),e.add(".navigator_default_dayother","color: gray;"),e.add(".navigator_default_todaybox","border: 1px solid red;"),e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");'),e.add(".navigator_default_busy","font-weight: bold;"),e.add(".navigator_default_cell","text-align: center;"),e.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),e.add(".navigator_default_title","text-align: center;"),e.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),e.add(".navigator_default_dayheader","text-align: center;"),e.add(".navigator_default_weeknumber","text-align: center;"),e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),e.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),e.add(".scheduler_default_timeheader","cursor: default;color: #666;"),e.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #666;background: #eee;"),e.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #666;background: #eee;"),e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),e.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),e.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),e.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),e.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #aaa;"),e.add(".scheduler_default_divider_horizontal","background-color: #aaa;"),e.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),e.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),e.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),e.add(".scheduler_default_resourcedivider","background-color: #aaa;"),e.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".scheduler_default_event","font-size:12px;color:#666;"),e.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".scheduler_default_columnheader_inner","font-weight: bold;"),e.add(".scheduler_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),e.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),e.add(".scheduler_default_cell","background-color: #f9f9f9;"),e.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),e.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),e.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),e.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),e.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),e.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white;"),e.add(".scheduler_default_rowheader textarea","padding: 3px;"),e.add(".scheduler_default_rowheader_scroll","cursor: default;"),e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),e.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),e.add(".gantt_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),e.add(".gantt_default_timeheader","cursor: default;color: #666;"),e.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #666;background: #eee;"),e.add(".gantt_default_rowheader,.gantt_default_corner","color: #666;background: #eee;"),e.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),e.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),e.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),e.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),e.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),e.add(".gantt_default_divider_horizontal","background-color: #aaa;"),e.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),e.add(".gantt_default_matrix_vertical_break","background-color: #000;"),e.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),e.add(".gantt_default_resourcedivider","background-color: #aaa;"),e.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".gantt_default_event","font-size:12px;color:#666;"),e.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".gantt_default_columnheader_inner","font-weight: bold;"),e.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),e.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),e.add(".gantt_default_cell","background-color: #f9f9f9;"),e.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;"),e.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),e.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),e.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:$3x.Microsoft.Matrix($3y='auto expand',$3z=0.7071067811865476,$3A=-0.7071067811865475,$3B=0.7071067811865475,$3C=0.7071067811865476);\""),e.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),e.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),e.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".gantt_default_header_icon:hover","background-color: #ccc;"),e.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),e.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),e.add(".gantt_default_rowheader textarea","padding: 5px;"),e.add(".gantt_default_rowheader_scroll","cursor: default;"),e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),e.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),e.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),e.add(".kanban_default_timeheader","cursor: default;color: #666;"),e.add(".kanban_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".kanban_default_colheadercell","color: #666;background: #eee;"),e.add(".kanban_default_rowheader,.kanban_default_corner","color: #666;background: #eee;"),e.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),e.add(".kanban_default_colheadercell","text-align: center;"),e.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),e.add(".kanban_default_divider, .kanban_default_splitter","background-color: #aaa;"),e.add(".kanban_default_divider_horizontal","background-color: #aaa;"),e.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),e.add(".kanban_default_matrix_vertical_break","background-color: #000;"),e.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),e.add(".kanban_default_rowheaderdivider","background-color: #aaa;"),e.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".kanban_default_card","font-size:12px;color:#666;"),e.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".kanban_default_cell","background-color: #fff;"),e.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".kanban_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".kanban_default_header_icon:hover","background-color: #ccc;"),e.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),e.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),e.add(".kanban_default_rowheader textarea","padding: 3px;"),e.add(".kanban_default_rowheader_scroll","cursor: default;"),e.add(".kanban_default_card_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),e.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),e.add(".kanban_default_cell","background-color: #fff;"),e.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),e.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),e.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),e.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),e.add(".kanban_default_swimlane_collapse:before","content: '^';"),e.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),e.add(".kanban_default_swimlane_expand:before","content: '>';"),e.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_columnmove_position","background-color: #333;"),e.commit(),DayPilot.Global.defaultCss=!0
}}();var $3D=function(e){var t=this;this.id=e,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var i;if(!e)throw"error: id not provided";if("string"==typeof e)i=document.getElementById(e);else{if(!e.appendChild)throw"error: invalid object provided";i=e}this.div=i,this.blocks=[];for(var a=0;a<this.widths.length;a++){var n=document.createElement("div");n.style.display="inline-block",n.style.height=null!==t.height?t.height+"px":"100%",n.style.width=this.widths[a]-this.splitterWidth+"px",n.style.overflow="hidden",n.style.verticalAlign="top",n.style.position="relative",n.setAttribute("unselectable","on"),n.className=this.css.title,i.appendChild(n);var o=document.createElement("div");o.innerHTML=this.titles[a],o.setAttribute("unselectable","on"),o.className=this.css.titleInner,n.appendChild(o);var r=document.createElement("div");r.style.display="inline-block",r.style.height=null!==t.height?t.height+"px":"100%",r.style.width=this.splitterWidth+"px",r.style.position="relative",r.appendChild(document.createElement("div")),r.style.cursor="col-resize",r.setAttribute("unselectable","on"),r.className=this.css.splitter;var s={};s.index=a,s.width=this.widths[a],r.data=s,r.onmousedown=function(e){t.drag.start=DayPilot.page(e),t.drag.data=this.data,t.div.style.cursor="col-resize",e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1},i.appendChild(r);var l={};l.section=n,l.handle=r,this.blocks.push(l)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var e=0;e<this.blocks.length;e++){var t=this.blocks[e],i=this.widths[e];t.handle.data.width=i,this.$41(e)}},this.$41=function(e){var t=this.blocks[e],i=this.widths[e];t.section.style.width=i-this.splitterWidth+"px"},this.totalWidth=function(){for(var e=0,t=0;t<this.widths.length;t++)e+=this.widths[t];return e},this.gMouseMove=function(e){if(t.drag.start){var i=t.drag.data,a=DayPilot.page(e),n=a.x-t.drag.start.x,o=i.index;t.widths[o]=Math.max(5,i.width+n),t.$41(o);var r={};r.widths=this.widths,r.index=i.index,t.updating(r)}},this.gMouseUp=function(e){if(t.drag.start){t.drag.start=null,document.body.style.cursor="",t.div.style.cursor="";var i=t.drag.data;i.width=t.widths[i.index];var a={};a.widths=this.widths,a.index=i.index,t.updated(a)}},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=$3D}}(),DayPilot.JSON={},function(){function f(e){return 10>e?"0"+e:e}function quote(e){return $3I.lastIndex=0,$3I.test(e)?'"'+e.replace($3I,function(e){var t=$3L[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,a,n,o,r=$3J,s,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&!l.ignoreToJSON&&(l=l.toJSON(e)),"function"==typeof $3M&&(l=$3M.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if($3J+=$3K,s=[],"number"==typeof l.length&&!l.propertyIsEnumerable("length")){for(o=l.length,i=0;o>i;i+=1)s[i]=str(i,l)||"null";return n=0===s.length?"[]":$3J?"[\n"+$3J+s.join(",\n"+$3J)+"\n"+r+"]":"["+s.join(",")+"]",$3J=r,n}if($3M&&"object"==typeof $3M)for(o=$3M.length,i=0;o>i;i+=1)a=$3M[i],"string"==typeof a&&(n=str(a,l),n&&s.push(quote(a)+($3J?": ":":")+n));else for(a in l)Object.hasOwnProperty.call(l,a)&&(n=str(a,l),n&&s.push(quote(a)+($3J?": ":":")+n));return n=0===s.length?"{}":$3J?"{\n"+$3J+s.join(",\n"+$3J)+"\n"+r+"}":"{"+s.join(",")+"}",$3J=r,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$3I=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$3J,$3K,$3L={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},$3M;DayPilot.JSON.stringify=function(e,t,i){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e,t,i);var a;if($3J="",$3K="","number"==typeof i)for(a=0;i>a;a+=1)$3K+=" ";else"string"==typeof i&&($3K=i);if($3M=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})},DayPilot.JSON.parse=function($02,$3S){function walk(e,t){var i,a,n=e[t];if(n&&"object"==typeof n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a=walk(n,i),void 0!==a?n[i]=a:delete n[i]);return $3S.call(e,t,n)}var j;if($02=String($02),cx.lastIndex=0,cx.test($02)&&($02=$02.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{};\s]*$/.test($02.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+$02+")"),"function"==typeof $3S?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotBubble)var DayPilotBubble=DayPilot.BubbleVisible={};if(function(){if("undefined"==typeof DayPilot.Bubble){var e={};e.mouseMove=function(t){if("undefined"!=typeof e){e.mouse=e.mousePosition(t);var i=e.active;if(i&&i.$T.showPosition){var a=i.$T.showPosition,n=e.mouse;a.clientX!==n.clientX||a.clientY!==n.clientY}}},e.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i.clientX=t.clientX,i.clientY=t.clientY,i},e.mousePosition=function(e){var t=DayPilot.page(e);return e&&(t.clientY=e.clientY,t.clientX=e.clientX),t},DayPilot.Bubble=function(t){this.v="2130";var i=this,a={};if(this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.$T=function(){},this.callBack=function(e){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(e),this.updateView,this,this.callbackError,!0):e.calendar.internal.bubbleCallBack?e.calendar.internal.bubbleCallBack(e,this):e.calendar.bubbleCallBack(e,this)},this.callbackError=function(e,t){alert(e)},this.updateView=function(t,n){if(i!==n)throw"Callback object mismatch (internal error)";return t?(e.active=i,void(i&&(a.div&&(a.div.firstChild.innerHTML=t),i.adjustPosition(),i.animated||i.addShadow()))):(i.removeDiv(),void i.removeShadow())},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(t,i){var a=new e.CallBackArgs(t.calendar||t.root,"Event",t,t.bubbleHtml?t.bubbleHtml():null);i?this.show(a):this.showOnMouseOver(a)},this.showCell=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Cell",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showTime=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Time",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showResource=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Resource",t,t.bubbleHtml?t.bubbleHtml():null);this.showOnMouseOver(i)},this.showHtml=function(t,i){var a=new e.CallBackArgs(null,"Html",null,t);a.div=i,this.show(a)},this.show=function(t){var n=this.animated;if(this.$T.showPosition=e.mouse,!e.mouse)return void setTimeout(function(){i.show(t)},100);var o;try{o=DayPilot.JSON.stringify(t.object)}catch(r){return}if(!(e.active===this&&this.$T.sourceId===o||"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.active)){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e.hideActive(),e.active=this,this.$T.sourceId=o;var s=document.createElement("div");s.setAttribute("unselectable","on"),s.style.position="absolute",this.showLoadingLabel||(s.style.display="none"),this.cssOnly?s.className=this.$U("_main"):(this.width&&(s.style.width=this.width),s.style.cursor="default"),s.style.top="0px",s.style.left="0px",s.style.zIndex=this.zIndex+1,n&&(s.style.visibility="hidden"),this.hideOnClick&&(s.onclick=function(){e.hideActive()}),s.onmousemove=function(t){e.cancelTimeout();var t=t||window.event;t.cancelBubble=!0},s.oncontextmenu=function(){return!1},s.onmouseout=this.delayedHide;var l=document.createElement("div");s.appendChild(l),this.cssOnly?l.className=this.$U("_main_inner"):(l.style.padding="4px",this.border&&(l.style.border=this.border),this.rounded()&&(l.style.MozBorderRadius="5px",l.style.webkitBorderRadius="5px",l.style.borderRadius="5px"),l.style.backgroundColor=this.backgroundColor),l.innerHTML=this.loadingText,document.body.appendChild(s),a.div=s;var s=this.getDiv(t);if("EventTop"===this.position&&s){var d=2,c=DayPilot.abs(s,!0);this.$T.mouse=e.mouse,this.$T.mouse.x=c.x,this.$T.mouse.y=c.y,this.$T.mouse.h=c.h+d,this.$T.mouse.w=c.w}else this.$T.mouse=e.mouse;if(this.showLoadingLabel&&!n&&(this.adjustPosition(),this.addShadow()),t.staticHTML)this.updateView(t.staticHTML,this);else if("function"==typeof this.onLoad){var h={};h.source=t.object,h.async=!1,h.loaded=function(){this.async&&i.updateView(h.html,i)},this.onLoad(h),h.async||i.updateView(h.html,i)}else this.$V(t)&&this.callBack(t)}},this.getDiv=function(e){return e.div?e.div:"Event"===e.type&&e.calendar&&e.calendar.internal.findEventDiv?e.calendar.internal.findEventDiv(e.object):void 0},this.$U=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.loadingElement=null,this.loadingStart=function(e){},this.loadingStop=function(){},this.adjustPosition=function(){var t=this.animated,n=this.position,o=10;if(a.div&&this.$T.mouse){if(!this.$T.mouse.x||!this.$T.mouse.y)return void e.hideActive();var r=a.div;r.style.display="";var s=r.offsetHeight,l=r.offsetWidth;r.style.display="none";var d=DayPilot.wd(),c=d.width,h=d.height;if("Mouse"===n){var u=22,f=10,v=0;if(this.$T.mouse.clientY>h-s+o){var p=this.$T.mouse.clientY-(h-s)+o;v=this.$T.mouse.y-s-f}else v=this.$T.mouse.y+u;if("number"==typeof v&&(r.style.top=Math.max(v,0)+"px"),this.$T.mouse.clientX>c-l+o){var g=this.$T.mouse.clientX-(c-l)+o;r.style.left=this.$T.mouse.x-g+"px"}else r.style.left=this.$T.mouse.x+"px"}else if("EventTop"===n){var y=2,v=this.$T.mouse.y-s-y,m=d.scrollTop;m>v&&(v=this.$T.mouse.y+this.$T.mouse.h+y),"number"==typeof v&&(r.style.top=Math.max(v,0)+"px");var b=this.$T.mouse.x;this.$T.mouse.x+l+o>c&&(b=c-l-o),r.style.left=b+"px"}if(r.style.display="",t){r.style.display="";var w={};w.color=r.firstChild.style.color,w.overflow=r.style.overflow,r.firstChild.style.color="transparent",r.style.overflow="hidden",this.removeShadow(),DayPilot.pop(r,{finished:function(){r.firstChild.style.color=w.color,r.style.overflow=w.overflow,i.addShadow()},vertical:"bottom",horizontal:"left",animation:i.animation})}}},this.delayedHide=function(){e.cancelTimeout(),i.hideAfter>0&&(e.timeout=window.setTimeout(e.hideActive,i.hideAfter))},this.showOnMouseOver=function(t){e.cancelTimeout();var a=function(e){return function(){i.show(e)}};e.timeout=window.setTimeout(a(t),this.showAfter)},this.hideOnMouseOut=function(){this.delayedHide()},this.$V=function(e){return e.calendar.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&a.div){var e=a.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var t=0;5>t;t++){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.top=e.offsetTop+t+"px",i.style.left=e.offsetLeft+t+"px",i.style.zIndex=this.zIndex,i.style.filter="alpha(opacity:10)",i.style.opacity=.1,i.style.backgroundColor="#000000",this.rounded()&&(i.style.MozBorderRadius="5px",i.style.webkitBorderRadius="5px",i.style.borderRadius="5px"),document.body.appendChild(i),this.shadows.push(i)}}},this.removeShadow=function(){if(this.shadows){for(var e=0;e<this.shadows.length;e++)document.body.removeChild(this.shadows[e]);this.shadows=[]}},this.removeDiv=function(){a.div&&(document.body.removeChild(a.div),a.div=null)},t)for(var n in t)this[n]=t[n];this.init()},DayPilot.Bubble.touchPosition=function(t){t.touches&&(e.mouse=e.touchPosition(t))},e.cancelTimeout=function(){e.timeout&&window.clearTimeout(e.timeout)},e.hideActive=function(){e.cancelTimeout();var t=e.active;t&&(t.removeDiv(),t.removeShadow()),e.active=null},e.CallBackArgs=function(e,t,i,a){this.calendar=e,this.type=t,this.object=i,this.staticHTML=a,this.toJSON=function(){var e={};return e.uid=this.calendar.uniqueID,e.type=this.type,e.object=i,e}},DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.BubbleVisible.Bubble=e.Bubble,DayPilot.BubbleVisible.hideActive=e.hideActive,DayPilot.BubbleVisible.cancelTimeout=e.cancelTimeout,DayPilot.Bubble.hideActive=e.hideActive,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotCalendar)var DayPilotCalendar=DayPilot.CalendarVisible={};if(function(){if("undefined"==typeof DayPilot.Calendar){DayPilot.Calendar=function(t,i){this.v="2130";var a=!1;if(this instanceof DayPilot.Calendar&&!this.$4m&&(a=!0,this.$4m=!0),!a)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var n=this;this.uniqueID=null,this.id=t,this.isCalendar=!0,this.api=2,this.clientName=t,this.clientState={},this.$4n={},this.$4n.pixels={},this.$4n.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.nav={},this.events={},this.hideUntilInit=!0,this.$4o=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.borderColor="#000000",this.bubble=null,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnBubble=null,this.columnMarginRight=5,this.columns=null,this.columnWidth=200,this.columnWidthSpec="Auto",this.contextMenu=null,this.contextMenuSelection=null,this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.roundedCorners=!1,this.rtl=!1,this.scrollLabelsVisible=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=DayPilot.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.weekStarts=null,this.width=null,this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.$4p=!0,this.$4q=!1,this.$4r=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","durationBarImageUrl","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","roundedCorners","selectedColor","shadow","useEventSelectionBars"],this.$4s={},this.$4s.ie=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.$4s.ie9=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE 9"),this.$4s.ielt9=function(){var e=document.createElement("div");e.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),this.$4s.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),this.$4s.opera105=function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var e=new Number(RegExp.$1);return e>=10.5}return!1}(),this.$4s.webkit522=function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var e=new Number(RegExp.$1);return e>=522}return!1}(),this.clearSelection=function(){return this.selectedCells?(this.$4t(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.$4t=function(){if(this.selectedCells)for(var e=0;e<this.selectedCells.length;e++){var t=this.selectedCells[e];t&&t.selected&&(t.removeChild(t.selected),t.firstChild.style.display="",t.selected=null)}},this.cleanSelection=this.clearSelection,this.$4u=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$4v();var o="JSON"+DayPilot.JSON.stringify(a);__doPostBack(n.uniqueID,o)},this.$4w=function(e,t,i,a){if(!this.$4x())return void n.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),"undefined"==typeof a&&(a="CallBack"),this.callbackTimeout=window.setTimeout(function(){n.$4y()},100);var o={};o.action=e,o.type=a,o.parameters=t,o.data=i,o.header=this.$4v();var r="JSON"+DayPilot.JSON.stringify(o);this.backendUrl?DayPilot.request(this.backendUrl,this.$4z,r,this.$4A):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.$4B,this.clientName,this.onCallbackError,!0)},this.$4x=function(){return this.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$4A=function(e){if("function"==typeof n.onAjaxError){var t={};t.request=e,n.onAjaxError(t)}else"function"==typeof n.ajaxError&&n.ajaxError(e)},this.dispose=function(){var t=n;t.nav.top&&(t.$4C(),t.$4D(),t.nav.messageClose&&(t.nav.messageClose.onclick=null),t.nav.hourTable&&(t.nav.hourTable.oncontextmenu=null),t.nav.hourTable&&(t.nav.hourTable.onmousemove=null),t.nav.header&&(t.nav.header.oncontextmenu=null),t.nav.corner&&(t.nav.corner.oncontextmenu=null),t.nav.zoom.onmousemove=null,t.nav.scroll.onscroll=null,t.nav.scroll.root=null,DayPilot.pu(t.nav.loading),t.$4E(),t.$4F(),t.nav.select=null,t.nav.cornerRight=null,t.nav.scrollable=null,t.nav.bottomLeft=null,t.nav.bottomRight=null,t.nav.allday=null,t.nav.zoom=null,t.nav.loading=null,t.nav.events=null,t.nav.header=null,t.nav.hourTable=null,t.nav.scrolltop=null,t.nav.scroll=null,t.nav.vsph=null,t.nav.main=null,t.nav.message=null,t.nav.messageClose=null,t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top=null,DayPilot.ue(window,"resize",t.$4G),e.unregister(t))},this.$4H=function(){this.nav.top.dispose=this.dispose},this.$4z=function(e){n.$4B(e.responseText)},this.$4v=function(){var e={};return e.v=this.v,e.control="dpc",e.id=this.id,e.clientState=n.clientState,e.columns=this.$4I(),e.days=n.days,e.startDate=n.startDate,e.cellDuration=n.cellDuration,e.cssOnly=n.cssOnly,e.cssClassPrefix=n.cssClassPrefix,e.heightSpec=n.heightSpec,e.businessBeginsHour=n.businessBeginsHour,e.businessEndsHour=n.businessEndsHour,e.viewType=n.viewType,e.dayBeginsHour=n.dayBeginsHour,e.dayEndsHour=n.dayEndsHour,e.headerLevels=n.headerLevels,e.backColor=n.cellBackColor,e.nonBusinessBackColor=n.cellBackColorNonBusiness,e.eventHeaderVisible=n.eventHeaderVisible,e.timeFormat=n.timeFormat,e.timeHeaderCellDuration=n.timeHeaderCellDuration,e.locale=n.locale,e.scrollY=n.scrollPos,e.showAllDayEvents=n.showAllDayEvents,e.tagFields=n.tagFields,e.weekStarts=n.weekStarts,e.hourNameBackColor=n.hourNameBackColor,e.hourFontFamily=n.hourFontFamily,e.hourFontSize=n.hourFontSize,e.hourFontColor=n.hourFontColor,e.selected=n.multiselect.events(),e.hashes=n.hashes,e},this.$4J=function(){this.$4K(),DayPilot.Areas.hideAll()},this.$4I=function(){var e=[];if(e.ignoreToJSON=!0,!this.columns)return e;for(var t=0;t<this.columns.length;t++){var i=this.columns[t],a=this.$4L(i);e.push(a)}return e},this.$4L=function(e){var t={};return t.Value=e.id,t.Name=e.name,t.ToolTip=e.toolTip,t.Date=e.start,t.Children=this.$4M(e.children),t},this.$4M=function(e){var t=[];if(t.ignoreToJSON=!0,!e)return t;for(var i=0;i<e.length;i++)t.push(this.$4L(e[i]));return t},this.$4B=function(e,t){var e=DayPilot.Util.parseJSON(e);if(e.BubbleGuid){var i=e.BubbleGuid,a=this.bubbles[i];return delete this.bubbles[i],n.$4N(),void("undefined"!=typeof e.Result.BubbleHTML&&a.updateView(e.Result.BubbleHTML,a))}if(e.CallBackRedirect)return void(document.location.href=e.CallBackRedirect);if("undefined"!=typeof e.ClientState&&(n.clientState=e.ClientState),"None"===e.UpdateType)return n.$4N(),n.$4O(e.CallBackData,!0),void(e.Message&&n.message(e.Message));if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=n.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,n.nav.vsph.innerHTML="",n.nav.vsph.appendChild(o)}if(n.$4D(),n.multiselect.clear(!0),n.multiselect.$4P=e.SelectedEvents,"undefined"!=typeof e.TagFields&&(n.tagFields=e.TagFields),"undefined"!=typeof e.SortDirections&&(n.sortDirections=e.SortDirections),"Full"===e.UpdateType&&(n.colors=e.Colors,n.palette=e.Palette,n.dirtyColors=e.DirtyColors,n.cellProperties=e.CellProperties,n.cellConfig=e.CellConfig,n.columns=e.Columns,n.days=e.Days,n.startDate=new DayPilot.Date(e.StartDate).getDatePart(),n.cellDuration=e.CellDuration,n.heightSpec=e.HeightSpec?e.HeightSpec:n.heightSpec,n.businessBeginsHour=e.BusinessBeginsHour?e.BusinessBeginsHour:n.businessBeginsHour,n.businessEndsHour=e.BusinessEndsHour?e.BusinessEndsHour:n.businessEndsHour,n.viewType=e.ViewType,n.headerLevels=e.HeaderLevels,n.backColor=e.BackColor?e.BackColor:n.backColor,n.nonBusinessBackColor=e.NonBusinessBackColor?e.NonBusinessBackColor:n.nonBusinessBackColor,n.eventHeaderVisible=e.EventHeaderVisible?e.EventHeaderVisible:n.eventHeaderVisible,n.timeFormat=e.TimeFormat?e.TimeFormat:n.timeFormat,n.timeHeaderCellDuration="undefined"!=typeof e.TimeHeaderCellDuration?e.TimeHeaderCellDuration:n.timeHeaderCellDuration,n.locale=e.Locale?e.Locale:n.locale,n.dayBeginsHour="undefined"!=typeof e.DayBeginsHour?e.DayBeginsHour:n.dayBeginsHour,n.dayEndsHour="undefined"!=typeof e.DayEndsHour?e.DayEndsHour:n.dayEndsHour,n.cornerBackColor=e.CornerBackColor,n.cornerHtml=e.CornerHTML,n.hours=e.Hours,n.$4Q(),n.$4R()),e.Hashes)for(var r in e.Hashes)n.hashes[r]=e.Hashes[r];if(n.$4S(e.Events),n.$4T(),("Full"===e.UpdateType||n.hideFreeCells)&&(n.$4U(),n.$4V(),n.$4W(),n.$4X(),n.$4Y(),n.$4Z(),n.$50(),n.$51(),n.clearSelection(),n.$52(),n.scrollToY("undefined"!=typeof e.ScrollY?e.ScrollY:n.initScrollPos)),n.$53(),n.$54(),n.$55(),n.$56(),"Parent100Pct"===n.heightSpec&&n.$4G(),"HoldForever"!==n.timeRangeSelectedHandling&&n.clearSelection(),n.$57(),n.todo&&n.todo.del){var s=n.todo.del;s.parentNode.removeChild(s),n.todo.del=null}n.$4O(e.CallBackData,!0),n.$4N(),n.$58(),e.Message&&n.message(e.Message)},this.$4O=function(e,t){var i=function(e,t){return function(){if(n.$59()){if("function"==typeof n.onAfterRender){var i={};i.isCallBack=t,i.data=e,n.onAfterRender(i)}}else n.afterRender&&n.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.$5a=function(e,t,i){var a=n.nav.events,o=a.clientWidth/a.rows[0].cells.length,r=Math.floor(n.coords.x/o);0>r&&(r=0),n.rtl&&(r=n.$5b.length-r-1);var s=a.rows[0].cells[r],l=0,d=0,c=0;if("undefined"!=typeof e.duration){var h=e.duration;c=Math.floor((n.coords.y-l+n.cellHeight/2)/n.cellHeight)*n.cellHeight+l,d=h*n.cellHeight/(60*n.cellDuration),d=Math.max(d,n.cellHeight)}else{var u=e.event;d=u.part.height,c=u.part.top}var f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.position="absolute",f.style.width="100%",f.style.height=d+"px",f.style.left="0px",f.style.top=c+"px",f.style.zIndex=101,f.exclude=!0;var v=document.createElement("div");return f.appendChild(v),this.cssOnly&&(f.className=n.$5c("_shadow"),v.className=this.$5c("_shadow_inner")),this.cssOnly||(v.style.position="absolute",v.style.top="0px",v.style.bottom="0px",v.style.left="0px",v.style.right="0px","Fill"===i?(v.style.backgroundColor="#aaaaaa",v.style.opacity=.5,v.style.filter="alpha(opacity=50)",v.style.border="2px solid #aaaaaa"):v.style.border="2px dotted #666666",this.roundedCorners&&(v.style.MozBorderRadius="5px",v.style.webkitBorderRadius="5px",v.style.borderRadius="5px")),s.events.appendChild(f),f},this.$5d=function(){return this.$5e()/36e5},this.$5f=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.$5g=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.$5e=function(e){var t=0;if("BusinessHoursNoScroll"===this.heightSpec)t=this.$5f();else if(this.hideFreeCells&&!e){var i=(this.$5h-1)*this.cellDuration/this.cellHeight,a=Math.ceil(i/60),n=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;t=Math.max(this.dayBeginsHour+a,n)-this.$5i()}else t=this.$5g();return 60*t*60*1e3},this.message=function(e,t,i,a){if(e){var t=t||this.messageHideAfter||2e3,i=i||"#ffffff",a=a||"#000000",o=.8,r,s=this.$5j(),l=this.showHours?this.hourWidth:0,d=DayPilot.sw(n.$5k());if(this.cssOnly||(s+=1,l+=2,d-=2),n.rtl){var c=l;l=d,d=c}if(this.nav.message)r=n.nav.message,this.nav.message.style.top=s+"px";else{r=document.createElement("div"),r.style.position="absolute",r.style.left=l+"px",r.style.top=s+"px",r.style.right="0px",r.style.display="none",r.onmousemove=function(){r.messageTimeout&&!r.status&&clearTimeout(r.messageTimeout)},r.onmouseout=function(){"none"!==n.nav.message.style.display&&(r.messageTimeout=setTimeout(n.$5l,500))};var h=document.createElement("div");h.onclick=function(){n.nav.message.style.display="none"},this.cssOnly?h.className=this.$5c("_message"):(h.style.padding="5px",h.style.opacity=o,h.style.filter="alpha(opacity="+100*o+")"),r.appendChild(h);var u=document.createElement("div");u.style.position="absolute",this.cssOnly?u.className=this.$5c("_message_close"):(u.style.top="5px",u.style.right=DayPilot.sw(n.$5k())+5+"px",u.style.color=i,u.style.lineHeight="100%",u.style.cursor="pointer",u.style.fontWeight="bold",u.innerHTML="X"),u.onclick=function(){n.nav.message.style.display="none"},r.appendChild(u),this.nav.top.insertBefore(r,this.nav.loading),this.nav.message=r,this.nav.messageClose=u}this.nav.message.style.right=this.nav.cornerRight?d+"px":"0px";var f=function(){if(n.nav.message){var s=n.nav.message.firstChild;n.cssOnly||(s.style.padding="5px",s.style.opacity=o,s.style.backgroundColor=a,s.style.color=i),s.innerHTML=e;var l=function(){r.messageTimeout=setTimeout(n.$5l,t)};DayPilot.fade(n.nav.message,.2,l)}};clearTimeout(r.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(n.nav.message,-.2,f):f()}},this.message.show=function(e){n.message(e)},this.message.hide=function(){n.$5l()},this.$5l=function(){var e=function(){n.nav.message.style.display="none"};DayPilot.fade(n.nav.message,-.2,e)},this.$4X=function(){this.nav.message&&(this.nav.message.style.top=this.$5j()+"px")},this.$5m=function(){return this.$5e()/(6e4*this.cellDuration)},this.eventClickPostBack=function(e,t){this.$4u("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.$4w("EventClick",e,t)},this.$5n=function(e){var t=this,e=e||window.event,i=e.ctrlKey,a=e.metaKey;if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===n.eventDoubleClickHandling)return void n.$5o(t,i,a);if(n.timeouts){for(var o in n.timeouts)window.clearTimeout(n.timeouts[o]);n.timeouts=[]}else n.timeouts=[];var r=function(e,t,i){return function(){n.$5o(e,t,i)}};n.timeouts.push(window.setTimeout(r(this,i,a),n.doubleClickTimeout))},this.$5o=function(e,t,i){var a=e.event;if(a.client.clickEnabled())if(n.$59()){var o={};if(o.e=a,o.ctrl=t,o.meta=i,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventClick&&(n.onEventClick(o),o.preventDefault.value))return;switch(n.eventClickHandling){case"PostBack":n.eventClickPostBack(a);break;case"CallBack":n.eventClickCallBack(a);break;case"Edit":n.$5p(e);break;case"Select":n.$5q(e,a,t,i);break;case"Bubble":n.bubble&&n.bubble.showEvent(a);break;case"ContextMenu":var r=a.client.contextMenu();r?r.show(a):n.contextMenu&&n.contextMenu.show(a)}"function"==typeof n.onEventClicked&&n.onEventClicked(o)}else switch(n.eventClickHandling){case"PostBack":n.eventClickPostBack(a);break;case"CallBack":n.eventClickCallBack(a);break;case"JavaScript":n.onEventClick(a);break;case"Edit":n.$5p(e);break;case"Select":n.$5q(e,a,t,i);break;case"Bubble":n.bubble&&n.bubble.showEvent(a);break;case"ContextMenu":var r=a.client.contextMenu();r?r.show(a):n.contextMenu&&n.contextMenu.show(a)}},this.eventDoubleClickPostBack=function(e,t){this.$4u("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.$4w("EventDoubleClick",e,t)
},this.$5r=function(e){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),n.timeouts){for(var t in n.timeouts)window.clearTimeout(n.timeouts[t]);n.timeouts=null}var i=this.event,e=e||window.event;if(n.$59()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventDoubleClick&&(n.onEventDoubleClick(a),a.preventDefault.value))return;switch(n.eventDoubleClickHandling){case"PostBack":n.eventDoubleClickPostBack(i);break;case"CallBack":n.eventDoubleClickCallBack(i);break;case"Edit":i.allday()||n.$5p(this);break;case"Select":i.allday()||n.$5q(this,i,e.ctrlKey);break;case"Bubble":n.bubble&&n.bubble.showEvent(i)}"function"==typeof n.onEventDoubleClicked&&n.onEventDoubleClicked(a)}else switch(n.eventDoubleClickHandling){case"PostBack":n.eventDoubleClickPostBack(i);break;case"CallBack":n.eventDoubleClickCallBack(i);break;case"JavaScript":n.onEventDoubleClick(i);break;case"Edit":i.allday()||n.$5p(this);break;case"Select":i.allday()||n.$5q(this,i,e.ctrlKey);break;case"Bubble":n.bubble&&n.bubble.showEvent(i)}},this.eventRightClickPostBack=function(e,t){this.$4u("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.$4w("EventRightClick",e,t)},this.$5s=function(e){var t=this.event;if(!t.client.rightClickEnabled())return!1;if(n.$59()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventRightClick&&(n.onEventRightClick(i),i.preventDefault.value))return;switch(n.eventRightClickHandling){case"PostBack":n.eventRightClickPostBack(t);break;case"CallBack":n.eventRightClickCallBack(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):n.contextMenu&&n.contextMenu.show(this.event);break;case"Bubble":n.bubble&&n.bubble.showEvent(t)}"function"==typeof n.onEventRightClicked&&n.onEventRightClicked(i)}else switch(n.eventRightClickHandling){case"PostBack":n.eventRightClickPostBack(t);break;case"CallBack":n.eventRightClickCallBack(t);break;case"JavaScript":n.onEventRightClick(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):n.contextMenu&&n.contextMenu.show(this.event);break;case"Bubble":n.bubble&&n.bubble.showEvent(t)}return e.preventDefault&&e.preventDefault(),!1},this.headerClickPostBack=function(e,t){this.$4u("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.$4w("HeaderClick",e,t)},this.$5t=function(t){var i=this.data,a=new e.Column(i.id,i.name,i.start);if(n.$59()){var o={};if(o.header={},o.header.id=i.id,o.header.name=i.name,o.header.start=i.start,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onHeaderClick&&(n.onHeaderClick(o),o.preventDefault.value))return;switch(n.headerClickHandling){case"PostBack":n.headerClickPostBack(a);break;case"CallBack":n.headerClickCallBack(a)}"function"==typeof n.onHeaderClicked&&n.onHeaderClicked(o)}else switch(n.headerClickHandling){case"PostBack":n.headerClickPostBack(a);break;case"CallBack":n.headerClickCallBack(a);break;case"JavaScript":n.onHeaderClick(a)}},this.$5u=function(){if("undefined"!=typeof DayPilotBubble&&n.columnBubble)if("Resources"===n.viewType){var t={};t.calendar=n,t.id=this.data.id,t.toJSON=function(){var e={};return e.id=this.id,e},n.columnBubble.showResource(t)}else{var i=new DayPilot.Date(this.data.start),a=i.addDays(1),o={};o.calendar=n,o.start=i,o.end=a,o.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e},n.columnBubble.showTime(o)}var r=this,s=r.firstChild;if(!s.active){var l=r.data,d=new e.Column(l.id,l.name,l.start);d.areas=r.data.areas,DayPilot.Areas.showAreas(s,d)}},this.$5v=function(e){"undefined"!=typeof DayPilotBubble&&n.columnBubble&&n.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,e)},this.eventDeletePostBack=function(e,t){this.$4u("EventDelete",t,e)},this.eventDeleteCallBack=function(e,t){this.$4w("EventDelete",e,t)},this.$5w=function(e){var t;if(t=e&&e.isEvent?e:e.parentNode.parentNode.event,n.$59()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventDelete&&(n.onEventDelete(i),i.preventDefault.value))return;switch(n.eventDeleteHandling){case"PostBack":n.eventDeletePostBack(t);break;case"CallBack":n.eventDeleteCallBack(t);break;case"Update":n.events.remove(t)}"function"==typeof n.onEventDeleted&&n.onEventDeleted(i)}else switch(n.eventDeleteHandling){case"PostBack":n.eventDeletePostBack(t);break;case"CallBack":n.eventDeleteCallBack(t);break;case"JavaScript":n.onEventDelete(t)}},this.eventResizePostBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$4u("EventResize",a,n)},this.eventResizeCallBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$4w("EventResize",n,a)},this.$5x=function(e,t,i,a){if("PostBack"===e)n.postBack2(t,i,a);else if("CallBack"===e)n.$4w(t,i,a,"CallBack");else if("Immediate"===e)n.$4w(t,i,a,"Notify");else if("Queue"===e)n.queue.add(new DayPilot.Action(this,t,i,a));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===s.notifyType()?n.$4w(t,i,a,"Notify"):n.queue.add(new DayPilot.Action(n,t,i,a))}},this.$5i=function(e){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!e){var t=this.$5y*this.cellDuration/this.cellHeight,i=Math.floor(t/60);return i=Math.max(0,i),Math.min(this.dayBeginsHour+i,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){return this.$5b[0].start},this.visibleEnd=function(){var e=this.$5b,t=e.length-1;return e[t].start.addDays(1)},this.$59=function(){return 2===n.api},this.$5z=function(e,t,i,a){if("Disabled"!==this.eventResizeHandling){var o=0,r=new Date,s=new Date,l=e.start(),d=e.end(),c=n.cellDuration,h=n.$5b[e.part.dayIndex].start;if("top"===a){var h=l.getDatePart(),u=Math.floor((i-o)/n.cellHeight),f=u*c,v=60*f*1e3,p=60*n.$5i()*60*1e3;r=h.addTime(v+p),s=e.end()}else if("bottom"===a){var u=Math.floor((i+t-o)/n.cellHeight),f=u*c,v=60*f*1e3,p=60*n.$5i()*60*1e3;r=l,s=h.addTime(v+p)}if(n.$59()){var g={};if(g.e=e,g.newStart=r,g.newEnd=s,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventResize&&(n.onEventResize(g),g.preventDefault.value))return;switch(n.eventResizeHandling){case"PostBack":n.eventResizePostBack(e,r,s);break;case"CallBack":n.eventResizeCallBack(e,r,s);break;case"Notify":n.eventResizeNotify(e,r,s);break;case"Update":e.start(r),e.end(s),n.events.update(e)}"function"==typeof n.onEventResized&&n.onEventResized(g)}else switch(n.eventResizeHandling){case"PostBack":n.eventResizePostBack(e,r,s);break;case"CallBack":n.eventResizeCallBack(e,r,s);break;case"JavaScript":n.onEventResize(e,r,s);break;case"Notify":n.eventResizeNotify(e,r,s)}}},this.eventResizeNotify=function(e,t,i,a){var o=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),n.update(),this.$5A("Notify",o,t,i,a)},this.$5A=function(e,t,i,a,n){var o={};o.e=t,o.newStart=i,o.newEnd=a,this.$5x(e,"EventResize",o,n)},this.eventMovePostBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=a,this.$4u("EventMove",n,o)},this.eventMoveCallBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=a,this.$4w("EventMove",o,n)},this.$5B=function(e,t,i,a,o){if("Disabled"!==n.eventMoveHandling){var r=0,s=Math.floor((i-r)/n.cellHeight),l=n.cellDuration,d=s*l*60*1e3,c=e.start(),h=e.end(),u=new Date;c instanceof DayPilot.Date&&(c=c.toDate()),u.setTime(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()));var f="Never"!==n.useEventBoxes?c.getTime()-(u.getTime()+3600*c.getUTCHours()*1e3+Math.floor(c.getUTCMinutes()/l)*l*60*1e3):0,v=h.getTime()-c.getTime(),p=3600*n.$5i()*1e3;"undefined"==typeof t&&(t=e.part.dayIndex);var g=this.$5b[t],y=g.start.getTime(),m=new Date;m.setTime(y+d+f+p);var b=new DayPilot.Date(m),w=b.addTime(v),D=!!o,k=g.id;if(n.$59()){var C={};if(C.e=e,C.newStart=b,C.newEnd=w,C.newResource=k,C.external=D,C.ctrl=!1,a&&(C.ctrl=a.ctrlKey),C.shift=!1,a&&(C.shift=a.shiftKey),C.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventMove&&(n.onEventMove(C),C.preventDefault.value))return;switch(n.eventMoveHandling){case"PostBack":n.eventMovePostBack(e,b,w,k);break;case"CallBack":n.eventMoveCallBack(e,b,w,k);break;case"Notify":n.eventMoveNotify(e,b,w,k);break;case"Update":e.start(b),e.end(w),e.resource(k),D?(e.commit(),n.events.add(e)):n.events.update(e),n.$5C()}"function"==typeof n.onEventMoved&&n.onEventMoved(C)}else switch(n.eventMoveHandling){case"PostBack":n.eventMovePostBack(e,b,w,k);break;case"CallBack":n.eventMoveCallBack(e,b,w,k);break;case"JavaScript":n.onEventMove(e,b,w,k,D,a?a.ctrlKey:!1,a?a.shiftKey:!1);break;case"Notify":n.eventMoveNotify(e,b,w,k,null)}}},this.eventMoveNotify=function(e,t,i,a,o){var r=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.resource(a),e.commit(),n.update(),this.$5D("Notify",r,t,i,a,o)},this.$5D=function(e,t,i,a,n,o){var r={};r.e=t,r.newStart=i,r.newEnd=a,r.newResource=n,this.$5x(e,"EventMove",r,o)},this.$5C=function(){if(n.todo&&n.todo.del){var e=n.todo.del;e.parentNode.removeChild(e),n.todo.del=null}},this.$5E=function(e,t){var i=n.$5F(t),a={};a.args=e,a.guid=i,n.$4w("Bubble",a)},this.$5F=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$4u("EventMenuClick",i,a)},this.eventMenuClickCallBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$4w("EventMenuClick",a,i)},this.$5G=function(e,t,i){switch(i){case"PostBack":n.eventMenuClickPostBack(t,e);break;case"CallBack":n.eventMenuClickCallBack(t,e)}},this.timeRangeMenuClickPostBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$4u("TimeRangeMenuClick",i,a)},this.timeRangeMenuClickCallBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$4w("TimeRangeMenuClick",a,i)},this.$5H=function(e,t,i){switch(i){case"PostBack":n.timeRangeMenuClickPostBack(t,e);break;case"CallBack":n.timeRangeMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$4u("TimeRangeSelected",a,n)},this.timeRangeSelectedCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$4w("TimeRangeSelected",n,a)},this.$5I=function(e,t,i){e=new DayPilot.Date(e),t=new DayPilot.Date(t);var a=i;if(n.$59()){var o={};if(o.start=e,o.end=t,o.resource=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(o),o.preventDefault.value))return;switch(n.timeRangeSelectedHandling){case"PostBack":n.timeRangeSelectedPostBack(e,t,a);break;case"CallBack":n.timeRangeSelectedCallBack(e,t,a)}"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(o)}else switch(n.timeRangeSelectedHandling){case"PostBack":n.timeRangeSelectedPostBack(e,t,i);break;case"CallBack":n.timeRangeSelectedCallBack(e,t,i);break;case"JavaScript":n.onTimeRangeSelected(e,t,i)}},this.timeRangeDoubleClickPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$4u("TimeRangeDoubleClick",a,n)},this.timeRangeDoubleClickCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$4w("TimeRangeDoubleClick",n,a)},this.$5J=function(e,t,i){if(n.$59()){var a=i,o={};if(o.start=e,o.end=t,o.resource=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeDoubleClick&&(n.onTimeRangeDoubleClick(o),o.preventDefault.value))return;switch(n.timeRangeDoubleClickHandling){case"PostBack":n.timeRangeDoubleClickPostBack(e,t,a);break;case"CallBack":n.timeRangeDoubleClickCallBack(e,t,a)}"function"==typeof n.onTimeRangeDoubleClicked&&n.onTimeRangeDoubleClicked(o)}else switch(n.timeRangeDoubleClickHandling){case"PostBack":n.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":n.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":n.onTimeRangeDoubleClick(e,t,i)}},this.eventEditPostBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$4u("EventEdit",i,a)},this.eventEditCallBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$4w("EventEdit",a,i)},this.$5K=function(e,t){if(n.$59()){var i={};if(i.e=e,i.newText=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventEdit&&(n.onEventEdit(i),i.preventDefault.value))return;switch(n.eventEditHandling){case"PostBack":n.eventEditPostBack(e,t);break;case"CallBack":n.eventEditCallBack(e,t);break;case"Update":e.text(t),n.events.update(e)}if("function"==typeof n.onEventEdited&&(n.onEventEdited(i),i.preventDefault.value))return}else switch(n.eventEditHandling){case"PostBack":n.eventEditPostBack(e,t);break;case"CallBack":n.eventEditCallBack(e,t);break;case"JavaScript":n.onEventEdit(e,t)}},this.eventSelectPostBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$4u("EventSelect",i,a)},this.eventSelectCallBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$4w("EventSelect",a,i)},this.$5L=function(e,t,i,a){var o=n.multiselect,r=!1,s=o.isSelected(t),l=i||a;if(l||!s||r||1!==o.$5M.length)if(n.$59()){o.previous=o.events();var d={};if(d.e=t,d.selected=o.isSelected(t),d.ctrl=i,d.meta=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventSelect&&(n.onEventSelect(d),d.preventDefault.value))return;switch(n.eventSelectHandling){case"PostBack":n.eventSelectPostBack(t,c);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),n.eventSelectCallBack(t,c);break;case"Update":o.$5N(e,i)}"function"==typeof n.onEventSelected&&(d.change=o.isSelected(t)?"selected":"deselected",d.selected=o.isSelected(t),n.onEventSelected(d))}else{o.previous=o.events(),o.$5N(e,i);var c=o.isSelected(t)?"selected":"deselected";switch(n.eventSelectHandling){case"PostBack":n.eventSelectPostBack(t,c);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),n.eventSelectCallBack(t,c);break;case"JavaScript":n.onEventSelect(t,c)}}},this.commandCallBack=function(e,t){this.$4C();var i={};i.command=e,this.$4w("Command",i,t)},this.$5O=function(t){if(!r.active&&!r.using&&(clearTimeout(e.selectedTimeout),!e.selecting)){if(e.editing)return void e.editing.blur();if(n.selectedCells&&"Disabled"!==n.timeRangeDoubleClickHandling)for(var i=0;i<n.selectedCells.length;i++)if(this===n.selectedCells[i])return;if("Disabled"!==n.timeRangeSelectedHandling){var a=DayPilot.Util.mouseButton(t);a.left&&(e.firstMousePos=DayPilot.mc(t||window.event),n.clearSelection(),e.topSelectedCell=this,e.bottomSelectedCell=this,e.column=e.getColumn(this),n.selectedCells.push(this),e.firstSelected=this)}}},this.$5P=function(){var e=this.getSelection();if(e&&n.selectedCells)for(var t=0;t<n.selectedCells.length;t++){var i=n.selectedCells[t];if(i&&!i.selected){var a=document.createElement("div");a.style.height=n.cellHeight-1+"px",a.style.backgroundColor=n.selectedColor,i.firstChild.style.display="none",i.insertBefore(a,i.firstChild),i.selected=a}}},this.$5Q=function(e){"undefined"!=typeof DayPilotBubble&&n.cellBubble&&n.cellBubble.hideOnMouseOut()},this.$5R=function(t){if("undefined"!=typeof e&&!r.active&&!r.using){if("undefined"!=typeof DayPilotBubble&&n.cellBubble){var i=e.getColumn(this),a=n.$5b[i].id,o={};o.calendar=n,o.start=this.start,o.end=this.end,o.resource=a,o.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},n.cellBubble.showCell(o)}if(e.firstMousePos){var s=e.firstMousePos,l=DayPilot.mc(t||window.event);(s.x!==l.x||s.y!==l.y)&&(e.selecting=!0,n.clearSelection(),n.$5P())}if(e.selecting){var d=DayPilot.mc(t||window.event),c=e.getColumn(this);c===e.column&&(n.clearSelection(),d.y<e.firstMousePos.y?(n.selectedCells=e.getCellsBelow(this),e.topSelectedCell=n.selectedCells[0],e.bottomSelectedCell=e.firstSelected):(n.selectedCells=e.getCellsAbove(this),e.topSelectedCell=e.firstSelected,e.bottomSelectedCell=n.selectedCells[0]),n.$5P())}}},this.getSelection=function(){if(!e.topSelectedCell)return null;if(!e.bottomSelectedCell)return null;var t=e.topSelectedCell.start,i=e.bottomSelectedCell.end,a=e.topSelectedCell.resource;return new DayPilot.Selection(t,i,a,n)},this.$5S=function(t){if(e.firstMousePos){var i=function(){e.selecting=!0,n.$5P(),e.firstMousePos=null,e.selecting=!1;var t=n.getSelection();n.$5I(t.start,t.end,t.resource)};e.selecting&&null!==e.topSelectedCell?i():e.selectedTimeout=setTimeout(i,100)}else e.selecting=!1},this.$5T=function(e){var t="Fixed"===n.columnWidthSpec;if(t||n.$5U){if(!n.nav.bottomLeft)return;n.nav.bottomLeft.scrollTop=n.nav.bottomRight.scrollTop,n.nav.upperRight&&(n.nav.upperRight.scrollLeft=n.nav.bottomRight.scrollLeft),n.nav.scrollLayer.scrollLeft=n.nav.bottomRight.scrollLeft}var i=n.$5V();n.scrollPos=i.scrollTop,n.$5W=i.clientHeight,n.nav.scrollpos.value=n.scrollPos,n.$57()},this.$57=function(){if(this.scrollLabelsVisible&&this.$5X){var e=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(e){for(var t=this.$5b,i=this.showHours?this.hourWidth:0,a=this.nav.main.rows[0].cells[0].clientWidth,o=10,r=1,s=0;s<this.nav.scrollUp.length;s++){var l=this.nav.scrollUp[s],d=this.nav.scrollDown[s],c=Math.floor(i+s*a+a/2-o/2+r);0>c&&(c=0),c-=n.nav.bottomRight.scrollLeft,l&&l.style&&(l.style.left=c+"px"),d&&d.style&&(d.style.left=c+"px")}for(var h=this.$5Y(),s=0;s<this.nav.scrollUp.length;s++){var u=this.nav.scrollUp[s],f=this.nav.scrollDown[s],v=this.$5X[s].minEnd-h,p=this.$5X[s].maxStart-h;u&&f&&(v<=n.scrollPos&&parseInt(u.style.left)>=n.hourWidth?(u.style.top=this.$5j()+"px",u.style.display=""):u.style.display="none",p>=n.scrollPos+n.$5W&&parseInt(f.style.left)>=n.hourWidth?(f.style.top=this.$5j()+this.$5W-10+"px",f.style.display=""):f.style.display="none")}}}},this.$5Z=function(e){var t=e.parentNode,i=0,a=e.offsetTop,n=e.parentNode.offsetWidth,o=e.offsetHeight;e.event.allday()&&(i=e.offsetLeft,n=e.offsetWidth);var r=document.createElement("textarea");r.style.boxSizing="border-box",r.style.position="absolute",r.style.width=n+"px",r.style.height=o+"px";var s=DayPilot.gs(e,"fontFamily");s||(s=DayPilot.gs(e,"font-family")),r.style.fontFamily=s;var l=DayPilot.gs(e,"fontSize");return l||(l=DayPilot.gs(e,"font-size")),r.style.fontSize=l,r.style.left=i+"px",r.style.top=a+"px",r.style.border="1px solid black",r.style.padding="0px",r.style.marginTop="0px",r.style.backgroundColor="white",r.value=DayPilot.tr(e.event.text()),r.event=e.event,t.appendChild(r),r},this.$5q=function(e,t,i,a){n.$5L(e,t,i,a)},this.multiselect={},this.multiselect.$4P=[],this.multiselect.$5M=[],this.multiselect.$60=[],this.multiselect.$61=[],this.multiselect.$62=function(){var e=n.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=n.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.$5M.length;i++)t.push(e.$5M[i]);return t},this.multiselect.$63=function(){var e=n.nav.select;e.value=n.multiselect.$62()},this.multiselect.$5N=function(e,t){var i=n.multiselect;if(i.isSelected(e.event))if(n.allowMultiSelect)if(t)i.remove(e.event,!0);else{var a=i.$5M.length;i.clear(!0),a>1&&i.add(e.event,!0)}else i.clear(!0);else n.allowMultiSelect&&t?i.add(e.event,!0):(i.clear(!0),i.add(e.event,!0));i.redraw(),i.$63()},this.multiselect.$64=function(e){var t=n.multiselect;return t.$65(e,t.$4P)},this.multiselect.$66=function(){for(var e=n.multiselect,t=[],i=0;i<e.$5M.length;i++){var a=e.$5M[i];t.push(a.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=n.multiselect;-1===i.$67(e)&&i.$5M.push(e),i.$63(),t||i.redraw()},this.multiselect.remove=function(e,t){var i=n.multiselect,a=i.$67(e);-1!==a&&i.$5M.splice(a,1),i.$63(),t||i.redraw()},this.multiselect.clear=function(e){var t=n.multiselect;t.$5M=[],t.$63(),e||t.redraw()},this.multiselect.redraw=function(){for(var e=n.multiselect,t=0;t<n.elements.events.length;t++){var i=n.elements.events[t];e.isSelected(i.event)?e.$68(i):e.$69(i)}},this.multiselect.$68=function(e){var t=n.multiselect,i=n.$5c(n.cssOnly?"_selected":"selected"),a=t.$6a(e);DayPilot.Util.addClass(a,i),n.useEventSelectionBars&&t.$6b(e),t.$60.push(e)},this.multiselect.$6a=function(e){if(n.cssOnly)return e;for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if("1"===i.getAttribute("c"))return i}return null},this.multiselect.$6c=function(){for(var e=n.multiselect,t=0;t<e.$60.length;t++){var i=e.$60[t];e.$69(i,!0)}e.$60=[]},this.multiselect.$69=function(e,t){var i=n.multiselect,a=n.$5c(n.cssOnly?"_selected":"selected"),o=i.$6a(e);if(DayPilot.Util.removeClass(o,a),n.useEventSelectionBars&&i.$6d(e),!t){var r=DayPilot.indexOf(i.$60,e);-1!==r&&i.$60.splice(r,1)}},this.multiselect.isSelected=function(e){return n.multiselect.$65(e,n.multiselect.$5M)},this.multiselect.$67=function(e){return DayPilot.indexOf(n.multiselect.$5M,e)},this.multiselect.$65=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var a=t[i];if(e===a)return!0;if("function"==typeof a.value){if(null!==a.value()&&null!==e.value()&&a.value()===e.value())return!0;if(null===a.value()&&null===e.value()&&a.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===a.start())return!0}else{if(null!==a.value&&null!==e.value()&&a.value===e.value())return!0;if(null===a.value&&null===e.value()&&a.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===a.start)return!0}}return!1},this.multiselect.$6b=function(e){var t=5;if(!e.top){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.left=e.offsetLeft+"px",i.style.width=e.offsetWidth+"px",i.style.top=e.offsetTop-t+"px",i.style.height=t+"px",i.style.backgroundColor=n.eventSelectColor,i.style.zIndex=100,e.parentNode.appendChild(i),e.top=i}if(!e.bottom){var a=document.createElement("div");a.setAttribute("unselectable","on"),a.style.position="absolute",a.style.left=e.offsetLeft+"px",a.style.width=e.offsetWidth+"px",a.style.top=e.offsetTop+e.offsetHeight+"px",a.style.height=t+"px",a.style.backgroundColor=n.eventSelectColor,a.style.zIndex=100,e.parentNode.appendChild(a),e.bottom=a}},this.multiselect.$6d=function(e){e.top&&(e.parentNode.removeChild(e.top),e.top=null),e.bottom&&(e.parentNode.removeChild(e.bottom),e.bottom=null)},this.$5p=function(t){if(e.editing)return void e.editing.blur();var i=this.$5Z(t);e.editing=i,DayPilot.re(i,DayPilot.touch.start,function(e){e.stopPropagation()}),i.onblur=function(){var a=t.event.value(),o=t.event.tag(),r=t.event.text(),s=i.value;e.editing=null,i.onblur=null,DayPilot.de(i),r!==s&&(t.style.display="none",n.$5K(t.event,s))},i.onkeypress=function(t){var a=window.event?event.keyCode:t.keyCode;return 13===a?(this.onblur(),!1):(27===a&&(i.parentNode.removeChild(i),e.editing=!1),!0)},i.select(),i.focus()},this.$6e=function(){return"Resources"===n.viewType?!1:n.columns&&n.$4x()?!1:!0},this.$4Q=function(){var e=n.$6e();e?(this.$5b=this.$6f(),this.$6g(this.$5b)):(this.columns||(this.columns=[]),this.$6g(this.columns),this.$5b=this.$6h(this.headerLevels,!0))},this.$6i=function(){var e=this.startDate.getDatePart(),t=this.days;switch(this.viewType){case"Day":t=1;break;case"Week":t=7,e=e.firstDayOfWeek(s.weekStarts());break;case"WorkWeek":t=5,e=e.firstDayOfWeek(1)}var i=e.addDays(t),a={};return a.start=e,a.end=i,a.days=t,a},this.$6f=function(){for(var e=[],t=this.$6i(),i=t.start,a=t.days,o=0;a>o;o++){var r={};r.start=i.addDays(o);var l=s.locale().datePattern;n.headerDateFormat&&(l=n.headerDateFormat),r.name=r.start.toString(l,s.locale()),r.html=r.name,e.push(r)}return e},this.$6j=function(e){e.Start&&(e.id=e.Value,e.start=e.Start,e.name=e.Name,e.html=e.InnerHTML,e.toolTip=e.ToolTip,e.backColor=e.BackColor,e.areas=e.Areas,e.children=e.Children,delete e.Value,delete e.Start,delete e.Name,delete e.InnerHTML,delete e.ToolTip,delete e.BackColor,delete e.Areas,delete e.Children),e.start=e.start||n.startDate,e.start=new DayPilot.Date(e.start),e.html=e.html||e.name,e.getChildren=function(e,t){var i=[];if(1>=e)return i.push(this),i;if(!this.children||0===this.children.length)return i.push(t?this:"empty"),i;for(var a=0;a<this.children.length;a++)for(var n=this.children[a],o=n.getChildren(e-1,t),r=0;r<o.length;r++)i.push(o[r]);return i},e.getChildrenCount=function(e){var t=0;if(!this.children||this.children.length<=0||1>=e)return 1;for(var i=0;i<this.children.length;i++)t+=this.children[i].getChildrenCount(e-1);return t},e.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];if(i.overlapsWith(e.part.top,e.part.height))return i.events.push(e),i.min=Math.min(i.min,e.part.top),i.max=Math.max(i.max,e.part.top+e.part.height),t}var i=[];return i.lines=[],i.events=[],i.overlapsWith=function(e,t){var i=e+t-1;return i<this.min||e>this.max-1?!1:!0},i.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.top,e.part.height))return a.push(e),i}var a=[];return a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},a.push(e),this.lines.push(a),this.lines.length-1},i.events.push(e),i.min=e.part.top,i.max=e.part.top+e.part.height,this.blocks.push(i),this.blocks.length-1},e.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.top,e.part.height))return a.push(e),i}var a=[];return a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},a.push(e),this.lines.push(a),this.lines.length-1},e.children&&this.$6g(e.children)},this.$6g=function(e){DayPilot.list(e).each(function(e){n.$6j(e)})},this.$6h=function(e,t){for(var i=this.$6e()?this.$5b:this.columns,a=[],n=0;n<i.length;n++)for(var o=i[n].getChildren(e,t),r=0;r<o.length;r++)a.push(o[r]);return a},this.$56=function(){if(this.showAllDayEvents){var e=this.nav.header;if(e){e.style.display="none";for(var t=this.$5b.length,i=0;i<this.$6k.lines.length;i++)for(var a=this.$6k.lines[i],o=0;o<a.length;o++){var r=a[o],l=document.createElement("div");l.event=r,l.setAttribute("unselectable","on"),l.style.position="absolute",n.rtl?l.style.right=100*r.part.colStart/t+"%":l.style.left=100*r.part.colStart/t+"%",l.style.width=100*r.part.colWidth/t+"%",l.style.height=s.allDayEventHeight()+"px",this.cssOnly?(l.className=this.$5c("_alldayevent"),l.style.top=this.headerLevels*s.headerHeight()+i*s.allDayEventHeight()+"px"):l.style.top=3+this.headerLevels*s.headerHeight()+i*(s.allDayEventHeight()+2)+"px",l.style.textAlign="left",l.style.lineHeight="1.2",r.client.clickEnabled()&&(l.onclick=this.$5n),r.client.doubleClickEnabled()&&(l.ondblclick=this.$5r),l.style.cursor=r.client.clickEnabled()||r.client.doubleClickEnabled()?"pointer":"default",DayPilot.re(l,"contextmenu",this.$5s),l.onmousemove=function(e){var t=this;if(!t.active){var i=[];r.client.deleteEnabled()&&i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:n.$5c("_event_delete"),js:function(e){n.$5w(e)}});var a=t.event.cache?t.event.cache.areas:t.event.data.areas;a&&a.length>0&&(i=i.concat(a)),DayPilot.Areas.showAreas(t,t.event,null,i),n.cssOnly&&DayPilot.Util.addClass(t,n.$5c("_alldayevent_hover"))}"undefined"!=typeof DayPilotBubble&&n.bubble&&"Disabled"!==n.eventHoverHandling&&n.bubble.showEvent(this.event)},l.onmouseout=function(e){var t=this;n.cssOnly&&DayPilot.Util.removeClass(t,n.$5c("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,e),n.bubble&&n.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&l.setAttribute("title",r.client.toolTip());var d=r.start().getTime()===r.part.start.getTime(),c=r.end().getTime()===r.part.end.getTime(),h=r.data.backColor;if(this.cssOnly){var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.$5c("_alldayevent_inner"),h&&(u.style.background=h),n.rtl?(d||DayPilot.Util.addClass(l,this.$5c("_alldayevent_continueright")),c||DayPilot.Util.addClass(l,this.$5c("_alldayevent_continueleft"))):(d||DayPilot.Util.addClass(l,this.$5c("_alldayevent_continueleft")),c||DayPilot.Util.addClass(l,this.$5c("_alldayevent_continueright"))),u.innerHTML=r.client.innerHTML()?r.client.innerHTML():r.text(),l.appendChild(u)}else{var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.marginLeft="2px",u.style.marginRight="3px",u.style.paddingLeft="2px",u.style.height=s.allDayEventHeight()-2+"px",u.style.border="1px solid "+this.allDayEventBorderColor,u.style.overflow="hidden",u.style.position="relative",u.style.backgroundColor=h,u.className=this.$5c("alldayevent"),this.roundedCorners&&(u.style.MozBorderRadius="5px",u.style.webkitBorderRadius="5px",u.style.borderRadius="5px");var f=[],v=!0,p=this.showAllDayEventStartEnd,g=this.showAllDayEventStartEnd,y="Center",m=0;if(p&&("Left"===y?(f.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;"),f.push("width:"),f.push(m-4),f.push("px;"),f.push("><span style='background-color:")):f.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:"),f.push("transparent"),f.push("' unselectable='on'>"),d?r.start().getDatePart().getTime()!==r.start().getTime()&&f.push(DayPilot.DateUtil.hours(r.start(),"Clock12Hours"===this.$6l.timeFormat())):f.push("~"),f.push("</span></div></div>")),g&&(f.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:"),f.push("transparent"),f.push("' unselectable='on'>"),c?r.end().getDatePart().getTime()!==r.end().getTime()&&f.push(DayPilot.DateUtil.hours(r.end(),"Clock12Hours"===this.$6l.timeFormat())):f.push("~"),f.push("</span></div></div>")),"Left"===y){var b=p?m:0;f.push("<div style='margin-top:0px;height:"),f.push(s.allDayEventHeight()-2),f.push("px;"),f.push(";overflow:hidden;text-align:left;padding-left:"),f.push(b),f.push("px;font-size:"),f.push(this.allDayEventFontSize),f.push(";color:"),f.push(this.allDayEventFontColor),f.push(";font-family:"),f.push(this.eventFontFamily),f.push("' unselectable='on'>"),f.push(r.client.innerHTML()?r.client.innerHTML():r.text()),f.push("</div>")}else"Center"===y&&(v?(f.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>"),f.push("<span style='background-color:"),f.push("transparent"),f.push(";font-size:"),f.push(this.allDayEventFontSize),f.push(";color:"),f.push(this.allDayEventFontColor),f.push(";font-family:"),f.push(this.allDayEventFontFamily),f.push("' unselectable='on'>"),f.push(r.client.innerHTML()?r.client.innerHTML():r.text()),f.push("</span>"),f.push("</div>")):(f.push("<div style='margin-top:0px;height:"),f.push(s.allDayEventHeight()-2),f.push("px;"),f.push(";overflow:hidden;text-align:center;font-size:"),f.push(this.allDayEventFontSize),f.push(";color:"),f.push(this.allDayEventFontColor),f.push(";font-family:"),f.push(this.allDayEventFontFamily),f.push("' unselectable='on'>"),f.push(r.client.innerHTML()?r.client.innerHTML():r.text()),f.push("</div>")));u.innerHTML=f.join(""),l.appendChild(u)}if(n.$59()){if("function"==typeof n.onAfterEventRender){var w={};w.e=l.event,w.div=l,n.onAfterEventRender(w)}}else n.afterEventRender&&n.afterEventRender(l.event,l);this.nav.allday.appendChild(l),this.elements.events.push(l)}e.style.display=""}}},this.$4D=function(e){if(n.multiselect.$6c(),this.elements.events)for(var t=0;t<this.elements.events.length;t++){var i=this.elements.events[t],a=i.event;if(!a||!e||a.allday()){if(a&&(a.div=null,a.root=null),i.onclick=null,i.onclickSave=null,i.ondblclick=null,i.oncontextmenu=null,i.onmouseover=null,i.onmouseout=null,i.onmousemove=null,i.onmousedown=null,i.firstChild&&i.firstChild.firstChild&&i.firstChild.firstChild.tagName&&"IMG"===i.firstChild.firstChild.tagName.toUpperCase()){var o=i.firstChild.firstChild;
o.onmousedown=null,o.onmousemove=null,o.onclick=null}i.helper=null,i.event=null,DayPilot.de(i)}}this.elements.events=[]},this.$6m=function(e){var t=this.nav.events,i=this.roundedCorners,a=this.roundedCorners&&(this.$4s.ff||this.$4s.opera105||this.$4s.webkit522||!this.$4s.ielt9),o=this.roundedCorners&&!a,r=e.cache||e.data,s=r.borderColor||this.eventBorderColor,l=document.createElement("div");l.setAttribute("unselectable","on"),l.style.MozUserSelect="none",l.style.KhtmlUserSelect="none",l.style.WebkitUserSelect="none",l.style.position="absolute",this.cssOnly?l.className=this.$5c("_event"):(l.style.fontFamily=this.eventFontFamily,l.style.fontSize=this.eventFontSize,l.style.color=r.fontColor||this.eventFontColor,i||(l.style.backgroundColor=s)),l.style.left=e.part.left+"%",l.style.top=e.part.top-this.$5Y()+"px",l.style.width=e.part.width+"%",l.style.height=Math.max(e.part.height,2)+"px",l.style.overflow="hidden",l.isFirst=e.part.start.getTime()===e.start().getTime(),l.isLast=e.part.end.getTime()===e.end().getTime(),e.client.clickEnabled()&&(l.onclick=this.$5n),e.client.doubleClickEnabled()&&(l.ondblclick=this.$5r),DayPilot.re(l,"contextmenu",this.$5s),l.onmousemove=this.$6n,l.onmouseout=this.$6o,l.onmousedown=this.$6p,DayPilot.re(l,DayPilot.touch.start,this.$6q.onEventTouchStart),DayPilot.re(l,DayPilot.touch.move,this.$6q.onEventTouchMove),DayPilot.re(l,DayPilot.touch.end,this.$6q.onEventTouchEnd);var d=[];r.cssClass&&DayPilot.Util.addClass(l,r.cssClass),this.showToolTip&&!this.bubble&&l.setAttribute("title",e.client.toolTip());var c=document.createElement("div");if(c.setAttribute("unselectable","on"),c.className=n.$5c("_event_inner"),c.innerHTML=e.client.innerHTML(),r.fontColor&&(c.style.color=r.fontColor),r.backColor&&(c.style.background=r.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(c.style.filter="")),r.borderColor&&(c.style.borderColor=r.borderColor),r.backgroundImage&&(c.style.backgroundImage="url("+r.backgroundImage+")",r.backgroundRepeat&&(c.style.backgroundRepeat=r.backgroundRepeat)),l.appendChild(c),e.client.barVisible()){var h=e.part.height-2,u=100*e.part.barTop/h,f=Math.ceil(100*e.part.barHeight/h);"PercentComplete"===this.durationBarMode&&(u=0,f=r.complete);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.$5c("_event_bar"),v.style.position="absolute",r.barBackColor&&(v.style.backgroundColor=r.barBackColor);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.$5c("_event_bar_inner"),p.style.top=u+"%",p.style.height=f>0&&1>=f?"1px":f+"%",r.barColor&&(p.style.backgroundColor=r.barColor),v.appendChild(p),l.appendChild(v)}if(r.areas)for(var g=0;g<r.areas.length;g++){var y=r.areas[g],m=y.v||"Visible";if("Visible"===m){var b=DayPilot.Areas.createArea(l,e,y);l.appendChild(b)}}if(t.rows[0].cells[e.part.dayIndex]){var w=t.rows[0].cells[e.part.dayIndex].events;if(w.appendChild(l),n.$6r(l),l.event=e,n.multiselect.$64(e)&&n.multiselect.add(l.event,!0),n.$59()){if("function"==typeof n.onAfterEventRender){var D={};D.e=l.event,D.div=l,n.onAfterEventRender(D)}}else n.afterEventRender&&n.afterEventRender(l.event,l)}n.elements.events.push(l)},this.$6r=function(e){for(var t=e&&e.childNodes?e.childNodes.length:0,i=0;t>i;i++)try{var a=e.childNodes[i];1===a.nodeType&&(a.setAttribute("unselectable","on"),this.$6r(a))}catch(n){}},this.$55=function(){for(var e=new Date,t=0;t<this.$5b.length;t++){var i=this.$5b[t];if(i.blocks)for(var a=0;a<i.blocks.length;a++)for(var n=i.blocks[a],o=0;o<n.lines.length;o++)for(var r=n.lines[o],s=0;s<r.length;s++){var l=r[s];if(l.part.width=100/n.lines.length,l.part.left=l.part.width*o,"Cascade"===this.eventArrangement){var d=o===n.lines.length-1;d||(l.part.width=1.5*l.part.width)}"Full"===this.eventArrangement&&(l.part.left=l.part.left/2,l.part.width=100-l.part.left),l.allday()||this.$6m(l)}}this.multiselect.redraw();var c=new Date,h=c.getTime()-e.getTime()},this.$6s=function(){this.multiselect.$5M=[];for(var e=0;e<this.$5b.length;e++)for(var t=this.$5b[e],i=0;i<t.lines.length;i++)for(var a=t.lines[i],n=0;n<a.length;n++){var o=a[n];o.part.width=100/t.lines.length,o.part.left=o.Width*i,o.allday()||this.$6m(o)}},this.$5c=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$54=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$6t=function(){var e=this.$5j()+this.$6u();return n.debug.message("Getting totalHeight, headerHeight: "+this.$5j()+" scrollable: "+this.$6u()),0>e?0:e},this.$6v=function(){if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),this.cssOnly||(this.nav.top.style.lineHeight="1.2",this.nav.top.style.textAlign="left"),this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.$6t()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.$6u()+"px",this.cssOnly&&DayPilot.Util.addClass(this.nav.top,this.$5c("_main")),this.nav.scroll.style.position="relative",this.cssOnly||(this.nav.scroll.style.border="1px solid "+this.borderColor,this.nav.scroll.style.backgroundColor=this.hourNameBackColor),this.showHeader){var e=this.$6w();this.nav.top.appendChild(e)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.$5j()+"px";var t=this.$6x();this.nav.scrollable=t.firstChild,this.nav.scroll.appendChild(t),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=n.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=n.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.$6y=function(){for(var e="Fixed"===this.columnWidthSpec,t=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],i=this.nav.events.rows[0],a=0;a<n.$5b.length;a++){var o=t&&t.cells[a],r=i.cells[a],s=o&&o.firstChild,l=n.$5b[a];if(e){var d=l.width?l.width:n.columnWidth;s&&(s.style.width=d+"px"),r&&(r.style.width=d+"px")}else s&&(s.style.width=null),r&&(r.style.width=null)}},this.$5k=function(){return this.$5U?n.nav.bottomRight:n.nav.scroll},this.$52=function(){var e="Fixed"===this.columnWidthSpec;if(!e){var t=n.$5k();"Fixed"===this.heightSpec?t.style.overflowY="scroll":t.style.overflow="BusinessHours"===this.heightSpec&&this.$5d()<=this.businessEndsHour-this.businessBeginsHour?"hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?"auto":"hidden"}if(e){var i=0,a=this.$5b.length*this.columnWidth,o=n.$5V();a>o.clientWidth&&(i=DayPilot.sw(n.nav.bottomRight)),n.nav.headerParent&&(n.nav.headerParent.style.width=a+i+"px"),n.nav.main.style.width=a+"px",n.nav.events.style.width=a+"px",n.nav.crosshair.style.width=a+"px"}else n.nav.headerParent&&(n.nav.headerParent.style.width="100%"),n.nav.main.style.width="100%",n.nav.events.style.width="100%",n.nav.crosshair.style.width="100%";this.$6y()},this.$4Z=function(){this.$4o?this.$6z():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.$6A(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.$6z=function(){if(this.nav.hourTable)for(var e=0;e<this.nav.hourTable.rows.length;e++){var t=this.nav.hourTable.rows[e],i=t.cells[0].firstChild;i.data=null,i.onmousemove=null,i.onmouseout=null}},this.$6x=function(){var e=document.createElement("div");e.style.zoom=1,e.style.position="relative",e.onmousemove=this.$6B,DayPilot.re(e,DayPilot.touch.start,this.$6q.onMainTouchStart),DayPilot.re(e,DayPilot.touch.move,this.$6q.onMainTouchMove),DayPilot.re(e,DayPilot.touch.end,this.$6q.onMainTouchEnd),DayPilot.re(e,"contextmenu",function(e){var e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1}),navigator.msPointerEnabled&&(e.style.msTouchAction="none",e.style.touchAction="none"),e.daypilotMainD=!0,e.calendar=this;var t=null,i=null,a=null,n="Fixed"===this.columnWidthSpec;if(n||this.$5U){if(this.showHours){var o=document.createElement("div");o.style.cssFloat="left",o.style.styleFloat="left",o.style.width=this.hourWidth+"px",o.style.height=this.$6u()+"px",o.style.overflow="hidden",o.style.position="relative",e.appendChild(o),t=o;var r=30,s=this.$5e()*this.cellHeight/(6e4*this.cellDuration)+r;a=document.createElement("div"),a.style.height=s+"px",o.appendChild(a)}var l=document.createElement("div");l.style.height=this.$6u()+"px",this.showHours&&(l.style.marginLeft=this.hourWidth+"px"),l.style.position="relative",l.style.overflow="auto",e.appendChild(l),i=l}else{var d=document.createElement("table");d.cellSpacing="0",d.cellPadding="0",d.border="0",d.style.border="0px none",d.style.width="100%",d.style.position="relative";var c=d.insertRow(-1),h;this.showHours&&(h=c.insertCell(-1),h.style.verticalAlign="top",h.style.padding="0px",h.style.border="0px none",a=h),h=c.insertCell(-1),h.width="100%",h.style.padding="0px",h.style.border="0px none",h.style.verticalAlign="top",this.cssOnly||(h.style.borderLeft="1px solid "+this.borderColor),i=h,e.appendChild(d)}if(a&&(this.nav.hourTable=this.$6A(),a.appendChild(this.nav.hourTable)),this.cssOnly||this.$4p){var u=document.createElement("div");u.style.height="0px",u.style.position="relative",u.appendChild(this.$6C());var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.width="100%",f.style.height="0px",u.appendChild(f),this.nav.crosshair=f,u.appendChild(this.$6D()),i.appendChild(u)}else i.appendChild(this.$6C());return this.nav.zoom=e,this.nav.bottomLeft=t,this.nav.bottomRight=i,this.nav.hoursPlaceholder=a,e},this.$6C=function(){var e=document.createElement("table");e.cellPadding="0",e.cellSpacing="0",e.border="0";var t="Fixed"===this.columnWidthSpec;return t||(e.style.width="100%"),e.style.border="0px none",!this.cssOnly,e.style.tableLayout="fixed",this.nav.main=e,this.nav.events=e,e},this.$6E=function(){var e="Fixed"===this.columnWidthSpec;if(e){for(var t=0,i=0;i<n.$5b.length;i++){var a=n.$5b[i];t+=a.width?a.width:n.columnWidth}return t+"px"}return"100%"},this.$6D=function(){var e=document.createElement("table");e.style.position="absolute",e.style.top="0px",e.cellPadding="0",e.cellSpacing="0",e.border="0",e.style.width=n.$6E(),e.style.border="0px none",e.style.tableLayout="fixed",this.nav.events=e;for(var t=!0,i=this.$5b,a=i.length,o=t?e.insertRow(-1):e.rows[0],r=0;a>r;r++){var s=t?o.insertCell(-1):o.cells[r];t&&(s.style.padding="0px",s.style.border="0px none",s.style.height="0px",s.style.overflow="visible",n.rtl||(s.style.textAlign="left"),n.$6F(s))}return e},this.$6A=function(){var e=document.createElement("table");e.cellSpacing="0",e.cellPadding="0",e.border="0",e.style.border="0px none",e.style.width=this.hourWidth+"px",e.oncontextmenu=function(){return!1},e.onmousemove=function(){n.$4K()};for(var t=this.$5e()/(60*this.timeHeaderCellDuration*1e3),i=0;t>i;i++)this.$6G(e,i);return e},this.$6H=function(){return(this.$5i()-this.$5i(!0))*(60/this.cellDuration)},this.$6I=function(){return this.$5i()-this.$5i(!0)},this.$5Y=function(){return this.$6H()*this.cellHeight},this.$6G=function(e,t){var i=60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration),a=e.insertRow(-1);a.style.height=i+"px";var o=a.insertCell(-1);o.valign="bottom",o.setAttribute("unselectable","on"),this.cssOnly||(o.className=this.$5c("rowheader"),o.style.backgroundColor=this.hourNameBackColor,o.style.cursor="default"),o.style.padding="0px",o.style.border="0px none";var r=document.createElement("div");this.cssOnly&&(r.className=this.$5c("_rowheader")),r.style.position="relative",r.style.width=this.hourWidth+"px",r.style.height=i+"px",r.style.overflow="hidden",r.setAttribute("unselectable","on");var s=document.createElement("div");this.cssOnly&&(s.className=this.$5c("_rowheader_inner")),s.setAttribute("unselectable","on"),this.cssOnly||(s.style.borderBottom="1px solid "+this.hourNameBorderColor,s.style.textAlign="right",s.style.height=i-1+"px");var l=null,d=null;if(this.hours){var c=t+this.$6I();d=this.hours[c],l=d.html}var h=this.timeHeaderCellDuration,u=this.startDate.addMinutes(h*t+60*this.$5i()),f=u.getHours();if(!l){var v=document.createElement("div");v.setAttribute("unselectable","on"),this.cssOnly||(v.style.padding="2px",v.style.fontFamily=this.hourFontFamily,v.style.fontSize=this.hourFontSize,v.style.color=this.hourFontColor);var p=12>f;"Clock12Hours"===this.$6l.timeFormat()&&(f%=12,0===f&&(f=12)),60!==this.timeHeaderCellDuration&&(f+=":"+u.toString("mm")),v.innerHTML=f;var g=document.createElement("span");g.setAttribute("unselectable","on"),this.cssOnly?g.className=this.$5c("_rowheader_minutes"):(g.style.fontSize="10px",g.style.verticalAlign="super");var y;y="Clock12Hours"===this.$6l.timeFormat()?p?"AM":"PM":"00",g.innerHTML=this.cssOnly?y:"&nbsp;"+y,v.appendChild(g),l=v.outerHTML}if("function"==typeof n.onBeforeTimeHeaderRender){var m={};m.header={},m.header.hours=f,m.header.minutes=u.getMinutes(),m.header.start=u.toString("HH:mm"),m.header.html=l,m.header.areas=d?d.areas:null,n.onBeforeTimeHeaderRender(m),null!==m.header.html&&(l=m.header.html),d=m.header}d&&(r.data=d,r.onmousemove=n.$6J,r.onmouseout=n.$6K),s.innerHTML=l,r.appendChild(s),o.appendChild(r)},this.$6J=function(e){n.$4K();var t=this;t.active||DayPilot.Areas.showAreas(t,t.data)},this.$6K=function(e){DayPilot.Areas.hideAreas(this,e)},this.$6u=function(){switch(this.heightSpec){case"Fixed":return this.height;case"Parent100Pct":return this.height;case"Full":return this.$5e()*this.cellHeight/(6e4*this.cellDuration);case"BusinessHours":case"BusinessHoursNoScroll":var e=this.$5f();return e*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.$5j=function(){if(!this.showHeader)return 0;var e=this.headerLevels*s.headerHeight();return this.showAllDayEvents&&s.allDayHeaderHeight()?e+s.allDayHeaderHeight():e},this.$4V=function(){if(this.headerHeightAutoFit){for(var e=0,t=0;t<this.nav.header.rows.length;t++)for(var i=this.nav.header.rows[t],a=0;a<i.cells.length;a++){var n=i.cells[a],o=n.firstChild,r=o.firstChild,s=o.style.height;o.style.height="auto",r.style.position="static";var l=o.offsetHeight;o.style.height=s,r.style.position="",e=Math.max(e,l)}e>this.headerHeight&&(this.$4n.headerHeight=e,this.$4T(),this.$4U())}},this.$5U=!0,this.$6L=function(){var e=this.$5U?n.nav.bottomRight:n.nav.scroll;return this.cssOnly?DayPilot.sw(e)>0:DayPilot.sw(e)>2},this.$6w=function(){var e=document.createElement("div");this.cssOnly||(e.style.borderLeft="1px solid "+this.borderColor,e.style.borderRight="1px solid "+this.borderColor);var t="Fixed"===this.columnWidthSpec;t||(e.style.overflow="auto"),e.style.position="absolute",e.style.left="0px",e.style.right="0px";var i=document.createElement("div");i.style.position="relative",i.style.zoom="1";var a=null,t="Fixed"===this.columnWidthSpec;if(t||this.$5U){var n=document.createElement("div");if(n.style.cssFloat="left",n.style.styleFloat="left",n.style.width=this.hourWidth+"px",this.showHours){var o=this.$6M();this.nav.corner=o,n.appendChild(o),i.appendChild(n),this.nav.upperLeft=n}var r=document.createElement("div");this.showHours&&(r.style.marginLeft=this.hourWidth+"px"),r.style.position="relative",r.style.overflow="hidden",r.style.height=this.$5j()+"px",i.appendChild(r),this.nav.upperRight=r,a=document.createElement("div"),a.style.position="relative",r.appendChild(a)}else{var s=document.createElement("table");s.cellPadding="0",s.cellSpacing="0",s.border="0",s.style.width="100%",s.style.borderCollapse="separate",s.style.border="0px none";var l=s.insertRow(-1);if(this.nav.fullHeader=s,this.showHours){var d=l.insertCell(-1);d.style.padding="0px",d.style.border="0px none";var o=this.$6M();d.appendChild(o),this.nav.corner=o}d=l.insertCell(-1),d.style.width="100%",this.cssOnly||(d.style.backgroundColor=this.hourNameBackColor),d.valign="top",d.style.position="relative",d.style.padding="0px",d.style.border="0px none",a=document.createElement("div"),a.style.position="relative",a.style.height=this.$5j()+"px",a.style.overflow="hidden",d.appendChild(a),this.nav.mid=a,i.appendChild(s)}this.nav.headerParent=a,this.$6N();var c=this.$6L(),t="Fixed"===this.columnWidthSpec;return c&&!t&&this.$6O(),e.appendChild(i),e},this.$6N=function(){this.nav.unifiedCornerRight=null,this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var e="Fixed"===this.columnWidthSpec;e||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.cssOnly||(this.nav.header.style.borderBottom="0px none #000000",this.nav.header.style.borderLeft="1px solid "+this.borderColor,this.nav.header.style.borderTop="1px solid "+this.borderColor),this.nav.header.oncontextmenu=function(){return!1};var t=this.$6L();if(this.cssOnly||t&&(this.nav.header.style.borderRight="1px solid "+this.borderColor),this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.height="0px";var e="Fixed"===this.columnWidthSpec;e?i.style.width=this.$5b.length*this.columnWidth+"px":(i.style.left="0px",i.style.right="0px"),this.nav.allday=i,this.nav.headerParent.appendChild(i)}},this.$6O=function(){if(this.nav.fullHeader){var e=this.nav.fullHeader.rows[0],t=e.insertCell(-1);this.cssOnly||(t.className=this.$5c("cornerright"),t.style.backgroundColor=this.hourNameBackColor,t.style.borderBottom="0px none",t.style.borderLeft="1px solid "+this.borderColor,t.style.borderRight="0px none"),t.style.padding="0px",t.style.verticalAlign="top",t.setAttribute("unselectable","on");var i=document.createElement("div");i.setAttribute("unselectable","on"),this.cssOnly&&(i.className=this.$5c("_cornerright")),i.style.overflow="hidden",i.style.position="relative",i.style.width="16px",i.style.height=this.$5j()+"px";var a=document.createElement("div");this.cssOnly?a.className=this.$5c("_cornerright_inner"):a.style.borderTop="1px solid "+this.borderColor,i.appendChild(a),t.appendChild(i),this.nav.cornerRight=i}},this.$6M=function(){var e=document.createElement("div");e.style.position="relative",this.cssOnly?e.className=this.$5c("_corner"):(e.style.backgroundColor=this.cornerBackColor,e.style.fontFamily=this.headerFontFamily,e.style.fontSize=this.headerFontSize,e.style.color=this.headerFontColor,e.className=this.$5c("corner")),e.style.width=this.hourWidth+"px",e.style.height=this.$5j()+"px",e.style.overflow="hidden",e.oncontextmenu=function(){return!1};var t=document.createElement("div");this.cssOnly?t.className=this.$5c("_corner_inner"):t.style.borderTop="1px solid "+this.borderColor,t.setAttribute("unselectable","on");var i=this.cornerHTML||this.cornerHtml;if(t.innerHTML=i?i:"",e.appendChild(t),!this.numberFormat)return e;var a=document.createElement("div");return a.style.position="absolute",a.style.padding="2px",a.style.top="0px",a.style.left="1px",a.style.backgroundColor="#FF6600",a.style.color="white",a.innerHTML="DEMO",a.setAttribute("unselectable","on"),e.appendChild(a),e},this.$4E=function(){var e=this.nav.main;e.root=null,e.onmouseup=null;for(var t=0;t<e.rows.length;t++)for(var i=e.rows[t],a=0;a<i.cells.length;a++){var n=i.cells[a];n.root=null,n.onmousedown=null,n.onmousemove=null,n.onmouseout=null,n.onmouseup=null,n.onclick=null,n.ondblclick=null,n.oncontextmenu=null}this.$4o||DayPilot.pu(e)},this.$4W=function(){for(var e=0;this.nav.scrollUp&&e<this.nav.scrollUp.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);for(var e=0;this.nav.scrollDown&&e<this.nav.scrollDown.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.$6F=function(e){var t=document.createElement("div");t.style.marginRight=n.columnMarginRight+"px",t.style.position="relative",t.style.height="1px",this.cssOnly||(t.style.fontSize="1px",t.style.lineHeight="1.2"),t.style.marginTop="-1px",e.events=t;var i=document.createElement("div");i.style.position="relative",t.style.height="1px",t.style.marginTop="-1px",e.separators=i,e.appendChild(i),e.appendChild(t)},this.$4Y=function(){var t=this.nav.main,i=60*this.cellDuration*1e3,a=this.$5m(),o=this.$6I()*(60/this.cellDuration),r=n.$5b,s=!0,l=0;if(t&&(l=n.$5V().scrollTop,this.$4E(),n.$4s.ielt9&&s)){DayPilot.de(this.nav.scrollable.parentNode);var d=this.$6x();this.$6P(),this.nav.scrollable=d.firstChild,this.nav.scroll.appendChild(d),t=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;t&&t.rows&&t.rows.length>0&&s;)this.$4o||DayPilot.pu(t.rows[0]),t.deleteRow(0);if(this.$6Q=!0,this.scrollLabelsVisible)for(var r=this.$5b,c=this.showHours?this.hourWidth:0,h=(this.nav.scroll.clientWidth-c)/r.length,u=0;u<r.length;u++){var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left=c+2+u*h+h/2+"px",f.style.display="none";var v=document.createElement("div");v.style.height="10px",v.style.width="10px",this.cssOnly?v.className=this.$5c("_scroll_up"):(v.style.backgroundRepeat="no-repeat",this.scrollUpUrl&&(v.style.backgroundImage="url('"+this.scrollUpUrl+"')"),v.className=this.$5c("scroll_up")),f.appendChild(v),this.nav.scrollLayer.appendChild(f),this.nav.scrollUp.push(f);var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left=c+2+u*h+h/2+"px",p.style.display="none";var v=document.createElement("div");v.style.height="10px",v.style.width="10px",this.cssOnly?v.className=this.$5c("_scroll_down"):(v.style.backgroundRepeat="no-repeat",this.scrollDownUrl&&(v.style.backgroundImage="url('"+this.scrollDownUrl+"')"),v.className=this.$5c("scroll_down")),p.appendChild(v),this.nav.scrollLayer.appendChild(p),this.nav.scrollDown.push(p)}var g=r.length;if(this.cssOnly||this.$4p){for(var y=this.nav.events;y&&y.rows&&y.rows.length>0&&s;)this.$4o||DayPilot.pu(y.rows[0]),y.deleteRow(0);for(var m=s?y.insertRow(-1):y.rows[0],b=0;g>b;b++){var w=s?m.insertCell(-1):m.cells[b];if(s){w.style.padding="0px",w.style.border="0px none",w.style.height="1px",w.style.overflow="visible";var D="Fixed"===this.columnWidthSpec;D&&(w.style.width=r[b].width?r[b].width+"px":this.columnWidth+"px"),n.rtl||(w.style.textAlign="left"),n.$6F(w)}}}for(var u=0;a>u;u++){var m=s?t.insertRow(-1):t.rows[u],k=u+o;s&&(m.style.MozUserSelect="none",m.style.KhtmlUserSelect="none",m.style.WebkitUserSelect="none");for(var b=0;g>b;b++){var C=this.$5b[b],w=s?m.insertCell(-1):m.cells[b];if(w.start=C.start.addTime(k*i).addHours(this.$5i()),w.end=w.start.addTime(i),w.resource=C.id,"function"==typeof this.onBeforeCellRender){this.cellProperties||(this.cellProperties={});var x={};x.resource=w.resource,x.start=w.start,x.end=w.end;var P=b+"_"+k;x.cssClass=null,x.html=null,x.backImage=null,x.backRepeat=null,x.backColor=null,x.business=this.$6R(w.start,w.end),this.cellProperties[P]&&DayPilot.Util.copyProps(this.cellProperties[P],x,["cssClass","html","backImage","backRepeat","backColor","business"]);var S={};S.cell=x,this.onBeforeCellRender(S),this.cellProperties[P]=x}var A=n.$6S(b,k);if(s)if(w.root=this,w.style.padding="0px",w.style.border="0px none",w.style.verticalAlign="top",w.style.height=n.cellHeight+"px",w.style.overflow="hidden",w.setAttribute("unselectable","on"),this.cssOnly){var T=document.createElement("div");T.className=n.$5c("_cell"),T.style.position="relative",T.style.height=n.cellHeight+"px",T.style.overflow="hidden",T.setAttribute("unselectable","on");var M=document.createElement("div");M.className=n.$5c("_cell_inner"),T.appendChild(M),w.appendChild(T)}else{var T=document.createElement("div");T.style.height=n.cellHeight-1+"px",T.style.width="100%",T.style.overflow="hidden",T.setAttribute("unselectable","on"),w.appendChild(T);var E=document.createElement("div");E.setAttribute("unselectable","on"),E.style.fontSize="1px",E.style.height="0px",w.appendChild(E),(!n.rtl&&b!==g-1||n.rtl)&&(w.style.borderRight="1px solid "+n.cellBorderColor);var H=w.end.getMinutes()+w.end.getSeconds()+w.end.getMilliseconds()>0;H?(""!==n.hourHalfBorderColor&&(E.style.borderBottom="1px solid "+n.hourHalfBorderColor),E.className=n.$5c("hourhalfcellborder")):(""!==n.hourBorderColor&&(E.style.borderBottom="1px solid "+n.hourBorderColor),E.className=n.$5c("hourcellborder"))}else T=w.firstChild,T.className=n.$5c("_cell");w.onmousedown=this.$5O,w.onmousemove=this.$5R,w.onmouseout=this.$5Q,DayPilot.re(w,DayPilot.touch.end,this.$6q.onCellTouchEnd),w.onmouseup=function(){return!1},w.onclick=function(){return!1},w.ondblclick=function(){if(e.firstMousePos=null,n.$5P(),clearTimeout(e.selectedTimeout),"Disabled"!==n.timeRangeDoubleClickHandling){var t=n.getSelection();n.$5J(t.start,t.end,t.resource)}},w.oncontextmenu=function(){if(this.selected||(n.clearSelection(),e.column=e.getColumn(this),n.selectedCells.push(this),e.firstSelected=this,e.topSelectedCell=this,e.bottomSelectedCell=this,n.$5P()),"Disabled"===n.timeRangeRightClickHandling)return!1;var t=n.getSelection(),i={};return i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeRightClick&&(n.onTimeRangeRightClick(i),i.preventDefault.value)?!1:("ContextMenu"===n.timeRangeRightClickHandling&&n.contextMenuSelection&&n.contextMenuSelection.show(n.getSelection()),"function"==typeof n.onTimeRangeRightClicked&&n.onTimeRangeRightClicked(i),!1)};var _=n.$6T(b,k);T=w.firstChild;var D="Fixed"===this.columnWidthSpec;D&&(T.style.width=C.width?C.width+"px":this.columnWidth+"px"),_&&(this.cssOnly?T.firstChild.style.background=_:T.style.background=_);var R=A?A.business:this.$6R(w.start,w.end);R&&this.cssOnly&&DayPilot.Util.addClass(T,n.$5c("_cell_business"));var B=this.cssOnly?T.firstChild:T;B&&(B.innerHTML=""),T.style.backgroundImage="",T.style.backgroundRepeat="",A&&(A.html&&(B.innerHTML=A.html),A.cssClass&&(this.cssOnly?DayPilot.Util.addClass(T,A.cssClass):DayPilot.Util.addClass(w,n.$5c(A.cssClass))),A.backImage&&(T.style.backgroundImage="url('"+A.backImage+"')"),A.backRepeat&&(T.style.backgroundRepeat=A.backRepeat)),this.cssOnly||DayPilot.Util.addClass(w,n.$5c("cellbackground"))}}t.onmouseup=this.$5S,t.root=this,n.nav.scrollable.style.display="",n.$5V().scrollTop=l},this.$6R=function(e,t){return this.businessBeginsHour<this.businessEndsHour?!(e.getHours()<this.businessBeginsHour||e.getHours()>=this.businessEndsHour||6===e.getDayOfWeek()||0===e.getDayOfWeek()):e.getHours()>=this.businessBeginsHour?!0:e.getHours()<this.businessEndsHour?!0:!1},this.$6B=function(t){t=t||window.event,t.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),e.activeCalendar=this;var i=n.nav.main;n.coords=DayPilot.mo3(i,t);var a=DayPilot.mc(t),o=n.crosshairType&&"Disabled"!==n.crosshairType,r=n.coords.x<n.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||e.selecting||r?n.$4K():o&&n.$6U(),DayPilot.Global.resizing)n.$6V(a);else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return void(e.movingShadow=null);if(!e.movingShadow){var s=3;if(!(DayPilot.distance(a,e.originalMouse)>s))return;e.movingShadow=n.$5a(DayPilot.Global.moving,!n.$4s.ie,n.shadow),e.movingShadow.style.width=e.movingShadow.parentNode.offsetWidth+1+"px"}if(!n.coords)return;var l=n.cellHeight,d=0,c=e.moveOffsetY;c||(c=l/2),"Top"===this.moveBy&&(c=0);var h=Math.floor((n.coords.y-c-d+l/2)/l)*l+d;d>h&&(h=d);var u=n.nav.main,f=u.clientHeight,v=parseInt(e.movingShadow.style.height);h+v>f&&(h=f-v),e.movingShadow.style.top=h+"px";var p=u.clientWidth/u.rows[0].cells.length,g=Math.floor(n.coords.x/p);0>g&&(g=0),n.rtl&&(g=n.$5b.length-g-1);var y=n.nav.events;g<y.rows[0].cells.length&&g>=0&&e.movingShadow.column!==g&&(e.movingShadow.column=g,e.moveShadow(y.rows[0].cells[g]))}if(e.drag){if(e.gShadow&&document.body.removeChild(e.gShadow),e.gShadow=null,!e.movingShadow&&n.coords){var m=n.$5a(e.drag,!1,e.drag.shadowType);if(m){e.movingShadow=m;var b=DayPilot.Date.today(),t={value:e.drag.id,start:b,end:b.addSeconds(e.drag.duration),text:e.drag.text},w=new DayPilot.Event(t,n);w.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=w,DayPilot.Global.moving.helper={}}}t.cancelBubble=!0}},this.$6V=function(t){if(!DayPilot.Global.resizing.event)return DayPilot.Global.resizing=null,DayPilot.de(e.resizingShadow),void(e.resizingShadow=null);e.resizingShadow||(e.resizingShadow=n.$5a(DayPilot.Global.resizing,!1,n.shadow));var i=DayPilot.Global.resizing.event.calendar.cellHeight,a=0,o=t.y-e.originalMouse.y;if(console.log(DayPilot.Global.resizing.dpBorder),"bottom"===DayPilot.Global.resizing.dpBorder){var r=Math.floor((e.originalHeight+e.originalTop+o+i/2)/i)*i-e.originalTop+a;i>r&&(r=i);var s=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;e.originalTop+r>s&&(r=s-e.originalTop),e.resizingShadow.style.height=r+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var l=Math.floor((e.originalTop+o-a+i/2)/i)*i+a;a>l&&(l=a),l>e.originalTop+e.originalHeight-i&&(l=e.originalTop+e.originalHeight-i);var r=e.originalHeight-(l-e.originalTop);i>r?r=i:e.resizingShadow.style.top=l+"px",e.resizingShadow.style.height=r+"px"}},this.$6W={};var o=this.$6W;o.getWidth=function(){return n.nav.top.offsetWidth},o.getHeight=function(){return n.nav.top.offsetHeight-DayPilot.sh(n.nav.scroll)-1},o.download=function(e){var t=o.canvas(),e=e||"image.png";if(window.navigator.msSaveBlob){var i=t.msToBlob();window.navigator.msSaveBlob(i,e)}else{var a=document.createElement("a");a.download=e,a.href=t.toDataURL(),a.click()}},o.getCanvas=function(){return o.canvas()},o.getRectangles=function(){var e=n.showHours?n.hourWidth:0,t=n.$5j(),i={};return i.main={x:0,y:0,w:o.getWidth(),h:o.getHeight()},i.corner={x:0,y:0,w:e,h:t},i.grid={x:e,y:t,w:o.getWidth()-e,h:o.getHeight()-t},i},o.fakeDurationBar=function(){var e=document.createElement("div");e.style.display="none",e.className=n.$5c("_event");var t=document.createElement("div");t.className=n.$5c("_event_bar");var i=document.createElement("div");return i.className=n.$5c("_event_bar_inner"),document.body.appendChild(e),t.appendChild(i),e.appendChild(t),e},o.fakeCell=function(){var e=document.createElement("div");e.style.display="none",e.className=n.$5c("_cell");var t=document.createElement("div");return t.className=n.$5c("_cell_inner"),document.body.appendChild(e),e.appendChild(t),e
},o.extractUrl=function(e){var t=/url\((.*)\)/.exec(e);return t[1]},o.getImages=function(){var e={},t=o.fakeExpand();return e.expand=o.extractUrl(new DayPilot.StyleReader(t).get("background-image")),t.className=n.$5c("_tree_image_collapse"),e.collapse=o.extractUrl(new DayPilot.StyleReader(t).get("background-image")),t.className=n.$5c("_tree_image_no_children"),e.nochildren=o.extractUrl(new DayPilot.StyleReader(t).get("background-image")),DayPilot.de(t),e},o.canvas=function(){var e=o.getRectangles(),t=new DayPilot.Canvas(e.main.w,e.main.h);console.log(e);var i=new DayPilot.StyleReader(n.nav.top).get("border-color"),a=new DayPilot.StyleReader(n.nav.header.rows[0].cells[0].firstChild.firstChild).get("border-bottom-color");return t.rect(e.main,i),t.line(e.grid.x,0,e.grid.x,e.main.h,a),t.line(0,e.grid.y,e.main.w,e.grid.y,a),t.getCanvasElement()},this.temp={},this.temp.getPosition=function(){var e=n.$6X.getCellCoords();if(!e)return null;var t=n.$5b[e.x],i={};return i.resource=t.id,i.start=new DayPilot.Date(t.start).addHours(n.$5i(!0)).addMinutes(e.y*n.cellDuration),i.end=i.start.addMinutes(n.cellDuration),i},this.temp.img=n.$6W,this.$6X={},this.$6X.getCellCoords=function(){var e={};if(e.x=0,e.y=0,!n.coords)return null;for(var t=n.nav.main,i=n.coords.x,a=0,o=this.col(t,a);o&&i>o.left;)a+=1,o=this.col(t,a);e.x=a-1;var r=0,s=Math.floor((n.coords.y-r)/n.cellHeight);return e.y=s,e.x<0?null:e},this.$6X.col=function(e,t){var i={};if(i.left=0,i.width=0,!e)return null;if(!e.rows)return null;if(0===e.rows.length)return null;if(0==e.rows[0].cells.length)return null;var a=e.rows[0].cells[t];if(!a)return null;var n=DayPilot.abs(e),o=DayPilot.abs(a);return i.left=o.x-n.x,i.width=a.offsetWidth,i},this.$6U=function(){this.$4K(),this.elements.crosshair||(this.elements.crosshair=[]);var e=this.$6X.getCellCoords();if(e){var t=e.x,i=Math.floor(e.y/(60/n.cellDuration)*(60/n.timeHeaderCellDuration));if(!(0>i)){if(this.nav.hourTable){if(i>=this.nav.hourTable.rows.length)return;var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.style.opacity=.5,a.style.backgroundColor=this.crosshairColor,a.style.opacity=this.crosshairOpacity/100,a.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(a),this.elements.crosshair.push(a)}if(this.nav.header){var o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.right="0px",o.style.top="0px",o.style.bottom="0px",o.style.opacity=.5,o.style.backgroundColor=this.crosshairColor,o.style.opacity=this.crosshairOpacity/100,o.style.filter="alpha(opacity="+this.crosshairOpacity+")";var r=this.nav.header.rows[this.headerLevels-1];r.cells[t]&&(r.cells[t].firstChild.appendChild(o),this.elements.crosshair.push(o))}if("Header"!==this.crosshairType){var s=this.nav.crosshair,l=0,d=Math.floor((n.coords.y-l)/n.cellHeight)*n.cellHeight+l,c=n.cellHeight,h=document.createElement("div");h.style.position="absolute",h.style.left="0px",h.style.right="0px",h.style.top=d+"px",h.style.height=c+"px",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",h.onmousedown=this.$6Y,s.appendChild(h),this.elements.crosshair.push(h);var u=this.$6X.col(this.nav.main,t);if(c=this.nav.main.clientHeight,u){var f=document.createElement("div");f.style.position="absolute",f.style.left=u.left+"px",f.style.width=u.width+"px",f.style.top="0px",f.style.height=c+"px",f.style.backgroundColor=this.crosshairColor,f.style.opacity=this.crosshairOpacity/100,f.style.filter="alpha(opacity="+this.crosshairOpacity+")",f.onmousedown=this.$6Y,s.appendChild(f),this.elements.crosshair.push(f)}}}}},this.$6Y=function(e){n.$4K();var t=n.$6X.getCellCoords(),i=0,a=n.nav.main.rows[t.y+i].cells[t.x];n.$5O.apply(a,[e])},this.$4K=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var e=0;e<this.elements.crosshair.length;e++){var t=this.elements.crosshair[e];t&&t.parentNode&&t.parentNode.removeChild(t)}this.elements.crosshair=[]}},this.$4R=function(){if(this.cellConfig){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++)for(var i=this.cellProperties[t+"_0"],a=1;a<e.y;a++)this.cellProperties[t+"_"+a]=i;if(e.horizontal)for(var a=0;a<e.y;a++)for(var i=this.cellProperties["0_"+a],t=1;t<e.x;t++)this.cellProperties[t+"_"+a]=i;if(e["default"])for(var i=e["default"],a=0;a<e.y;a++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+a]||(this.cellProperties[t+"_"+a]=i)}},this.$6S=function(e,t){return this.cellProperties?this.cellProperties[e+"_"+t]:null},this.$6Z=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].business:!1},this.$6T=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.$4F=function(){var e=this.nav.header;if(e&&e.rows)for(var t=0;t<e.rows.length;t++)for(var i=e.rows[t],a=0;a<i.cells.length;a++){var n=i.cells[a];n.onclick=null,n.onmousemove=null,n.onmouseout=null}this.$4o||DayPilot.pu(e)},this.$70=function(e,t){for(var i=t?this.nav.header.insertRow(-1):this.nav.header.rows[e-1],a=this.$6h(e),o=a.length,r=e===n.headerLevels,l=0;o>l;l++){var d=a[l];if(n.$59()&&"function"==typeof n.onBeforeHeaderRender){var c={};c.header={},DayPilot.Util.copyProps(d,c.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(c),DayPilot.Util.copyProps(c.header,d,["html","backColor","toolTip","areas"])}var h=d.getChildren?!0:!1,u=t?i.insertCell(-1):i.cells[l];if(u.data=d,r);else{var f=1;h&&(f=d.getChildrenCount(n.headerLevels-e+1)),u.colSpan=f}h&&(u.onclick=this.$5t,u.onmousemove=this.$5u,u.onmouseout=this.$5v,d.toolTip&&(u.title=d.toolTip)),u.style.overflow="hidden",u.style.padding="0px",u.style.border="0px none",u.style.height=s.headerHeight()+"px",this.cssOnly||(u.style.borderLeft="0px none",l!==o-1&&(u.style.borderRight="1px solid "+this.borderColor));var v=t?document.createElement("div"):u.firstChild;if(t){if(v.setAttribute("unselectable","on"),v.style.MozUserSelect="none",v.style.KhtmlUserSelect="none",v.style.WebkitUserSelect="none",v.style.position="relative",v.style.height=s.headerHeight()+"px",this.cssOnly){v.className=n.$5c("_colheader");var p=document.createElement("div");p.className=n.$5c("_colheader_inner"),d.backColor&&(p.style.background=d.backColor),v.appendChild(p)}else{v.className=n.$5c("colheader"),v.style.cursor="default",v.style.fontFamily=this.headerFontFamily,v.style.fontSize=this.headerFontSize,v.style.color=this.headerFontColor,v.style.backgroundColor=d.backColor,v.style.textAlign="center";var g=document.createElement("div");g.style.position="absolute",g.style.left="0px",g.style.right="0px",g.style.top="0px",g.style.bottom="0px",g.style.padding="2px",g.setAttribute("unselectable","on"),1!==e&&(g.style.borderTop="1px solid "+this.borderColor),"Disabled"!==this.headerClickHandling&&(g.style.cursor="pointer"),v.appendChild(g)}u.appendChild(v)}else v.style.height=s.headerHeight()+"px";this.$71(v,d),h&&(v.firstChild.innerHTML=d.html)}},this.$71=function(t,i){for(var a=[],n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];o.isActiveArea&&a.push(o)}for(var n=0;n<a.length;n++){var o=a[n];DayPilot.de(o)}if(i.areas)for(var r=i.areas,n=0;n<r.length;n++){var s=r[n];if("Visible"===s.v){var l=new e.Column(i.id,i.name,i.start),d=DayPilot.Areas.createArea(t,l,s);t.appendChild(d)}}},this.$4U=function(){if(this.showHeader){var e=this.nav.header,t=!0,i=this.$6h(n.headerLevels,!0),a=i.length;for(this.$72&&n.$4s.ielt9&&t&&(DayPilot.de(this.nav.header),this.$6N());this.$72&&e&&e.rows&&e.rows.length>0&&t;)this.$4o||DayPilot.pu(e.rows[0]),e.deleteRow(0);this.$72=!0;var o=n.cornerHTML||n.cornerHtml;if(!t){var r=n.nav.corner;r&&(this.cssOnly||(r.style.backgroundColor=n.cornerBackColor?n.cornerBackColor:n.hourBackColor),this.$4o||DayPilot.pu(r.firstChild),r.firstChild.innerHTML=o?o:"")}for(var l=0;l<n.headerLevels;l++)this.$70(l+1,t);if(this.showAllDayEvents)for(var d=t?this.nav.header.insertRow(-1):this.nav.header.rows[n.headerLevels],l=0;a>l;l++){var c=i[l],h=t?d.insertCell(-1):d.cells[l];h.data=c,h.style.padding="0px",h.style.border="0px none",h.style.overflow="hidden",this.cssOnly||(h.style.lineHeight="1.2");var u=t?document.createElement("div"):h.firstChild;if(t){if(u.setAttribute("unselectable","on"),u.style.MozUserSelect="none",u.style.KhtmlUserSelect="none",u.style.WebkitUserSelect="none",u.style.overflow="hidden",u.style.position="relative",u.style.height=s.allDayHeaderHeight()+"px",this.cssOnly){u.className=this.$5c("_alldayheader");var f=document.createElement("div");f.className=this.$5c("_alldayheader_inner"),u.appendChild(f)}else{u.className=this.$5c("alldayheader"),u.style.textAlign="center",u.style.backgroundColor=c.backColor,u.style.cursor="default";var v=document.createElement("div");v.style.position="absolute",v.style.left="0px",v.style.right="0px",v.style.top="0px",v.style.bottom="0px",v.setAttribute("unselectable","on"),v.style.borderTop="1px solid "+this.borderColor,u.appendChild(v),n.rtl?v.style.borderLeft=l===a-1?"1px solid "+c.backColor:"1px solid "+this.borderColor:l!==a-1&&(v.style.borderRight="1px solid "+this.borderColor)}h.appendChild(u)}u.style.height=s.allDayHeaderHeight()+"px"}}},this.$4y=function(){this.loadingLabelVisible&&this.nav.loading&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.$5j()+5+"px",this.nav.loading.style.display="")},this.$4N=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.$6P=function(){var e=this.$5V(),t=this.initScrollPos;if(!t){var i=this.businessBeginsHour;t=i*(60/n.cellDuration)*n.cellHeight}e.root=this,e.onscroll=this.$5T,0===e.scrollTop?e.scrollTop=t-this.$5Y():this.$5T()},this.$73=function(){var e=n.nav.top;return e.offsetWidth>0&&e.offsetHeight>0},this.$74=function(){var e=n.$73;e()||(n.$75=setInterval(function(){e()&&(n.$6P(),n.$51(),clearInterval(n.$75))},100))},this.scrollToY=function(e){var t=this.$5V();t.scrollTop=e},this.scrollToHour=function(e){var t=this.$5V(),i=e*(60/n.cellDuration)*n.cellHeight;t.scrollTop=i-this.$5Y()},this.$5V=function(){var e="Fixed"===this.columnWidthSpec;return e||this.$5U?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.$51=function(){if(n.showHeader){var e=this.$6L(),t=!!this.nav.cornerRight;if(this.$5U){this.nav.unifiedCornerRight&&DayPilot.de(this.nav.unifiedCornerRight);var i=this.$6E();if("100%"!=i&&parseInt(i)<this.$5V().clientWidth)return;var a=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);var o=this.nav.unifiedCornerRight;o.rowSpan=this.nav.header.rows.length,o.style.width=a+"px";var r=document.createElement("div");r.setAttribute("unselectable","on"),this.cssOnly&&(r.className=this.$5c("_cornerright")),r.style.overflow="hidden",r.style.height=this.$5j()+"px",r.style.position="relative";var s=document.createElement("div");this.cssOnly&&(s.className=this.$5c("_cornerright_inner")),r.appendChild(s),o.appendChild(r);var l="Fixed"===this.columnWidthSpec;return void(!l&&this.nav.allday&&(this.nav.allday.style.right=a+"px"))}if(e!==t)if(e)this.$6O();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var o=this.nav.fullHeader.rows[0].cells[2];o.parentNode&&o.parentNode.removeChild(o)}this.nav.cornerRight=null}var d=this.nav.cornerRight;if(d){var a=DayPilot.sw(n.$5k());return this.cssOnly?d&&(d.style.width=a+"px"):a>=3&&(d.style.width=a-3+"px"),a}}},this.$58=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$4r>=this.autoRefreshMaxCount)){this.$4C();var t=this.autoRefreshInterval;if(!t||10>t)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){n.$76()},1e3*this.autoRefreshInterval)}},this.$4C=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$76=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||e.drag||e.selecting)){var t=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.$4r,i.preventDefault=function(){this.preventDefault.value=!0},n.onAutoRefresh(i),i.preventDefault.value&&(t=!0)}!t&&this.$4x()&&this.commandCallBack(this.autoRefreshCommand),this.$4r++}this.$4r<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){n.$76()},1e3*this.autoRefreshInterval))},this.$4G=function(){n.$50(),"Parent100Pct"===n.heightSpec&&n.setHeight(parseInt(n.nav.top.clientHeight,10)),n.$57()},this.$77=function(){e.globalHandlers||(e.globalHandlers=!0,DayPilot.re(document,"mousemove",e.gMouseMove),DayPilot.re(document,"mouseup",e.gMouseUp),DayPilot.re(document,DayPilot.touch.move,e.gTouchMove),DayPilot.re(document,DayPilot.touch.end,e.gTouchEnd)),DayPilot.re(window,"resize",this.$4G)},this.$6p=function(t){if(!r.active&&!r.using){t=t||window.event;var i=DayPilot.Util.mouseButton(t);if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!i.left){if(("move"===this.style.cursor||"Full"===n.moveBy&&this.event.client.moveEnabled())&&i.left){DayPilot.Global.moving=this;var a=DayPilot.Global.moving.helper={};a.oldColumn=n.$5b[this.event.part.dayIndex].id,e.originalMouse=DayPilot.mc(t),e.originalTop=this.offsetTop;var o=DayPilot.mo3(this,t);e.moveOffsetY=o?o.y:0,n.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,e.originalMouse=DayPilot.mc(t),e.originalHeight=this.offsetHeight,e.originalTop=this.offsetTop,n.nav.top.style.cursor=this.style.cursor;return!1}},this.$78=function(e){var t=this.$4n.events,i=this.events.list[e],a={};for(var o in i)a[o]=i[o];if(n.showEventStartEnd){var r=i.start.getDatePart().getTime()===i.end.getDatePart().getTime(),l=r?s.locale().timePattern:s.locale().dateTimePattern,d=i.start.toString(l),c=i.end.toString(l);a.html=a.text+" ("+d+" - "+c+")"}if("function"==typeof this.onBeforeEventRender){var h={};h.e=a,h.data=a,this.onBeforeEventRender(h)}t[e]=a},this.$6q={};var r=n.$6q;r.active=!1,r.start=null,r.timeout=null,r.startcell=null,this.$6q.getCellCoords=function(e){var t,i;e.touches?(t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY);var a=DayPilot.abs(n.nav.main),o={x:t-a.x,y:i-a.y},r=n.nav.main.clientWidth/n.$5b.length,s={pageX:t,pageY:i,x:Math.floor(o.x/r),y:Math.floor(o.y/n.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}};return s},this.$6q.startSelecting=function(t){var i=n.nav.main.rows[t.y].cells[t.x];r.startcell=t,n.clearSelection(),e.column=e.getColumn(i),n.selectedCells.push(i),e.firstSelected=i,e.topSelectedCell=i,e.bottomSelectedCell=i,n.$5P()},this.$6q.extendSelection=function(t){var i=n.nav.main.rows[t.y].cells[t.x];n.clearSelection(),t.y<r.startcell.y?(n.selectedCells=e.getCellsBelow(i),e.topSelectedCell=n.selectedCells[0],e.bottomSelectedCell=e.firstSelected):(n.selectedCells=e.getCellsAbove(i),e.topSelectedCell=e.firstSelected,e.bottomSelectedCell=n.selectedCells[0]),n.$5P()},this.$6q.onMainTouchStart=function(e){if(!DayPilot.Util.isMouseEvent(e)&&!(r.active||e.touches.length>1)){r.using=!0;var t=r.getCellCoords(e);r.startCoords=t;var i=n.tapAndHoldTimeout;r.timeout=window.setTimeout(function(){switch(e.preventDefault(),r.active=!0,n.timeRangeTapAndHoldHandling){case"Select":r.startSelecting(t);break;case"ContextMenu":r.startSelecting(t),r.active=!1,n.contextMenuSelection&&n.contextMenuSelection.show(n.getSelection())}},i)}},this.$6q.onCellTouchMove=function(e){},this.$6q.onCellTouchEnd=function(e){if(!r.active)return void window.clearTimeout(r.timeout);e.preventDefault(),r.startcell=null;var t=n.getSelection();t.toString=function(){return"start: "+this.start+"\nend: "+this.end},n.$5I(t.start,t.end,t.resource),window.setTimeout(function(){r.active=!1},500)},this.$6q.startMoving=function(t,i){DayPilot.Global.moving=t;var a=DayPilot.Global.moving.helper={};a.oldColumn=n.$5b[t.event.part.dayIndex].id,e.originalMouse=i,e.originalTop=this.offsetTop;var o=DayPilot.abs(t);e.moveOffsetY=i.y-o.y,e.movingShadow||(e.movingShadow=n.$5a(DayPilot.Global.moving,!n.$4s.ie,n.shadow),e.movingShadow.style.width=e.movingShadow.parentNode.offsetWidth+1+"px")},this.$6q.startResizing=function(t,i,a){DayPilot.Global.resizing=t,t.dpBorder=i,e.originalMouse=a,e.originalHeight=t.offsetHeight,e.originalTop=t.offsetTop},this.$6q.updateResizing=function(e){n.$6V(e)},this.$6q.updateMoving=function(){var t=n.coords,i=n.cellHeight,a=0,o=e.moveOffsetY;o||(o=i/2);var r=Math.floor((t.y-o-a+i/2)/i)*i+a;a>r&&(r=a);var s=n.nav.main,l=s.clientHeight,d=parseInt(e.movingShadow.style.height);r+d>l&&(r=l-d),e.movingShadow.style.top=r+"px";var c=s.clientWidth/s.rows[0].cells.length,h=Math.floor(t.x/c);0>h&&(h=0);var u=n.nav.events;h<u.rows[0].cells.length&&h>=0&&e.movingShadow.column!==h&&(e.movingShadow.column=h,e.moveShadow(u.rows[0].cells[h]))},this.$6q.onEventTouchStart=function(e){if(!r.active&&!DayPilot.Util.isMouseEvent(e)){e.stopPropagation(),r.preventEventTap=!1,r.using=!0,r.startCoords=r.getCellCoords(e);var t=this,i=e.touches?e.touches[0].pageX:e.pageX,a=e.touches?e.touches[0].pageY:e.pageY,o={x:i,y:a,$d:this};n.coords=r.relativeCoords(e);var s=n.tapAndHoldTimeout;r.timeout=window.setTimeout(function(){var i=t.event;switch(r.active=!0,n.eventTapAndHoldHandling){case"Move":i.client.moveEnabled()&&r.startMoving(t,o);break;case"ContextMenu":var a=i.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(e),a?a.show(i):n.contextMenu&&n.contextMenu.show(i)}},s)}},this.$6q.onMainTouchMove=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(r.timeout){var i=r.getCellCoords(t);i&&r.startCoords&&(i.pageX!==r.startCoords.pageX||i.pageY!==r.startCoords.pageY)&&window.clearTimeout(n.$6q.timeout)}if(DayPilot.Global.moving&&e.movingShadow)return t.preventDefault(),n.coords=r.relativeCoords(t),void r.updateMoving();if(DayPilot.Global.resizing){t.preventDefault();var a=t.touches?t.touches[0]:t,i={x:a.pageX,y:a.pageY};return void r.updateResizing(i)}if(r.startcell){if(t.preventDefault(),!r.active)return void window.clearTimeout(r.timeout);var i=r.getCellCoords(t);r.extendSelection(i)}r.preventEventTap=!0}},this.$6q.relativeCoords=function(e){var t=n.nav.main,i=e.touches?e.touches[0].pageX:e.pageX,a=e.touches?e.touches[0].pageY:e.pageY,o=DayPilot.abs(t),r={x:i-o.x,y:a-o.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return r},this.$6q.onMainTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t))if(DayPilot.Global.moving){r.active=!1,t.preventDefault(),t.stopPropagation();var i=e.movingShadow.offsetTop;e.deleteShadow(e.movingShadow);var a=DayPilot.Global.moving.event,o=e.movingShadow.column;DayPilot.Global.moving=null,e.movingShadow=null,a.calendar.$5B(a,o,i,t,e.drag)}else if(r.startcell){if(!r.active)return void window.clearTimeout(r.timeout);t.preventDefault(),r.startcell=null;var s=n.getSelection();s.toString=function(){return"start: "+this.start+"\nend: "+this.end},n.$5I(s.start,s.end,s.resource),window.setTimeout(function(){r.active=!1},500)}},this.$6q.onEventTouchMove=function(e){r.preventEventTap=!0},this.$6q.onEventTouchEnd=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(!r.active){if(r.preventEventTap)return;return e.preventDefault(),window.clearTimeout(r.timeout),void n.$5o(this,!1)}return r.active=!1,r.timeout?void window.clearTimeout(r.timeout):void e.preventDefault()}},this.$6n=function(t){var i=5,a=Math.max(n.durationBarWidth,10),o=5,r="Top"===n.moveBy;if("undefined"!=typeof e){var s=DayPilot.mo3(this,t);if(s){var l=this;if(!l.active){var d=[];l.event.client.deleteEnabled()&&d.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:n.$5c("_event_delete"),js:function(e){n.$5w(e)}});var c=l.event.cache?l.event.cache.areas:l.event.data.areas;c&&c.length>0&&(d=d.concat(c)),DayPilot.Areas.showAreas(l,l.event,null,d),n.cssOnly&&DayPilot.Util.addClass(l,n.$5c("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var h=this.isFirst,u=this.isLast;if("Disabled"!==n.moveBy&&"None"!==n.moveBy&&(!r&&s.x<=a&&this.event.client.moveEnabled()?this.style.cursor=h?"move":"not-allowed":!r&&s.y<=i&&this.event.client.resizeEnabled()?h?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":r&&s.y<=a&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-s.y<=i&&this.event.client.resizeEnabled()?u?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.style.cursor=this.event.client.clickEnabled()?"pointer":"default"),"undefined"!=typeof DayPilotBubble&&n.bubble&&"Disabled"!==n.eventHoverHandling&&("default"===this.style.cursor||"pointer"===this.style.cursor))){var f=this.$79&&s.x===this.$79.x&&s.y===this.$79.y;f||(this.$79=s,n.bubble.showEvent(this.event))}}}}},this.$6o=function(e){n.cssOnly&&DayPilot.Util.removeClass(this,n.$5c("_event_hover")),n.bubble&&n.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,e)},this.$7a=null,this.$53=function(){if(this.showCurrentTime){this.$7b();var e=(new DayPilot.Date).addMinutes(n.showCurrentTimeOffset);if("Full"===n.showCurrentTimeMode)this.$7c(e);else{if("Day"!==n.showCurrentTimeMode)throw"Invalid DayPilot.Calendar.showCurrentTimeMode value: "+n.showCurrentTimeMode;this.$7d(e)}if(this.nav.events&&!this.$7a){var t=30;this.$7a=setTimeout(function(){n.$7a=null,n.$53()},1e3*t)}}},this.$7b=function(){DayPilot.de(n.elements.separators),n.elements.separators=[]},this.$7d=function(e){var t=e.getTime(),i=n.nav.events;if(i)for(var a=0;a<n.$5b.length;a++){var o=n.$5b[a],r=n.$5e(!0),s=new DayPilot.Date(o.start).addHours(this.$5i(!0)),l=s.getTime(),d=s.addTime(r),c=d.getTime();if(t>=l&&c>=t){var h=this.$7e(e,o.start).top-1,u=i.rows[0].cells[a],f=u.separators,v=document.createElement("div");v.style.position="absolute",v.style.top=h+"px",v.style.height="1px",v.style.left="0px",v.style.right="0px",v.className=n.$5c("_now"),f.insertBefore(v,f.firstChild),n.elements.separators.push(v)}}},this.$7c=function(e){var t=e.getTime(),i=n.nav.events;if(i){var a=n.$5b[0];if(a)for(var o=a.start.getDatePart().addTime(e.getTimePart()),r=this.$7e(o,a.start).top-1,s=0;s<n.$5b.length;s++){var a=n.$5b[s],l=n.$5e(!0),d=new DayPilot.Date(a.start).addHours(this.$5i(!0)),c=d.getTime(),h=d.addTime(l),u=h.getTime();if(t>=c&&u>=t){var f=document.createElement("div");return f.style.position="absolute",f.style.top=r+"px",f.style.height="1px",f.style.left="0px",f.style.right="0px",f.className=n.$5c("_now"),n.nav.events.appendChild(f),void n.elements.separators.push(f)}}}},this.$4S=function(e){if(e?this.events.list=e:e=this.events.list,e){this.$6k={},this.$6k.events=[],this.$6k.lines=[];var t=e.length,i=this.$5e(!0);this.$4n.pixels={};var a=[];this.$5X=[],this.$5y=1e4,this.$5h=0,this.startDate=new DayPilot.Date(this.startDate);for(var o=0;t>o;o++){var r=e[o];r.start=new DayPilot.Date(r.start),r.end=new DayPilot.Date(r.end)}if("function"==typeof this.onBeforeEventRender||n.showEventStartEnd)for(var o=0;t>o;o++)this.$78(o);for(var l="Resources"===this.viewType,d=this.$6i(),c=d.start,h=d.end,o=0;o<this.$5b.length;o++){var u={};u.minEnd=1e6,u.maxStart=-1,this.$5X.push(u);var f=this.$5b[o];f.events=[],f.lines=[],f.blocks=[];var v=new DayPilot.Date(f.start).addHours(this.$5i(!0)),p=v.getTime(),g=v.addTime(i),y=g.getTime();l&&(c=v.getDatePart(),h=g.getDatePart());for(var m=0;t>m;m++)if(!a[m]){var r=e[m],b=r.start,w=r.end,D=b.getTime(),k=w.getTime();if(!(D>k))if(r.allday){var C=!1;if(C=D===k?!(k<c.getTime()||D>=h.getTime()):"Date"===n.allDayEnd?!(k<c.getTime()||D>=h.getTime()):!(k<=c.getTime()||D>=h.getTime()),l&&(C=C&&(r.resource===f.id||"*"===f.id)),C){var x=new DayPilot.Event(r,this);x.part.start=c.getTime()<D?b:c,x.part.end=h.getTime()>k?w:h,x.part.colStart=DayPilot.DateUtil.daysDiff(c,x.part.start),x.part.colWidth=DayPilot.DateUtil.daysSpan(x.part.start,x.part.end)+1,l&&(x.part.colStart=o,x.part.colWidth=1),this.$6k.events.push(x),("function"==typeof this.onBeforeEventRender||n.showEventStartEnd)&&(x.cache=this.$4n.events[m]),a[m]=!0,!l||x.part.start.getTime()===D&&x.part.end.getTime()===k||(a[m]=!1)}}else{var C=!1;if(C=l?f.id===r.resource&&!(p>=k||D>=y):!(p>=k||D>=y)||k===D&&D===p){var x=new DayPilot.Event(r,n);x.part.dayIndex=o,x.part.start=D>p?b:v,x.part.end=y>k?w:g;var P=this.$7e(x.part.start,f.start),S=this.$7e(x.part.end,f.start),A=P.top,T=S.top;if(A===T&&(P.cut||S.cut))continue;x.part.box=s.useBox(k-D);var M=0;if(x.part.box){var E=S.boxBottom;x.part.top=Math.floor(A/this.cellHeight)*this.cellHeight+M,x.part.height=Math.max(Math.ceil(E/this.cellHeight)*this.cellHeight-x.part.top,this.cellHeight-1),x.part.barTop=Math.max(A-x.part.top-1,0),x.part.barHeight=Math.max(T-A-2,1)}else x.part.top=A+M,x.part.height=Math.max(T-A,0),x.part.barTop=0,x.part.barHeight=Math.max(T-A-2,1);var b=x.part.top,w=x.part.top+x.part.height;b>u.maxStart&&(u.maxStart=b),w<u.minEnd&&(u.minEnd=w),b<this.$5y&&(this.$5y=b),w>this.$5h&&(this.$5h=w),f.events.push(x),("function"==typeof this.onBeforeEventRender||n.showEventStartEnd)&&(x.cache=this.$4n.events[m]),x.part.start.getTime()===D&&x.part.end.getTime()===k&&(a[m]=!0)}}}}for(var o=0;o<this.$5b.length;o++){var f=this.$5b[o];f.events.sort(this.$7f);for(var m=0;m<f.events.length;m++){var r=f.events[m];f.putIntoBlock(r)}for(var m=0;m<f.blocks.length;m++){var H=f.blocks[m];H.events.sort(this.$7g);for(var _=0;_<H.events.length;_++){var r=H.events[_];H.putIntoLine(r)}}}this.$6k.events.sort(this.$7g),this.$6k.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.colStart,e.part.colWidth))return a.push(e),i}var a=[];return a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.colStart||e>o.part.colStart+o.part.colWidth-1))return!1}return!0},a.push(e),this.lines.push(a),this.lines.length-1};for(var o=0;o<this.$6k.events.length;o++){var r=this.$6k.events[o];this.$6k.putIntoLine(r)}var R=Math.max(this.$6k.lines.length,1);this.$4n.allDayHeaderHeight=R*(s.allDayEventHeight()+2)+2}},this.$7f=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;if(0!==i)return i;var a=t.end().ticks-e.end().ticks;return a},this.$7g=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return n.$7f(e,t);for(var i=0,a=0;0===i&&"undefined"!=typeof e.data.sort[a]&&"undefined"!=typeof t.data.sort[a];)i=e.data.sort[a]===t.data.sort[a]?0:n.$7h(e.data.sort[a],t.data.sort[a],n.sortDirections[a]),a++;return i},this.$7h=function(e,t,i){var a="desc"!==i,n=a?-1:1,o=-n;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return n;var r=[];return r[0]=e,r[1]=t,r.sort(),e===r[0]?n:o},this.$7i=function(e){for(var t=0;t<n.elements.events.length;t++){var i=n.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.events.find=function(e){if(!n.events.list||"undefined"==typeof n.events.list.length)return null;for(var t=n.events.list.length,i=0;t>i;i++)if(n.events.list[i].id===e)return new DayPilot.Event(n.events.list[i],n);return null},this.events.findRecurrent=function(e,t){if(!n.events.list||"undefined"==typeof n.events.list.length)return null;for(var i=n.events.list.length,a=0;i>a;a++)if(n.events.list[a].recurrentMasterId===e&&n.events.list[a].start.getTime()===t.getTime())return new DayPilot.Event(n.events.list[a],n);return null},this.events.all=function(){for(var e=[],t=0;t<n.events.list.length;t++){var i=new DayPilot.Event(n.events.list[t],n);e.push(i)}return DayPilot.list(e)},this.events.edit=function(e){function t(){var t=n.$7i(e);t&&n.$5p(t)}t()},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),n),i.newEvent=new DayPilot.Event(e.temp(),n);var a=new DayPilot.Action(n,"EventUpdate",i,t);return e.commit(),n.$4q&&n.update(),n.$7j.notify(),a},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,n);var a=new DayPilot.Action(n,"EventRemove",i,t),o=DayPilot.indexOf(n.events.list,e.data);return n.events.list.splice(o,1),n.$4q&&n.update(),n.$7j.notify(),a},this.events.add=function(e,t){e.calendar=n,n.events.list||(n.events.list=[]),n.events.list.push(e.data);var i={};i.e=e;var a=new DayPilot.Action(n,"EventAdd",i,t);return n.$4q&&n.update(),n.$7j.notify(),a},this.events.load=function(e,t,i){var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},o=function(e){var i=e.request,o;try{o=DayPilot.Util.parseJSON(i.responseText)}catch(r){var s={};return s.exception=r,void a(s)}if(DayPilot.isArray(o)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=o,"function"==typeof t&&t(l),l.preventDefault.value)return;n.events.list=o,n.$4q&&n.update()}};DayPilot.ajax({method:"POST",data:{start:n.visibleStart().toString(),end:n.visibleEnd().toString()},url:e,success:o,error:a})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";n.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=n.queue.list,n.$4w("Notify",t,e,"Notify"),n.queue.list=[]},this.queue.clear=function(){n.queue.list=[]},this.queue.pop=function(){return n.queue.list.pop()},this.$7k=function(e){if(this.$4q&&this.$5b){var e=e||{},t=!e.eventsOnly;n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$4x()||(n.cellProperties={}),t?(n.$4D(),this.$7l(),this.$4Q(),this.$4S(),n.$4U(),n.$4V(),n.$4T(),n.$4W(),n.$4X(),n.$4t(),n.$4Y(),n.$5P(),n.$4Z(),n.$50(),n.$51(),n.$52(),this.$55(),this.$56(),this.$53(),n.$57()):(n.$4D(),n.$4S(),n.$4T(),n.$55(),n.$56(),n.$57()),this.visible?this.show():this.hide()}},this.update=function(){if(this.$7k(),"function"==typeof n.onAfterRender){var e={};e.isUpdate=!0,e.data=null,n.onAfterRender(e)}},this.show=function(){n.visible=!0,n.nav.top.style.display="",n.$4G(),n.$51(),n.$5T()},this.hide=function(){n.visible=!1,n.nav.top.style.display="none"},this.$7j={},this.$7j.scope=null,this.$7j.notify=function(){n.$7j.scope&&n.$7j.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$7e=function(e,t){t||(t=this.startDate);var i=t.getTime(),a=e.getTime(),n=this.$4n.pixels[a+"_"+i];if(n)return n;i=t.addHours(this.$5i(!0)).getTime();var o=60*this.cellDuration*1e3,r=a-i,s=r%o,l=r-s,d=l+o;0===s&&(d=l);var c={};return c.cut=!1,c.top=this.$7m(r),c.boxTop=this.$7m(l),c.boxBottom=this.$7m(d),this.$4n.pixels[a+"_"+i]=c,c},this.$7m=function(e){return Math.floor(this.cellHeight*e/(6e4*this.cellDuration))},this.$7l=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.$7n=s.allDayEventHeight()+4},this.$4T=function(){var e=this.$5j(),t=this.$6t();if(this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=e+"px"),this.nav.mid&&(this.nav.mid.style.height=e+"px"),this.showAllDayEvents&&this.nav.header)for(var i=this.nav.header.rows[this.nav.header.rows.length-1],a=0;a<i.cells.length;a++){var n=i.cells[a];n.firstChild.style.height=s.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=e+"px"),this.nav.scroll.style.top=e+"px",this.nav.top.style.height=t+"px"},this.$50=function(){var e=this.$6u();this.nav.scroll&&e>0&&(this.nav.scroll.style.height=e+"px",this.$5W=n.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=e+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=e+"px")),this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.$6t()+"px"},this.setHeight=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=this.cssOnly?e-this.$5j():e-(this.$5j()+3),this.$50()
},this.$7o=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$5c(e),document.body.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;document.body.removeChild(t);var n={};return n.height=i,n.width=a,n},this.$6l={};var s=this.$6l;s.locale=function(){return DayPilot.Locale.find(n.locale)},s.weekStarts=function(){return"number"==typeof n.weekStarts?n.weekStarts:s.locale().weekStarts},s.timeFormat=function(){return"Auto"!==n.timeFormat?n.timeFormat:this.locale().timeFormat},s.useBox=function(e){return"Always"===n.useEventBoxes?!0:"Never"===n.useEventBoxes?!1:e<60*n.cellDuration*1e3},s.notifyType=function(){var e;if("Immediate"===n.notifyCommit)e="Notify";else{if("Queue"!==n.notifyCommit)throw"Invalid notifyCommit value: "+n.notifyCommit;e="Queue"}return e},s.allDayEventHeight=function(){if(n.$4n.allDayEventHeight)return n.$4n.allDayEventHeight;var e=n.$7o("_alldayevent_height").height;return e||(e=n.allDayEventHeight),n.$4n.allDayEventHeight=e,e},s.allDayHeaderHeight=function(){if(n.$4n.allDayHeaderHeight)return n.$4n.allDayHeaderHeight;var e=n.$7n;return n.$4n.allDayHeaderHeight=e,e},s.headerHeight=function(){if(n.$4n.headerHeight)return n.$4n.headerHeight;var e=n.$7o("_header_height").height;return e||(e=n.headerHeight),n.$4n.headerHeight=e,e},this.$7p=function(){return this.backendUrl?"undefined"==typeof n.events.list||!n.events.list:!1},this.$7q=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+t+"'."}},this.$7r=function(){this.$7q(),this.$7l(),this.$4Q(),this.$6v(),this.$4U(),this.$4V(),this.$4Y(),this.$51(),this.$6P(),this.$77(),this.$4H(),this.$52(),e.register(this),this.$4G(),this.$53(),this.$74(),this.$58(),this.$4w("Init")},this.init=function(){if(this.$7q(),!this.nav.top.dp){var t=this.$7p();if(n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t)return this.$7r(),void(this.$4q=!0);this.$7l(),this.$4Q(),this.$4R(),this.events.list||(this.events.list=[]),this.$4S(),this.$6v(),this.$4U(),this.$4V(),this.$4Y(),this.$54(),this.$52(),this.$51(),this.$6P(),this.$77(),this.$4H(),e.register(this),this.$4T(),this.$55(),this.$56(),this.$4G(),this.messageHTML&&this.message(this.messageHTML),this.$53(),this.$4O(null,!1),this.$74(),this.$58(),this.$4q=!0,this.$7s()}},this.$7t=null,this.$7u=function(e){var t={events:{preInit:function(){var e=this.data;e&&(n.events.list=DayPilot.isArray(e.list)?e.list:e)}},scrollToHour:{postInit:function(){"undefined"!=typeof this.data&&n.scrollToHour(this.data)}}};this.$7t=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else n[i]=e[i]},this.$7s=function(){var e=this.$7t;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return n.$4q},this.internal.invokeEvent=this.$5x,this.internal.eventMenuClick=this.$5G,this.internal.timeRangeMenuClick=this.$5H,this.internal.bubbleCallBack=this.$5E,this.internal.findEventDiv=this.$7i,this.internal.eventDeleteDispatch=this.$5w,this.internal.touch=this.$6q,this.Init=this.init,this.$7u(i)};var e={};e.topSelectedCell=null,e.bottomSelectedCell=null,e.selecting=!1,e.column=null,e.firstSelected=null,e.firstMousePos=null,e.originalMouse=null,e.originalHeight=null,e.originalTop=null,e.globalHandlers=!1,e.editing=!1,e.originalText=null,e.register=function(t){e.registered||(e.registered=[]);for(var i=e.registered,a=0;a<i.length;a++)if(i[a]===t)return;i.push(t)},e.unregister=function(t){var i=e.registered;if(i){var a=DayPilot.indexOf(i,t);-1!==a&&i.splice(a,1),0===i.length&&(i=null)}i||(DayPilot.ue(document,"mousemove",e.gMouseMove),DayPilot.ue(document,"mouseup",e.gMouseUp),DayPilot.ue(document,"touchmove",e.gTouchMove),DayPilot.ue(document,"touchend",e.gTouchEnd),e.globalHandlers=!1)},e.getCellsAbove=function(t){for(var i=[],a=e.getColumn(t),n=t.parentNode,o=null;n&&o!==e.firstSelected;)for(o=n.getElementsByTagName("td")[a],i.push(o),n=n.previousSibling;n&&"TR"!==n.tagName;)n=n.previousSibling;return i},e.getCellsBelow=function(t){for(var i=[],a=e.getColumn(t),n=t.parentNode,o=null;n&&o!==e.firstSelected;)for(o=n.getElementsByTagName("td")[a],i.push(o),n=n.nextSibling;n&&"TR"!==n.tagName;)n=n.nextSibling;return i},e.getColumn=function(e){for(var t=0;e.previousSibling;)e=e.previousSibling,"TD"===e.tagName&&t++;return t},e.getShadowColumn=function(e){if(!e)return null;for(var t=e.parentNode;t&&"TD"!==t.tagName;)t=t.parentNode;return t},e.gTouchMove=function(t){if(!DayPilot.Util.isMouseEvent(t)&&e.drag){t.preventDefault();var i=t.touches?t.touches[0].pageX:t.pageX,a=t.touches?t.touches[0].pageY:t.pageY,n={};n.x=i,n.y=a;var o=function(){for(var e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY,a=document.elementFromPoint(e,i);a&&a.parentNode;)if(a=a.parentNode,a.daypilotMainD)return a.calendar;return!1}();if(o){if(e.gShadow&&document.body.removeChild(e.gShadow),e.gShadow=null,o.coords=o.$6q.relativeCoords(t),!e.movingShadow&&o.coords){var r=o.$5a(e.drag,!1,e.drag.shadowType);if(r){e.movingShadow=r;var s=DayPilot.Date.today(),t={value:e.drag.id,start:s,end:s.addSeconds(e.drag.duration),text:e.drag.text},l=new DayPilot.Event(t,o);l.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=l,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&o.$6q.updateMoving()}else{DayPilot.de(e.movingShadow),DayPilot.Global.moving=null,e.movingShadow=null,e.gShadow||(e.gShadow=e.createGShadow(e.drag.shadowType));var r=e.gShadow;r.style.left=n.x+"px",r.style.top=n.y+"px"}}},e.gTouchEnd=function(t){DayPilot.Util.isMouseEvent(t)||e.gMouseUp(t)},e.gMouseMove=function(t){if("undefined"!=typeof e&&!(t.insideMainD||t.srcElement&&t.srcElement.inside)){var i=DayPilot.mc(t);if(e.drag){document.body.style.cursor="move",e.gShadow||(e.gShadow=e.createGShadow(e.drag.shadowType));var a=e.gShadow;a.style.left=i.x+"px",a.style.top=i.y+"px",DayPilot.Global.moving=null,e.deleteShadow(e.movingShadow),e.movingShadow=null}for(var n=0;n<e.registered.length;n++)e.registered[n].$4J&&e.registered[n].$4J()}},e.gUnload=function(t){if(e.registered)for(var i=e.registered,a=0;a<i.length;a++){var n=i[a];e.unregister(n)}},e.gMouseUp=function(t){var t=t||window.event;if(DayPilot.Global.resizing){if(!e.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var i=DayPilot.Global.resizing.event,a=DayPilot.Global.resizing.dpBorder,n=e.resizingShadow.clientHeight,o=e.resizingShadow.offsetTop;if(e.deleteShadow(e.resizingShadow),e.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",i.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,i.calendar.overlap)return;i.calendar.$5z(i,n,o,a)}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return e.deleteShadow(e.movingShadow),DayPilot.Global.moving=null,void(e.movingShadow=null);if(!e.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var r=DayPilot.Global.moving.helper.oldColumn,o=e.movingShadow.offsetTop;e.deleteShadow(e.movingShadow);var i=DayPilot.Global.moving.event,s=e.movingShadow.column,l=e.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,e.movingShadow=null,l&&(i.calendar.todo||(i.calendar.todo={}),i.calendar.todo.del=l.element),i.calendar.overlap)return;var d=t||window.event;i.calendar.$5B(i,s,o,d,l)}e.drag&&(e.drag=null,document.body.style.cursor=""),e.gShadow&&(document.body.removeChild(e.gShadow),e.gShadow=null),e.moveOffsetY=null},e.dragStart=function(t,i,a,n,o){DayPilot.us(t);var r=e.drag={};return r.element=t,r.duration=i,r.text=n,r.id=a,r.shadowType=o?o:"Fill",!1},DayPilot.Calendar.makeDraggable=function(t){var i=t.element,a=t.keepElement?null:i,n=t.duration||1;navigator.msPointerEnabled&&(i.style.msTouchAction="none",i.style.touchAction="none"),DayPilot.us(i),DayPilot.re(i,"mousedown",function(i){e.dragStart(a,n,t.id,t.text);var o=i.target||i.srcElement;if(o.tagName){var r=o.tagName.toLowerCase();if("textarea"===r||"select"===r||"input"===r)return!1}return i.preventDefault&&i.preventDefault(),!1});var o=function(i){if(!DayPilot.Util.isMouseEvent(i)){var o=0;window.setTimeout(function(){var o=e.drag={};o.element=a,o.id=t.id,o.text=t.text||"",o.duration=n,o.shadowType="Fill",e.gTouchMove(i),i.preventDefault()},o),i.preventDefault()}};DayPilot.re(i,DayPilot.touch.start,o)},e.deleteShadow=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},e.createGShadow=function(e){var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.border="2px dotted #666666",t.style.zIndex=101,t.style.pointerEvents="none","Fill"===e&&(t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.style.border="2px solid #aaaaaa"),document.body.appendChild(t),t},e.moveShadow=function(t){var i=e.movingShadow;i.parentNode&&i.parentNode.removeChild(i),t.firstChild.appendChild(i),i.style.left="0px",i.style.width=e.movingShadow.parentNode.offsetWidth+"px"},e.Column=function(e,t,i){this.value=e,this.id=e,this.name=t,this.date=new DayPilot.Date(i)},DayPilot.CalendarVisible.dragStart=e.dragStart,DayPilot.CalendarVisible.Calendar=e.Calendar,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotCalendar=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Calendar(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function t(){var e=DayPilot.am();e&&e.directive("daypilotCalendar",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function t(i,a){return i.replaceWith(this.template.replace("{{id}};",a.id)),function n(t,i,a){var n=new DayPilot.Calendar(i[0]);n.$7j.scope=t,n.init();var o=a.id;o&&(t[o]=n);var r=a.publishAs;if(r){var s=e(r),l=s.assign;l(t,n)}for(var d in a)0===d.indexOf("on")&&!function(i){n[i]=function(n){var o=e(a[i]);t.$apply(function(){o(t,{args:n})})}}(d);var c=t.$watch,h=a.config||a.daypilotConfig,u=a.events||a.daypilotEvents;c.call(t,h,function(e,t){for(var i in e)n[i]=e[i];n.update()},!0),c.call(t,u,function(e){n.events.list=e,n.$7k({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.DatePicker&&(DayPilot.DatePicker=function(e){this.v="2130";var t="navigator_"+(new Date).getTime(),i=this;this.onShow=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.$m.locale().datePattern,this.theme=null,this.patterns=[],e)for(var t in e)this[t]=e[t];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var e=this.$n();this.resetTarget&&!e&&this.$o(this.date),DayPilot.re(document,"mousedown",function(){i.close()})},this.close=function(){this.$p&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.$n=function(){var e=this.$q();if(!e)return this.date;var t=null;if(t="INPUT"===e.tagName?e.value:e.innerText,!t)return null;for(var a=DayPilot.Date.parse(t,i.pattern),n=0;n<i.patterns.length;n++){if(a)return a;a=DayPilot.Date.parse(t,i.patterns[n])}return a},this.$o=function(e){var t=this.$q();if(t){var a=e.toString(i.pattern,i.locale);"INPUT"===t.tagName?t.value=a:t.innerHTML=a}},this.$m={},this.$m.locale=function(){return DayPilot.Locale.find(i.locale)},this.$q=function(){var e=this.target,t=e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e);return t},this.show=function(){var e=this.$q(),a=this.navigator,a=new DayPilot.Navigator(t);a.api=2,a.cssOnly=!0,a.theme=i.theme,a.weekStarts="Auto",a.locale=i.locale,a.onTimeRangeSelected=function(e){i.date=e.start;var t=e.start.addTime(a.$r),n=t.toString(i.pattern,i.locale),e={};e.start=t,e.date=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(e),e.preventDefault.value)||(i.$o(n),i.close(),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(e))},this.navigator=a;var n=DayPilot.abs(e),o=e.offsetHeight,r=document.createElement("div");r.style.position="absolute",r.style.left=n.x+"px",r.style.top=n.y+o+"px";var s=document.createElement("div");s.id=t,r.appendChild(s),DayPilot.re(r,"mousedown",function(e){var e=e||window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}),document.body.appendChild(r),this.div=r;var l=i.$n()||(new DayPilot.Date).getDatePart();a.startDate=l,a.$r=l.getTimePart(),a.selectionStart=l.getDatePart(),a.init(),this.$p=!0,this.onShow&&this.onShow()},this.prepare()})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Gantt){var e=function(){};DayPilot.Gantt=function(t,i){this.v="2130";var a=this;this.id=t,this.isGantt=!0;var n=new DayPilot.Scheduler(t);this.scheduler=n,n.viewType="Resources",n.onCallBackHeader=function(e){e.header.taskGroupMode=a.taskGroupMode,e.header.rowHeaderColumns=a.columns,e.header.clientState=a.clientState},n.onGetNodeState=function(e){var t=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t},i=function(e){var i=e.task,a={};return a.start=i.start,a.end=i.end,a.id=i.id,a.complete=i.complete,a.text=i.text,a.type=i.type,a.expanded=e.expanded,a.loaded=e.loaded,a.tags=t(i),a.versions=i.versions,a.children=n.internal.getNodeChildren(e.children),a};e.result=i(e.row),e.preventDefault()},n.$0r=function(e){},n.onCallBackResult=function(e){var t=e.result;e.preventDefault();var i=function(){t.scrollToTaskId&&n.scrollToResource(t.scrollToTaskId)};if("None"===t.updateType)return void i();var o=function(e){for(var i=0;i<e.length;i++){var n=e[i];"undefined"!=typeof t[n]&&(a[n]=t[n])}};a.links.list=t.links,a.tasks.list=t.tasks,a.startDate=new DayPilot.Date(t.startDate),o(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),o(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),s.translate(),s.$0s(),s.$0t(),n.update(),n.show(),i()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null,this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=10,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=24,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.visible=!0,this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(e){if(e){var t=e.isLink?e.data:e;a.links.list.push(t),a.$0u&&(s.$0t(),n.update()),a.$0v.notify()}},this.links.remove=function(e){if(e){var t;t=e.isLink?e.data:e;var i=DayPilot.indexOf(a.links.list,t);-1!==i&&(a.links.list.splice(i,1),a.$0u&&(s.$0t(),n.update()),a.$0v.notify())}},this.links.find=function(e){if(!DayPilot.isArray(a.links.list))return null;for(var t=0;t<a.links.list.length;t++){var i=a.links.list[t];if(i.id===e)return new DayPilot.Link(i,a)}return null},this.links.findFromTo=function(e,t){if(!DayPilot.isArray(a.links.list))return null;for(var i=0;i<a.links.list.length;i++){var n=a.links.list[i];if(n.from===e&&n.to===t)return new DayPilot.Link(n,a)}return null},this.$0w={};var o=this.$0w;o.timeout=null,o.update=function(){a.$0u&&(window.clearTimeout(o.timeout),o.timeout=setTimeout(function(){s.$0s(),n.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(e){if(e){if(e instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var t=e.isTask?e.data:e;a.tasks.list.push(t),o.update(),a.$0v.notify()}},this.tasks.find=function(e){var t=r.findInCache(e);return t?new DayPilot.Task(t,a):null},this.tasks.update=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";e.commit(),o.update(),a.$0v.notify()}},this.tasks.remove=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";var t=r.findParentArray(e.data);if(t){var i=DayPilot.indexOf(t,e.data);t.splice(i,1),o.update(),a.$0v.notify()}}},this.visibleStart=function(){return n.visibleStart()},this.visibleEnd=function(){return n.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.$0x=function(){return this.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$0y=function(){if("string"==typeof a.startDate&&(a.startDate=new DayPilot.Date(a.startDate)),!a.startDate||!a.days){for(var e=DayPilot.Date.today(),t=e.addDays(1),i=null,o=null,r=0;r<a.tasks.list.length;r++){var s=a.tasks.list[r];e=new DayPilot.Date(s.start),t=new DayPilot.Date(s.end),(null===i||e.getTime()<i)&&(i=e.getTime()),(null===o||t.getTime()>o)&&(o=t.getTime())}i&&o?(e=new DayPilot.Date(i).getDatePart(),t=new DayPilot.Date(o).getDatePart().addDays(1),n.startDate=a.startDate||e,n.days=a.days||DayPilot.DateUtil.daysDiff(e,t)):(n.startDate=e,n.days=1)}},this.commandCallBack=function(e,t){s.translate(),n.commandCallBack(e,t)},this.message=function(e,t,i,a){n.message(e,t,i,a)},this.setHeight=function(e){n.setHeight(e)},this.$0z=function(){return this.backendUrl?!DayPilot.isArray(a.tasks.list)||0==a.tasks.list.length:!1},this.init=function(){s.translate(),s.$0s(),s.$0t(),this.$0y(),n.init(),this.$0u=!0,this.$0A(),this.$0z()&&n.internal.callback("Init")},this.update=function(){s.translate(),s.$0s(),s.$0t(),a.$0y(),n.update()},this.scrollTo=function(e){n.scrollTo(e)},this.scrollToTask=function(e){n.scrollToResource(e)},this.$0B={};var r=this.$0B;r.cache={},r.clearCache=function(){r.cache={}},r.addToCache=function(e,t){var i=e.id;if(i){var a={};if(a.isTaskWrapper=!0,a.data=e,a.parent=t,r.cache[i])throw"Duplicate task id detected";r.cache[i]=a}},r.findInCache=function(e){return e?r.cache[e.toString()]:null},r.getProperty=function(e,t){return e.tags&&e.tags[t]?e.tags[t]:e[t]},r.findParentArray=function(e){return r.findInArray(a.tasks.list,e)},r.findInArray=function(e,t){if(-1!==DayPilot.indexOf(e,t))return e;for(var i=0;i<e.length;i++){var a=e[i];if(a.children&&a.children.length>0){var n=r.findInArray(a.children,t);if(n)return n}}return null},this.$0C={};var s=this.$0C,l=function(e,t){return"undefined"!=typeof e?e:t};s.translate=function(){if(n.durationBarMode="PercentComplete",n.timeRangeSelectedHandling="Disabled",n.treeEnabled=!0,n.autoRefreshCommand=a.autoRefreshCommand,n.autoRefreshEnabled=a.autoRefreshEnabled,n.autoRefreshInterval=a.autoRefreshInterval,n.autoRefreshMaxCount=a.autoRefreshMaxCount,n.autoScroll=a.autoScroll,n.backendUrl=a.backendUrl,n.crosshairColor=a.crosshairColor,n.crosshairOpacity=a.crosshairOpacity,n.crosshairType=a.crosshairType,n.doubleClickTimeout=a.doubleClickTimeout,n.durationBarVisible=a.completeBarVisible,n.durationBarHeight=a.completeBarHeight,n.dynamicEventRendering=a.progressiveTaskRendering?"Progressive":"Disabled",n.dynamicEventRenderingMargin=a.progressiveTaskRenderingMargin,n.dynamicEventRenderingCacheSweeping=a.progressiveTaskRenderingCacheSweeping,n.dynamicEventRenderingCacheSize=a.progressiveTaskRenderingCacheSize,n.startDate=new DayPilot.Date(a.startDate),n.days=a.days,n.cellDuration=a.cellDuration,n.cellGroupBy=a.cellGroupBy,n.cellWidth=a.cellWidth,n.cellWidthSpec=a.cellWidthSpec,n.cornerHtml=a.cornerHtml,n.eventHeight=a.taskHeight,n.eventResizeMargin=a.taskResizeMargin,n.floatingEvents=a.floatingTasks,n.floatingTimeHeaders=a.floatingTimeHeaders,n.headerHeight=a.headerHeight,n.heightSpec=a.heightSpec,n.height=a.height,n.linkBottomMargin=a.linkBottomMargin,n.linkPointSize=a.linkPointSize,n.loadingLabelVisible=a.loadingLabelVisible,n.loadingLabelText=a.loadingLabelText,n.locale=a.locale,n.messageBarPosition=a.messageBarPosition,n.messageHideAfter=a.messageHideAfter,n.rowCreateHandling=a.rowCreateHandling,n.numberFormat=a.numberFormat,n.progressiveRowRendering=a.progressiveRowRendering,n.progressiveRowRenderingPreload=a.progressiveRowRenderingPreload,n.scale=a.scale,n.scrollDelayEvents=a.scrollDelayTasks,n.scrollDelayCells=a.scrollDelayCells,n.scrollDelayFloats=a.scrollDelayFloats,n.scrollX=a.scrollX,n.scrollY=a.scrollY,a.scrollToTaskId&&(n.scrollToResourceId=a.scrollToTaskId),n.separators=a.separators,n.tapAndHoldTimeout=a.tapAndHoldTimeout,n.eventMovingStartEndEnabled=a.taskMovingStartEndEnabled,n.eventMovingStartEndFormat=a.taskMovingStartEndFormat,n.eventResizingStartEndEnabled=a.taskResizingStartEndEnabled,n.eventResizingStartEndFormat=a.taskResizingStartEndFormat,n.hideUntilInit=a.hideUntilInit,n.treeIndent=a.treeIndent,n.treeAutoExpand=a.treeAutoExpand,n.treeImageMarginLeft=a.treeImageMarginLeft,n.treeImageMarginTop=a.treeImageMarginTop,n.timeHeaders=a.timeHeaders,n.rowHeaderHideIconEnabled=a.rowHeaderHideIconEnabled,n.rowHeaderScrolling=a.rowHeaderScrolling,n.rowHeaderSplitterWidth=a.rowHeaderSplitterWidth,n.rowHeaderWidth=a.rowHeaderWidth,n.rowHeaderWidthAutoFit=a.rowHeaderWidthAutoFit,n.rowMarginBottom=a.rowMarginBottom,n.rowMinHeight=a.rowMinHeight,n.selectedRows=a.selectedRows,n.theme=a.theme,n.useEventBoxes=a.useEventBoxes,n.snapToGrid=a.snapToGrid,n.uniqueID=a.uniqueID,n.bubble=a.bubbleTask,n.cellBubble=a.bubbleCell,n.resourceBubble=a.bubbleRow,n.contextMenu=a.contextMenuTask,n.contextMenuResource=a.contextMenuRow,n.contextMenuLink=a.contextMenuLink,n.syncResourceTree=a.syncTasks,n.syncLinks=a.syncLinks,n.timeline=a.timeline,n.visible=a.visible,n.eventMoveHandling=a.taskMoveHandling,n.eventClickHandling=a.taskClickHandling,n.eventResizeHandling=a.taskResizeHandling,n.linkCreateHandling=a.linkCreateHandling,n.eventRightClickHandling=a.taskRightClickHandling,n.eventDoubleClickHandling=a.taskDoubleClickHandling,n.rowMoveHandling=a.rowMoveHandling,n.rowClickHandling=a.rowClickHandling,n.rowDoubleClickHandling=a.rowDoubleClickHandling,n.rowEditHandling=a.rowEditHandling,n.rowSelectHandling=a.rowSelectHandling,n.eventVersionsEnabled=a.taskVersionsEnabled,n.eventVersionHeight=a.taskVersionHeight,n.eventVersionMargin=a.taskVersionMargin,DayPilot.isArray(a.columns)){n.rowHeaderColumns=[];for(var e=0;e<a.columns.length;e++){var t=a.columns[e],i={};DayPilot.Util.copyProps(t,i,["title","width"]),n.rowHeaderColumns.push(i)}}a.$0x()&&(n.timeHeader=a.timeHeader,n.cellProperties=a.cellProperties,n.cellConfig=a.cellConfig),n.onRowCreate=function(e){"function"==typeof a.onRowCreate&&a.onRowCreate(e)},n.onRowCreated=function(e){"function"==typeof a.onRowCreated&&a.onRowCreated(e)},n.onAfterRender=function(e){"function"==typeof a.onAfterRender&&a.onAfterRender(e)},n.onAfterUpdate=function(e){"function"==typeof a.onAfterUpdate&&a.onAfterUpdate(e)},n.onRowHeaderResized=function(e){a.rowHeaderWidth=n.rowHeaderWidth},n.onAjaxError=function(e){"function"==typeof a.onAjaxError&&a.onAjaxError(e)},n.onRowHeaderColumnResized=function(e){for(var t=e.column,i=DayPilot.indexOf(n.rowHeaderColumns,t),o=0;o<a.columns.length;o++){var r=n.rowHeaderColumns[o],s=a.columns[o];s.width=r.width}if("function"==typeof a.onColumnResized){var l={};l.column=a.columns[i],a.onColumnResized(l)}},n.onBeforeRowHeaderRender=function(e){e.task=new DayPilot.Task(e.row.$.row.task,a);var t=[];if(DayPilot.isArray(a.columns))for(var i=0;i<a.columns.length;i++){var n=a.columns[i],o=n.property,s={};s.value=r.getProperty(e.task.data,o),s.html=e.task.data.row&&e.task.data.row.columns&&e.task.data.row.columns[i]?e.task.data.row.columns[i].html:s.value,t.push(s)}if(e.row.columns=t,"function"==typeof a.onBeforeRowHeaderRender&&a.onBeforeRowHeaderRender(e),DayPilot.isArray(a.columns))for(var i=0;i<a.columns.length;i++){var l=t[i].html;0===i?e.row.html=l:e.row.columns[i-1].html=l}},n.onBeforeCellRender=function(e){e.task=a.tasks.find(e.cell.resource),delete e.cell.resource,"function"==typeof a.onBeforeCellRender&&a.onBeforeCellRender(e)},n.onBeforeTimeHeaderRender=function(e){"function"==typeof a.onBeforeTimeHeaderRender&&a.onBeforeTimeHeaderRender(e)},n.onEventClick=function(e){e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskClick&&a.onTaskClick(e)},n.onEventClicked=function(e){"function"==typeof a.onTaskClicked&&a.onTaskClicked(e)},n.onEventDelete=function(e){"function"==typeof a.onTaskDelete&&a.onTaskDelete(e)},n.onEventDeleted=function(e){"function"==typeof a.onTaskDeleted&&a.onTaskDeleted(e)},n.onEventDoubleClick=function(e){e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskDoubleClick&&a.onTaskDoubleClick(e)},n.onEventDoubleClicked=function(e){"function"==typeof a.onTaskDoubleClicked&&a.onTaskDoubleClicked(e)},n.onEventRightClick=function(e){e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskRightClick&&a.onTaskRightClick(e)},n.onEventRightClicked=function(e){"function"==typeof a.onTaskRightClicked&&a.onTaskRightClicked(e)},n.onRowMoving=function(e){e.$0D=e.source,e.$0E=e.target,e.source=new DayPilot.Task(e.$0D.$.row.task,a),e.target=new DayPilot.Task(e.$0E.$.row.task,a),"function"==typeof a.onRowMoving&&a.onRowMoving(e)},n.onRowMove=function(e){e.$0D=e.source,e.$0E=e.target,e.source=new DayPilot.Task(e.$0D.$.row.task,a),e.target=new DayPilot.Task(e.$0E.$.row.task,a),"function"==typeof a.onRowMove&&a.onRowMove(e),e.source=e.$0D,e.target=e.$0E},n.onRowMoved=function(e){var t="Update"===a.rowMoveHandling||"Notify"===a.rowMoveHandling;if(t){var i=e.$0D.$.row.task,n=e.$0E.$.row.task,o=e.position;if("forbidden"===o)return;var s=r.findParentArray(i);if(!s)throw"Cannot find source node parent";var l=DayPilot.indexOf(s,i);s.splice(l,1);var d=r.findParentArray(n);if(!d)throw"Cannot find target node parent";var c=DayPilot.indexOf(d,n);switch(o){case"before":d.splice(c,0,i);break;case"after":d.splice(c+1,0,i);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(i)}a.$0v.notify(),a.update()}e.source=new DayPilot.Task(e.$0D.$.row.task,a),e.target=new DayPilot.Task(e.$0E.$.row.task,a),"function"==typeof a.onRowMoved&&a.onRowMoved(e)},n.onRowClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,a),"function"==typeof a.onRowClick&&a.onRowClick(e)},n.onRowClicked=function(e){"function"==typeof a.onRowClicked&&a.onRowClicked(e)},n.onRowDoubleClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,a),"function"==typeof a.onRowDoubleClick&&a.onRowDoubleClick(e)},n.onRowDoubleClicked=function(e){"function"==typeof a.onRowDoubleClicked&&a.onRowDoubleClicked(e)},n.onRowEdit=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,a),"function"==typeof a.onRowEdit&&a.onRowEdit(e)},n.onRowEdited=function(e){"function"==typeof a.onRowEdited&&a.onRowEdited(e)},n.onRowSelect=function(e){e.task=new DayPilot.Task(e.row.$.row.task,a),"function"==typeof a.onRowSelect&&a.onRowSelect(e)},n.onRowSelected=function(e){"function"==typeof a.onRowSelected&&a.onRowSelected(e)},n.onEventMove=function(e){e._e=e.e,e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskMove&&a.onTaskMove(e)},n.onEventMoved=function(e){if("Auto"===a.taskGroupMode){var t=e._e,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=n.events.find(t.data.parent.id),r=s.childrenStartEnd(t.data.parent);o.start(r.start),o.end(r.end),n.events.update(o),t=o}}a.$0v.notify(),"function"==typeof a.onTaskMoved&&a.onTaskMoved(e)},n.onEventMoving=function(e){e.task=new DayPilot.Task(e.e,a),e._e=e.e,delete e.position,delete e.overlapping,delete e.resource,"function"==typeof a.onTaskMoving&&a.onTaskMoving(e)},n.onEventResize=function(e){e._e=e.e,e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskResize&&a.onTaskResize(e)},n.onEventResized=function(e){if("Auto"===a.taskGroupMode){var t=e._e,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=n.events.find(t.data.parent.id),r=s.childrenStartEnd(t.data.parent);o.start(r.start),o.end(r.end),n.events.update(o),t=o}}a.$0v.notify(),"function"==typeof a.onTaskResized&&a.onTaskResized(e)},n.onEventResizing=function(e){e.task=new DayPilot.Task(e.e,a),e._e=e.e,"function"==typeof a.onTaskResizing&&a.onTaskResizing(e)},n.onLinkCreate=function(e){e.source=a.tasks.find(e.from),e.target=a.tasks.find(e.to),"function"==typeof a.onLinkCreate&&a.onLinkCreate(e)},n.onLinkCreated=function(e){"function"==typeof a.onLinkCreated&&a.onLinkCreated(e)},n.onResourceExpand=function(e){var t=e.resource.$.row.task;t.row||(t.row={}),t.row.collapsed=!1},n.onResourceCollapse=function(e){var t=e.resource.$.row.task;
t.row||(t.row={}),t.row.collapsed=!0}},s.$0F=function(e){for(var t=0;t<n.rowlist.length;t++){var i=n.rowlist[t];if(i.task===e)return n.internal.createRowObject(i)}return null},s.$0t=function(){n.links.list=a.links.list?a.links.list:[]},s.$0s=function(){n.resources=[],n.events.list=[],r.clearCache(),s.$0G(a.tasks.list,n.resources,null),d.sheet&&(d.sheet.commit(),d.sheet=null)},s.$0H=function(e){var t=e.type||"Task";e.children&&e.children.length&&(t="Group");var i={};for(var n in e)"children"!==n&&(i[n]=e[n]);var o={};if(o.data=i,o.type=t,i.box||(i.box={}),"undefined"==typeof i.box.html)if("Task"===o.type){var r=i.complete||0;i.box.html=r+"%"}else i.box.html="";return"undefined"==typeof i.box.htmlRight&&(i.box.htmlRight=i.text),"function"==typeof a.onBeforeTaskRender&&a.onBeforeTaskRender(o),o.type=t,o};var d={};d.keys={},d.sheet=null,s.$0I=function(e){if(e.data.box&&!e.data.box.cssClass&&e.data.box.backColor&&"Task"!==e.type){var t=DayPilot.Util.normalizeColor(e.data.box.backColor),i=e.type+"_"+t.replace("#",""),n=a.theme,o=a.theme+"_"+i;return d.keys[i]||(d.keys[i]=!0,d.sheet||(d.sheet=DayPilot.sheet()),"Group"===e.type?(d.sheet.add("."+o+"."+n+"_task_group ."+n+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+t+"; filter: none; border: 0px none;"),d.sheet.add("."+o+"."+n+"_task_group."+n+"_event:before","content:''; border-color: transparent transparent transparent "+t+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),d.sheet.add("."+o+"."+n+"_task_group."+n+"_event:after","content:''; border-color: transparent "+t+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===e.type&&(d.sheet.add("."+o+"."+n+"_task_milestone ."+n+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+t+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),d.sheet.add("."+o+"."+n+"_browser_ie8 ."+n+"_task_milestone ."+n+"_event_inner","-ms-filter: \"progid:$03.Microsoft.Matrix($04='auto expand',$05=0.7071067811865476,$06=-0.7071067811865475,$07=0.7071067811865475,$08=0.7071067811865476);\""))),o}},s.$0G=function(t,i,o){if(DayPilot.isArray(t))for(var l=0;l<t.length;l++){var d=t[l];r.addToCache(d,o);var c=s.$0H(d),h=c.data,u=c.type,f={};if(DayPilot.Util.copyProps(h,f,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(h.box,f),f.parent=o,f.task=d,f.resource=h.id,"Group"==u){f.type="Group",f.html="";var v=s.$0I(c);if(v&&(f.cssClass=(f.cssClass||"")+" "+v,console.log(f.cssClass)),delete f.backColor,"Auto"===a.taskGroupMode){var p=s.childrenStartEnd(d);f.start=p.start,f.end=p.end,f.resizeDisabled=!0,f.moveDisabled=!0}}else if("Milestone"===u){f.html="",d.end=d.start;var v=s.$0I(c);v&&(f.cssClass=(f.cssClass||"")+" "+v),h.end=h.start,f.end=h.start,f.barHidden=!0,f.resizeDisabled=!0,f.type="Milestone",f.width=a.taskHeight,delete f.backColor}else"Task"===u&&e();f.moveVDisabled=!0,f.htmlRight=h.box.htmlRight,f.htmlLeft=h.box.htmlLeft,n.events.list.push(f);var g={};g.task=d,DayPilot.Util.copyProps(h.row,g),g.name=h.text,g.id=h.id,g.children=[],g.expanded=!h.row||!h.row.collapsed,d.children&&d.children.length&&s.$0G(d.children,g.children,d),i.push(g)}},s.childrenStartEnd=function(e){if(!e.children||!e.children.length){var t=e.start,i=e.end;return"Milestone"===e.type&&(i=t),{start:new DayPilot.Date(t),end:new DayPilot.Date(i)}}for(var t=null,i=null,a=0;a<e.children.length;a++){var n=s.childrenStartEnd(e.children[a]);(!t||n.start.getTime()<t.getTime())&&(t=n.start),(!i||n.end.getTime()>i.getTime())&&(i=n.end)}return{start:t,end:i}},this.rows={},this.rows.expand=function(e){n.rows.expand(e)},this.rows.expandAll=function(){n.rows.expandAll()},this.rows.selection={},this.rows.selection.add=function(e){var t=n.rows.find(e.data.id)},this.rows.selection.clear=function(){n.rows.selection.clear()},this.rows.selection.get=function(){return n.rows.selection.get().map(function(e){return new DayPilot.Task(e.$.row.task,a)})},this.internal={},this.internal.initialized=function(){return a.$0u},this.internal.rowObjectForTaskData=s.$0F,this.$0v={},this.$0v.scope=null,this.$0v.notify=function(){a.$0v.scope&&a.$0v.scope.$apply()},this.$0J=null,this.$0K=function(e){var t={tasks:{preInit:function(){var e=this.data;e&&(a.tasks.list=DayPilot.isArray(e.list)?e.list:e)}},links:{preInit:function(){var e=this.data;e&&(a.links.list=DayPilot.isArray(e.list)?e.list:e)}},scrollTo:{postInit:function(){this.data&&a.scrollTo(this.data)}},scrollToTask:{postInit:function(){this.data&&a.scrollToTask(this.data)}}};this.$0J=t;for(var i in e)if(t[i]){var n=t[i];n.data=e[i],n.preInit&&n.preInit()}else a[i]=e[i]},this.$0A=function(){var e=this.$0J;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.$0K(i)},"undefined"!=typeof jQuery&&!function($){$.fn.daypilotGantt=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Gantt(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function t(){var e=DayPilot.am();e&&e.directive("daypilotGantt",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function t(i,a){return i.replaceWith(this.template.replace("{{id}};",a.id)),function n(t,i,a){var n=new DayPilot.Gantt(i[0]);n.$0v.scope=t,n.init();var o=a.id;o&&(t[o]=n);var r=a.publishAs;if(r){var s=e(r),l=s.assign;l(t,n)}for(var d in a)0===d.indexOf("on")&&!function(i){n[i]=function(n){var o=e(a[i]);t.$apply(function(){o(t,{args:n})})}}(d);var c=t.$watch,h=a.config||a.daypilotConfig;c.call(t,h,function(e,t){n.$0K(e),n.update()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.Kanban&&(DayPilot.Kanban=function(e,t){this.v="2130";var i=this;this.barWidth=5,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=20,this.crosshairColor="gray",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.rowMinHeight=0,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.onBeforeCellRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var a=new DayPilot.Scheduler(e);this.scheduler=a;var n={},o=15,r=15;n.translate=function(){var e=a;e.startDate="2000-01-01",e.scale="Day",e.timeHeaders=[{$g:"Cell",$h:"d"}],e.heightSpec=i.heightSpec,e.cellWidthSpec="Auto",e.cellsMarkBusiness=!1,e.crosshairColor=i.crosshairColor,e.dynamicEventRendering="Disabled",e.floatingEvents=!1,e.floatingTimeHeaders=!1,e.rowMinHeight=i.rowMinHeight,e.rowMarginTop=i.cellMarginTop,e.rowMarginBottom=i.cellMarginBottom,e.eventMoveToPosition=!0,e.headerHeight=i.columnHeaderHeight,e.eventResizeHandling="Disabled",e.timeRangeSelectedHandling="Disabled",e.eventHeight=i.cardHeight,e.eventMarginLeft=i.cardMarginLeft,e.eventMarginRight=i.cardMarginRight,e.eventMarginBottom=i.cardMarginBottom,e.eventTextWrappingEnabled=!0,e.cellStacking=!0,e.cellStackingAutoHeight=i.cardAutoHeight,e.durationBarVisible=!1,e.theme=i.theme,e.visible=i.visible,e.rowHeaderWidth=i.swimlaneHeaderWidth,e.eventDeleteHandling=i.cardDeleteHandling,e.eventMoveHandling=i.cardMoveHandling,e.rowMoveHandling=DayPilot.list(i.swimlanes.list).isEmpty()?"Disabled":i.swimlaneMoveHandling,e.onHeightChanged=i.onHeightChanged,e.internal.cssNames.timeheadercol="_colheadercell",e.internal.cssNames.timeheadercolInner="_colheadercell_inner",e.internal.cssNames.resourcedivider="_rowheaderdivider",e.internal.cssNames.event="_card",e.internal.cssNames.eventInner="_card_inner",e.internal.cssNames.eventDelete="_card_delete",e.internal.cssNames.eventMovingSource="_card_moving_source",i.swimlaneCollapsingEnabled&&(e.rowHeaderWidthMarginRight=o+0),e.onBeforeTimeHeaderRender=function(e){var t=i.$Z(e.header.start);if(e.header.html=t.name,e.header.toolTip=t.toolTip||"",e.header.areas=t.areas||[],DayPilot.list(e.header.areas).each(function(e){e.target=new DayPilot.Column(t,i)}),"Disabled"!==i.columnMoveHandling){var a=i.theme+"_columnmove_handle";e.header.areas.push({left:0,top:0,width:20,height:20,css:a,mousedown:i.$00,action:"None"})}},e.onBeforeCellRender=function(t){var a={};a.cell={},a.cell.column=new DayPilot.Column(i.$Z(t.cell.start),i),a.cell.swimlane=null;var n=i.$01(t.cell.resource);n&&(a.cell.swimlane=new DayPilot.Swimlane(n,i)),a.cell.areas=[],a.cell.cssClass=null,a.cell.html=null,a.cell.backImage=null,a.cell.backRepeat=null,a.cell.backColor=null,"function"==typeof i.onBeforeCellRender&&(i.onBeforeCellRender(a),DayPilot.Util.copyProps(a.cell,t.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),DayPilot.list(t.cell.areas).each(function(e){e.target={swimlane:a.cell.swimlane,column:a.cell.column}}));var o=e.rows.find(t.cell.resource),r=e.resources[o.index];r.collapsed&&(t.cell.cssClass||(t.cell.cssClass=""),t.cell.cssClass+=" "+i.theme+"_collapsed")},e.onEventClick=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),"function"==typeof i.onCardClick&&i.onCardClick(t),e.wrapped=t},e.onEventClicked=function(e){var t=e.wrapped;"function"==typeof i.onCardClicked&&i.onCardClicked(t)},e.onEventDelete=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),"function"==typeof i.onCardDelete&&i.onCardDelete(t),e.wrapped=t},e.onEventDeleted=function(e){DayPilot.rfa(i.cards.list,e.e.data.card);var t=e.wrapped;"function"==typeof i.onCardDeleted&&i.onCardDeleted(t)},e.onEventMove=function(e){var t=new DayPilot.Args(e);t.card=new DayPilot.Card(e.e.data.card,i),t.column=new DayPilot.Column(i.$Z(e.newStart)),t.position=e.position,t.swimlane="*"!==e.newResource?new DayPilot.Swimlane(i.$01(e.newResource),i):null;for(var o=a.cells.find(e.newStart,e.newResource)[0].events(),r=e.position,s=null,l=r-1;o[l];){if(o[l].data!==e.e.data){s=new DayPilot.Card(o[l]);break}l-=1}for(var d=null,c=r;o[c];){if(o[c].data!==e.e.data){d=new DayPilot.Card(o[c]);break}c+=1}if(t.previous=s,t.next=d,"function"==typeof i.onCardMove&&i.onCardMove(t),e.wrapped=t,!e.preventDefault.value){var h=0;d?h=d.wrapped.data.sort[0]:s&&(h=s.wrapped.data.sort[0]),e.e.data.sort=[h,(new DayPilot.Date).toString()],DayPilot.rfa(i.cards.list,e.e.data.card);var u=0;d?u=DayPilot.indexOf(i.cards.list,d.data):s&&(u=DayPilot.indexOf(i.cards.list,s.data)+1),i.cards.list.splice(u,0,e.e.data.card),n.updateSort()}},e.onEventMoved=function(e){var t=e.wrapped,a=DayPilot.list(i.cards.list).find(function(t){return e.e.data.card===t});a.swimlane=t.swimlane?t.swimlane.data.id:null,a.column=t.column.data.id,"function"==typeof i.onCardMoved&&i.onCardMoved(t)},e.onBeforeResHeaderRender=function(e){if(i.swimlaneCollapsingEnabled){var t=DayPilot.list(i.swimlanes.list).isEmpty();if(!t){var a=i.theme+"_swimlane_collapse";e.resource.collapsed&&(a=i.theme+"_swimlane_expand"),e.resource.areas=[{right:0,top:0,height:r,width:o,action:"JavaScript",css:a,js:function(){i.$02(e.resource.index)}}]}}},e.onRowMove=function(e){var t=new DayPilot.Args(e);e.wrapped=t,t.swimlane=new DayPilot.Swimlane(e.source.$.row.swimlane);var n=0;switch(e.position){case"before":n=e.target.index;break;case"after":n=e.target.index+1;break;default:throw"Unexpected target swimlane position: "+e.position}t.position=n,t.previous=null;for(var o=n-1;a.rowlist[o]&&a.rowlist[o].swimlane!==t.swimlane.data;)t.previous=new DayPilot.Swimlane(a.rowlist[o].swimlane),o-=1;t.next=null;for(var r=n;a.rowlist[r]&&a.rowlist[r].swimlane!==t.swimlane.data;)t.next=new DayPilot.Swimlane(a.rowlist[r].swimlane),r+=1;"function"==typeof i.onSwimlaneMove&&i.onSwimlaneMove(t)},e.onRowMoved=function(e){var t=e.wrapped;DayPilot.rfa(i.swimlanes.list,t.swimlane.data);var a=0;t.next?a=DayPilot.indexOf(i.swimlanes.list,t.next.data):t.previous&&(a=DayPilot.indexOf(i.swimlanes.list,t.previous.data)+1),i.swimlanes.list.splice(a,0,t.swimlane.data),"function"==typeof i.onSwimlaneMoved&&i.onSwimlaneMoved(t)},e.treePreventParentUsage=!0},n.loadCards=function(){var e=new DayPilot.Date("2000-01-01"),t=i.theme+"_card_header",n=i.theme+"_card_body",o=(new DayPilot.Date).toString();a.sortDirections=["asc","desc"],a.events.list=DayPilot.list(i.cards.list).map(function(a,r){var s=a.html||a.text||"",l=a.name||"",d={};return d.id=a.id,d.text=a.text,d.html="<div class='"+t+"'>"+l+"</div><div class='"+n+"'>"+s+"</div>",d.resource=a.swimlane,d.start=e.addDays(DayPilot.list(i.columns.list).findIndex(function(e){return a.column===e.id})),d.end=d.start.addDays(1),d.card=a,d.height=a.height,d.cssClass=a.cssClass,d.sort=[r,o],d.areas=DayPilot.list(a.areas).map(function(e){var t={};return DayPilot.Util.copyProps(e,t),e.js&&(t.js=function(t){e.js(new DayPilot.Card(t.data.card,i))}),t}),d.areas.push({left:0,width:5,top:0,bottom:0,backColor:a.barColor,cssClass:i.theme+"_card_bar"}),d})},n.updateSort=function(){var e=(new DayPilot.Date).toString();DayPilot.list(i.cards.list).each(function(t,i){var a=n.findSchedulerEventData(t);a&&(a.sort=[i,e])})},n.findSchedulerEventData=function(e){return DayPilot.list(a.events.list).find(function(t){return t.card===e})},n.loadSwimlanes=function(){var e=20,t=DayPilot.list(i.swimlanes.list);a.resources=t.map(function(t){var i={};return i.name=t.name,i.id=t.id,i.swimlane=t,t.collapsed&&(i.collapsed=!0,i.eventHeight=e,i.id=null),i}),t.isEmpty()&&(a.resources=[{name:"",id:"*"}])},n.loadColumns=function(){var e=DayPilot.list(i.columns.list);a.days=e.length};var s={};s.active=null,s.div=null,s.update=function(){s.clear();var e=s.findPosition();s.draw(e)},s.clear=function(){DayPilot.de(s.div),s.div=null},s.draw=function(e){var t=0;if(e>=a.itline.length){var n=a.itline[a.itline.length-1];t=n.left+n.width-3}else t=a.itline[e].left;var o=document.createElement("div");o.style.position="absolute",o.style.left=t+"px",o.style.width="3px",o.style.top=0,o.style.height=a.headerHeight+"px",o.className=i.theme+"_columnmove_position",s.div=o,a.nav.timeHeader.appendChild(o)},s.findPosition=function(){if(i.coords.x<0)return 0;var e=DayPilot.list(a.itline).findIndex(function(e){var t=e.left+a.rowHeaderWidth,n=e.width;return i.coords.x<t+n/2});return-1===e?a.itline.length:e},this.$00=function(e){s.active=e},this.$Z=function(e){return i.columns.list[e.getDay()-1]},this.$01=function(e){return DayPilot.list(i.swimlanes.list).find(function(t){return t.id===e})},this.message=function(e,t,i,n){a.message(e,t,i,n)},this.show=function(){i.visible=!0,a.show()},this.hide=function(){i.visible=!1,a.hide()},this.cards.add=function(e){var t=null;t=e&&e instanceof DayPilot.Card?e.data:e,e&&(i.cards.list.push(t),i.update())},this.cards.remove=function(e){var t=null;t=e&&e instanceof DayPilot.Card?e.data:e,e&&(DayPilot.rfa(i.cards.list,e),i.update())},this.cards.update=function(e){i.update()},this.$02=function(e){DayPilot.list(i.swimlanes.list).isEmpty()||(i.swimlanes.list[e].collapsed=!i.swimlanes.list[e].collapsed),i.update()},this.init=function(){n.translate(),n.loadSwimlanes(),n.loadColumns(),n.loadCards(),a.init(),i.$03(),this.$04=!0},this.update=function(){n.translate(),n.loadSwimlanes(),n.loadColumns(),n.loadCards(),a.update()},this.$03=function(){DayPilot.re(document,"mouseup",i.$05),DayPilot.re(document,"mousemove",i.$06)},this.$06=function(e){i.coords=DayPilot.mo3(a.nav.top,e),s.active&&s.update()},this.$05=function(e){if(s.active){var t=s.active.source,a=s.findPosition(),n=i.$Z(t.start),o=new DayPilot.Args;o.column=new DayPilot.Column(n,i),o.position=a,o.previous=null,o.next=null;for(var r=null,l=o.position;0!==l&&!r;)n!==i.columns.list[l-1]&&(r=i.columns.list[l-1]),l-=1;r&&(o.previous=new DayPilot.Column(r,i));var d=null;for(l=o.position;l<i.columns.list.length-1&&!d;)n!==i.columns.list[l]&&(d=i.columns.list[l]),l+=1;if(d&&(o.next=new DayPilot.Column(d,i)),"function"==typeof i.onColumnMove&&i.onColumnMove(o),!o.preventDefault.value){if("Update"===i.columnMoveHandling){DayPilot.rfa(i.columns.list,o.column.data);var c=0;o.next?c=DayPilot.indexOf(i.columns.list,o.next.data):o.previous&&(c=DayPilot.indexOf(i.columns.list,o.previous.data)+1),i.columns.list.splice(c,0,o.column.data),i.update()}"function"==typeof i.onColumnMoved&&i.onColumnMove(o)}s.active=null,s.clear()}}},DayPilot.Card=function(e,t){if(e instanceof DayPilot.Event){var i=e;this.data=i.data.card,this.wrapped=e}else this.data=e;this.control=t},DayPilot.Column=function(e,t){this.data=e,this.control=t},DayPilot.Swimlane=function(e,t){this.data=e,this.control=t})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotMenu)var DayPilotMenu=DayPilot.MenuVisible={};if(function(){if("undefined"==typeof DayPilot.Menu){var e={};e.mouse=null,e.menu=null,e.clickRegistered=!1,e.hideTimeout=null,e.waitingSubmenu=null,DayPilot.Menu=function(t){var i=this;this.v="2130",this.zIndex=10,this.useShadow=!0,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.$K=function(){},t&&DayPilot.isArray(t)&&(this.items=t),this.show=function(t,a){var a=a||{},n=null;if("string"==typeof t.id||"number"==typeof t.id?n=t.id:"function"==typeof t.id?n=t.id():"function"==typeof t.value&&(n=t.value()),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a.submenu||e.menuClean(),this.$K.submenu=null,null!==e.mouse){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."));var o=document.createElement("div");if(o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.display="none",o.style.overflow="hidden",o.style.zIndex=this.zIndex+1,o.className=this.applyCssClass("main"),o.onclick=function(e){e.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(o.onmousemove=function(t){clearTimeout(e.hideTimeout)},o.onmouseout=function(e){i.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var r=document.createElement("div");r.innerHTML=this.menuTitle,r.className=this.applyCssClass("title"),o.appendChild(r)}for(var s=0;s<this.items.length;s++){var l=this.items[s],d=document.createElement("div");if(DayPilot.Util.addClass(d,this.applyCssClass("item")),l.items&&DayPilot.Util.addClass(d,this.applyCssClass("item_haschildren")),"undefined"!=typeof l){if("-"===l.text){var c=document.createElement("div");d.appendChild(c)}else{var h=document.createElement("a");if(h.style.position="relative",h.style.display="block",l.disabled)DayPilot.Util.addClass(h,i.applyCssClass("item_disabled"));else if(l.href)h.href=l.href.replace(/\x7B0\x7D/gim,n),l.target&&h.setAttribute("target",l.target);else if(l.onclick){h.item=l,h.onclick=l.onclick;var u=function(t,i){return function(a){a.stopPropagation(),a.preventDefault(),t.onclick.call(i,a),e.menuClean(),window.setTimeout(function(){i.source.calendar.internal.touch.active=!1},500)}};h.ontouchstart=function(e){e.stopPropagation(),e.preventDefault(),h.source.calendar.internal.touch.active=!0},h.ontouchend=u(l,h)}else if(l.command){var f=function(e,t){return function(i){var a=t.source,n=e;n.action=n.action?n.action:"CallBack";var o=a.calendar||a.root;if(a instanceof DayPilot.Link)return void o.internal.linkMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Selection)return void o.internal.timeRangeMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Event)return void o.internal.eventMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Selection)return void o.internal.timeRangeMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Task)return void("resource"===a.menuType?o.internal.resourceHeaderMenuClick(n.command,t.menuSource,n.action):o.internal.eventMenuClick(n.command,t.menuSource,n.action));switch(a.menuType){case"resource":return void o.internal.resourceHeaderMenuClick(n.command,a,n.action);case"selection":return void o.internal.timeRangeMenuClick(n.command,a,n.action);default:return void o.internal.eventMenuClick(n.command,a,n.action)}i.preventDefault()}};h.onclick=f(l,h),h.ontouchend=f(l,h)}t&&t.isRow&&t.$.row.task?(h.source=new DayPilot.Task(t.$.row.task,t.calendar),h.source.menuType="resource"):h.source=t&&t.isEvent&&t.data.task?new DayPilot.Task(t,t.calendar):t,h.menuSource=t;var v=document.createElement("span");if(v.innerHTML=l.text,h.appendChild(v),l.image){var p=document.createElement("img");p.src=l.image,p.style.position="absolute",p.style.top="0px",p.style.left="0px",h.appendChild(p)}var g=function(t,a){return function(){var n=a.source,o=t,r=e.waitingSubmenu;if(r){if(r.parent===o)return;clearTimeout(r.timeout),e.waitingSubmenu=null}e.waitingSubmenu={},e.waitingSubmenu.parent=o,e.waitingSubmenu.timeout=setTimeout(function(){if(e.waitingSubmenu=null,(!i.$K.submenu||i.$K.submenu.item!==o)&&(i.$K.submenu&&i.$K.submenu.item!==o&&(DayPilot.Util.removeClass(i.$K.submenu.link.parentNode,i.applyCssClass("item_haschildren_active")),i.$K.submenu.menu.hide(),i.$K.submenu=null),o.items)){var r=i.cloneOptions();r.items=o.items,i.$K.submenu={},i.$K.submenu.menu=new DayPilot.Menu(r),i.$K.submenu.menu.show(n,{submenu:!0,parentLink:a,parentItem:t}),i.$K.submenu.item=o,i.$K.submenu.link=a,DayPilot.Util.addClass(a.parentNode,i.applyCssClass("item_haschildren_active"))}},300)}};h.onmouseover=g(l,h),d.appendChild(h)}o.appendChild(d)}}var y=function(t){window.setTimeout(function(){e.menuClean()},100)};o.onclick=y,o.ontouchend=y,o.onmousedown=function(e){e=e||window.event,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o.oncontextmenu=function(){return!1},document.body.appendChild(o),i.$K.visible=!0,i.$K.source=t,o.style.display="";var m=o.offsetHeight,b=o.offsetWidth;o.style.display="none";var w=document.documentElement.clientHeight,D=document.documentElement.clientWidth;if(function T(){var t=e.mouse.x+1,i=e.mouse.y+1;if(e.mouse.clientY>w-m&&0!==w){var a=e.mouse.clientY-(w-m)+5;o.style.top=i-a+"px"}else o.style.top=i+"px";if(e.mouse.clientX>D-b&&0!==D){var n=e.mouse.clientX-(D-b)+5;o.style.left=t-n+"px"}else o.style.left=t+"px"}(),a.parentLink){var k=a.parentLink,C=parseInt(new DayPilot.StyleReader(o).get("border-top-width")),x=DayPilot.abs(a.parentLink.parentNode),P=x.x+k.offsetWidth,S=x.y-C;P+b>D&&(P=Math.max(0,x.x-b));var A=document.body.scrollTop+document.documentElement.scrollTop;S+m-A>w&&(S=Math.max(0,w-m+A)),o.style.left=P+"px",o.style.top=S+"px"}o.style.display="",this.addShadow(o),this.$K.div=o,a.submenu||(DayPilot.Menu.active=this)}},this.applyCssClass=function(e){var t=this.theme||this.cssClassPrefix,i=this.cssOnly?"_":"";return t?t+i+e:""},this.cloneOptions=function(){for(var e={},t=["cssOnly","cssClassPrefix","useShadow","zIndex"],i=0;i<t.length;i++){var a=t[i];e[a]=this[a]}return e},this.hide=function(){this.$K.submenu&&this.$K.submenu.menu.hide(),this.removeShadow(),this.$K.div&&this.$K.div.parentNode===document.body&&document.body.removeChild(this.$K.div),i.$K.visible=!1,i.$K.source=null},this.delayedHide=function(){e.hideTimeout=setTimeout(function(){i.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(e.hideTimeout)},this.init=function(t){e.mouseMove(t)},this.addShadow=function(e){if(this.useShadow&&!this.cssOnly&&e){this.$K.shadows&&this.$K.shadows.length>0&&this.removeShadow(),this.$K.shadows=[];for(var t=0;5>t;t++){var i=document.createElement("div");i.style.position="absolute",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.top=e.offsetTop+t+"px",i.style.left=e.offsetLeft+t+"px",i.style.zIndex=this.zIndex,i.style.filter="alpha(opacity:10)",i.style.opacity=.1,i.style.backgroundColor="#000000",document.body.appendChild(i),this.$K.shadows.push(i)}}},this.removeShadow=function(){if(this.$K.shadows){for(var e=0;e<this.$K.shadows.length;e++)document.body.removeChild(this.$K.shadows[e]);this.$K.shadows=[]}};var a=DayPilot.isArray(t)?null:t;if(a)for(var n in a)this[n]=a[n];e.clickRegistered||(DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.re(document,"touchmove",e.touchMove),DayPilot.re(document,"touchstart",e.touchStart),DayPilot.re(document,"touchend",e.touchEnd),DayPilot.re(document,"mousedown",e.menuClean),e.clickRegistered=!0)},e.menuClean=function(e){"undefined"!=typeof DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},e.mouseMove=function(t){"undefined"!=typeof e&&(e.mouse=e.mousePosition(t))},e.touchMove=function(t){"undefined"!=typeof e&&(e.mouse=e.touchPosition(t))},e.touchStart=function(t){"undefined"!=typeof e&&(e.mouse=e.touchPosition(t))},e.touchEnd=function(e){},e.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i.clientX=t.clientX,i.clientY=t.clientY,i},e.mousePosition=function(e){var t=0,i=0;if(!e)var e=window.event;e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var a={};return a.x=t,a.y=i,a.clientY=e.clientY,a.clientX=e.clientX,a},DayPilot.Menu.touchPosition=function(t){t.touches&&(e.mouse=e.touchPosition(t))},DayPilot.MenuVisible.Menu=e.Menu,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var e=this.list.pop();e&&e.hide()}},DayPilot.ModalStatic.remove=function(e){for(var t=DayPilot.ModalStatic.list,i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)},DayPilot.ModalStatic.close=function(e){DayPilot.ModalStatic.result(e),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(e){var t=DayPilot.ModalStatic.list;t.length>0&&(t[t.length-1].result=e)},DayPilot.ModalStatic.displayed=function(e){for(var t=DayPilot.ModalStatic.list,i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var e=this.list[this.list.length-1];e&&e.stretch()}};var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE");DayPilot.Modal=function(e){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.border="10px solid #ccc",this.corners="Rounded",this.className=null,this.dragDrop=!0,this.height=200,this.loadingHtml=null,this.maxHeight=null,this.opacity=30,this.scrollWithPage=!0,this.top=20,this.useIframe=!0,this.width=500,this.zIndex=null,this.closed=null,this.onClosed=null;var t=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.registered=!1,this.start=null,this.coords=null,this.showHtml=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.create(),this.update(),this.useIframe){var t=function(e,t){return function(){e.setInnerHTML(e.id+"iframe",t)}};window.setTimeout(t(this,e),0)}else e.nodeType?this.div.appendChild(e):this.div.innerHTML=e;this.update(),this.register()},this.rounded=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";this.useIframe=!0,this.div||this.create();var t=this.loadingHtml;t&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",t)),this.re(this.iframe,"load",this.onIframeLoad),this.iframe.src=e,this.update(),this.register()},this.update=function(){var e=window,i=document,a=e.pageYOffset?e.pageYOffset:i.documentElement&&i.documentElement.scrollTop?i.documentElement.scrollTop:i.body.scrollTop,n=function(){return t.windowRect().y};this.hideDiv.style.filter="alpha(opacity="+this.opacity+")",this.hideDiv.style.opacity="0."+this.opacity,this.hideDiv.style.backgroundColor="black",this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){t.hideDiv.onclick=function(){t.hide()}},500),this.div.className=this.className,this.div.style.border=this.border,this.rounded()&&(this.div.style.MozBorderRadius="5px",this.div.style.webkitBorderRadius="5px",this.div.style.borderRadius="5px"),this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.top=a+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.div.style.height=this.useIframe||!this.autoStretch?this.height+"px":""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.onIframeLoad=function(){t.iframe.contentWindow.modal=t,t.autoStretch&&t.stretch()},this.stretch=function(){var e=function(){return t.windowRect().y},i=function(){return t.windowRect().x};if(this.useIframe){for(var a=i()-40,n=this.width;a>n&&this.hasHorizontalScrollbar();n+=10)this.div.style.width=n+"px",this.div.style.marginLeft="-"+Math.floor(n/2)+"px";for(var o=this.maxHeight||e()-2*this.top,r=this.height;o>r&&this.hasVerticalScrollbar();r+=10)this.iframe.style.height=r+"px",this.div.style.height=r+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.onIframeLoad)}else console.log("clearing height style"),this.div.style.height=""},this.hasHorizontalScrollbar=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollWidth,a=e.body.children,n=0;n<a.length;n++){var o=a[n].offsetLeft+a[n].offsetWidth;i=Math.max(i,o)}var r=i>t.clientWidth;return r},this.hasVerticalScrollbar=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollHeight,a=e.body.children,n=0;n<a.length;n++){var o=a[n].offsetTop+a[n].offsetHeight;i=Math.max(i,o)}var r=i>t.clientHeight;return r},this.windowRect=function(){var e=document;if("CSS1Compat"===e.compatMode&&e.documentElement&&e.documentElement.clientWidth){var t=e.documentElement.clientWidth,i=e.documentElement.clientHeight;return{x:t,y:i}}var t=e.body.clientWidth,i=e.body.clientHeight;return{x:t,y:i}},this.register=function(){this.registered||(this.re(window,"resize",this.resize),this.re(window,"scroll",this.resize),this.dragDrop&&(this.re(document,"mousemove",this.drag),this.re(document,"mouseup",this.drop)),this.registered=!0)},this.drag=function(e){if(t.coords){var e=e||window.event,i=t.mc(e),a=i.x-t.coords.x,n=i.y-t.coords.y;t.div.style.marginLeft="0px",t.div.style.top=t.start.y+n+"px",t.div.style.left=t.start.x+a+"px"}},this.drop=function(e){t.coords&&(t.unmaskIframe(),t.coords=null)},this.maskIframe=function(){if(this.useIframe){var e=80,t=document.createElement("div");t.style.backgroundColor="#ffffff",t.style.filter="alpha(opacity="+e+")",t.style.opacity="0."+e,t.style.width="100%",t.style.height=this.height+"px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",this.div.appendChild(t),this.mask=t}},this.unmaskIframe=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.resize=function(){if(t.hideDiv&&t.div&&"none"!==t.hideDiv.style.display&&"none"!==t.div.style.display){var e=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;
t.scrollWithPage||(t.div.style.top=e+t.top+"px")}},this.re=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},this.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},this.abs=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent;)e=e.offsetParent,t.x+=e.offsetLeft,t.y+=e.offsetTop;return t},this.create=function(){var e=document.createElement("div");e.id=this.id+"hide",e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.style.right="0px",e.style.bottom="0px",e.style.backgroundColor="black",e.style.opacity=.5,e.oncontextmenu=function(){return!1},document.body.appendChild(e);var t=document.createElement("div");t.id=this.id+"popup",t.style.position="fixed",t.style.left="50%",t.style.top="0px",t.style.backgroundColor="white",t.style.width="50px",t.style.height="50px",this.dragDrop&&(t.onmousedown=this.dragStart);var i=50,a=null;this.useIframe&&(a=document.createElement("iframe"),a.id=this.id+"iframe",a.name=this.id+"iframe",a.frameBorder="0",a.style.width="100%",a.style.height=i+"px",t.appendChild(a)),document.body.appendChild(t),this.div=t,this.iframe=a,this.hideDiv=e},this.dragStart=function(e){t.maskIframe(),t.coords=t.mc(e||window.event),t.start={x:t.div.offsetLeft,y:t.div.offsetTop}},this.setInnerHTML=function(e,i){var a=window.frames[e],n=a.contentWindow||a.document||a.contentDocument;n.document&&(n=n.document),null==n.body&&n.write("<body></body>"),i.nodeType?n.body.appendChild(i):n.body.innerHTML=i,t.autoStretch&&(t.autoStretchFirstLoadOnly&&t.$W||(t.stretch(),t.$W=!0))},this.close=function(e){this.result=e,this.hide()},this.hide=function(){if(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),DayPilot.ModalStatic.remove(this),this.onClosed){var e={};e.result=this.result,this.onClosed(e)}else this.closed&&this.closed()},this.$X=function(){if(e)for(var t in e)this[t]=e[t]},this.$X()},DayPilot.Modal.alert=function(e,t){t=t||{},t.height=t.height||40,t.useIframe=!1;var i=new DayPilot.Modal(t),a=document.createElement("div");a.style.padding="10px";var n=document.createElement("div");n.innerHTML=e;var o=document.createElement("div");o.style.margin="10px 0px";var r=document.createElement("button");r.innerText="OK",r.onclick=function(e){parent.DayPilot.ModalStatic.close("OK")},o.appendChild(r),a.appendChild(n),a.appendChild(o),i.showHtml(a),r.focus()},DayPilot.Modal.confirm=function(e,t){return t=t||{},t.height=t.height||40,t.useIframe=!1,DayPilot.getPromise(function(i,a){t.onClosed=function(e){"undefined"==typeof e.result?a(e):i(e)};var n=new DayPilot.Modal(t),o=document.createElement("div");o.style.padding="10px";var r=document.createElement("div");r.innerHTML=e;var s=document.createElement("div");s.style.margin="10px 0px";var l=document.createElement("button");l.innerText="OK",l.onclick=function(e){parent.DayPilot.ModalStatic.close("OK")};var d=document.createTextNode(" "),c=document.createElement("button");c.innerText="Cancel",c.onclick=function(e){parent.DayPilot.ModalStatic.close()},s.appendChild(l),s.appendChild(d),s.appendChild(c),o.appendChild(r),o.appendChild(s),n.showHtml(o),l.focus()})},DayPilot.Modal.prompt=function(e,t){return t=t||{},t.height=t.height||40,t.useIframe=!1,DayPilot.getPromise(function(i,a){t.onClosed=function(e){"undefined"==typeof e.result?a(e):i(e)};var n=new DayPilot.Modal(t),o=document.createElement("div");o.style.padding="10px";var r=document.createElement("div");r.innerHTML=e;var s=document.createElement("div");s.style.margin="10px 0px";var l=document.createElement("input");l.style.width="100%",l.onkeydown=function(e){switch(e.keyCode){case 13:parent.DayPilot.ModalStatic.close(this.value);break;case 27:parent.DayPilot.ModalStatic.close()}},s.appendChild(l);var d=document.createElement("div");d.style.margin="10px 0px";var c=document.createElement("button");c.innerText="OK",c.onclick=function(e){parent.DayPilot.ModalStatic.close(l.value)};var h=document.createTextNode(" "),u=document.createElement("button");u.innerText="Cancel",u.onclick=function(e){parent.DayPilot.ModalStatic.close()},d.appendChild(c),d.appendChild(h),d.appendChild(u),o.appendChild(r),o.appendChild(s),o.appendChild(d),n.showHtml(o),l.focus()})},DayPilot.Modal.close=function(e){if(!(parent&&parent.DayPilot&&parent.DayPilot.ModalStatic))throw"Unable to close DayPilot.Modal dialog.";parent.DayPilot.ModalStatic.close(e)},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},"undefined"==typeof DayPilot.getPromise&&(DayPilot.getPromise=function(e){return"undefined"!=typeof $T?new $T(e):(DayPilot.Promise=function(e){var t=this;this.then=function(t,i){return t=t||function(){},i=i||function(){},e(t,i),DayPilot.getPromise(e)},this["catch"]=function(i){return t.then(null,i),DayPilot.getPromise(e)}},new DayPilot.Promise(e))})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotMonth)var DayPilotMonth=DayPilot.MonthVisible={};if(function(){var e=function(){};if("undefined"==typeof DayPilot.Month){var t={};DayPilot.Month=function(i,a){this.v="2130",this.nav={};var n=this;this.id=i,this.isMonth=!0,this.api=2,this.$24=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width=null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=0,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.numberFormat="0.00",this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cellHeaderBackColor="",this.cellHeaderFontColor="#000000",this.cellHeaderFontFamily="Tahoma",this.cellHeaderFontSize="10pt",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.eventTextAlignment=null,this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.eventTimeFontColor="gray",this.eventTimeFontFamily="Tahoma",this.eventTimeFontSize="8pt",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.$25={},this.$25.events={},this.events={},this.$26=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.$27=function(e,t){var e=DayPilot.Util.parseJSON(e);if(e.BubbleGuid){var i=e.BubbleGuid,a=this.bubbles[i];return delete this.bubbles[i],n.$28(),void("undefined"!=typeof e.Result.BubbleHTML&&a.updateView(e.Result.BubbleHTML,a))}if(e.CallBackRedirect)return void(document.location.href=e.CallBackRedirect);if("undefined"!=typeof e.ClientState&&(n.clientState=e.ClientState),"None"===e.UpdateType)return n.$29(e.CallBackData,!0),void(e.Message&&n.message(e.Message));if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=n.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,n.$2a.innerHTML="",n.$2a.appendChild(o)}n.events.list=e.Events,"undefined"!=typeof e.TagFields&&(n.tagFields=e.TagFields),"undefined"!=typeof e.SortDirections&&(n.sortDirections=e.SortDirections),"Full"===e.UpdateType&&(n.cellProperties=e.CellProperties,n.headerProperties=e.HeaderProperties,n.startDate=e.StartDate,"undefined"!=typeof e.ShowWeekend&&(n.showWeekend=e.ShowWeekend),n.headerBackColor=e.HeaderBackColor?e.HeaderBackColor:n.headerBackColor,n.backColor=e.BackColor?e.BackColor:n.backColor,n.nonBusinessBackColor=e.NonBusinessBackColor?e.NonBusinessBackColor:n.nonBusinessBackColor,n.locale=e.Locale?e.Locale:n.locale,n.timeFormat=e.TimeFormat?e.TimeFormat:n.timeFormat,"undefined"!=typeof e.WeekStarts&&(n.weekStarts=e.WeekStarts),n.hashes=e.Hashes),n.multiselect.clear(!0),n.multiselect.initList=e.SelectedEvents,n.$2b(),n.$2c(),n.$2d(),"Full"===e.UpdateType&&(n.$2e(),n.$2f()),n.$2g(),n.$2h(),n.$2i(),n.$29(e.CallBackData,!0),n.$2j(),e.Message&&n.message(e.Message)},this.$29=function(e,t){var i=function(e,t){return function(){if(n.$2k()){if("function"==typeof n.onAfterRender){var i={};i.isCallBack=t,i.data=e,n.onAfterRender(i)}}else n.afterRender&&n.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.$2k=function(){return 2===n.api},this.$2l=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$2d=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var e=this.events.list.length,t=0;e>t;t++)this.$2m(t);this.cellMode?this.$2n():this.$2o()}},this.$28=function(){},this.$2o=function(){if(this.events.list){for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e];if(t.start=new DayPilot.Date(t.start),t.end=new DayPilot.Date(t.end),!(t.start.getTime()>t.end.getTime()))for(var i=0;i<this.rows.length;i++){var a=this.rows[i];if(a.belongsHere(t)){var o=new DayPilot.Event(t,n);a.events.push(o),"function"==typeof this.onBeforeEventRender&&(o.cache=this.$25.events[e])}}}for(var r=0;r<this.rows.length;r++){var a=this.rows[r];a.events.sort(this.$2p);for(var s=0;s<this.rows[r].events.length;s++){var l=a.events[s],d=a.getStartColumn(l),c=a.getWidth(l);a.putIntoLine(l,d,c,r)}}}},this.$2n=function(){this.cellEvents=[];for(var e=0;e<this.$2q();e++){this.cellEvents[e]=[];for(var t=0;t<this.rows.length;t++){var i={},a=this.firstDate.addDays(7*t+e);i.start=a,i.end=a.addDays(1),i.events=[],this.cellEvents[e][t]=i}}for(var o=0;o<this.events.list.length;o++){var r=this.events.list[o];if(r.start=new DayPilot.Date(r.start),r.end=new DayPilot.Date(r.start),!(r.start.getTime()>r.end.getTime()))for(var e=0;e<this.$2q();e++)for(var t=0;t<this.rows.length;t++){var i=this.cellEvents[e][t];if(r.start.getTime()>=i.start.getTime()&&r.start.getTime()<i.end.getTime()){var s=new DayPilot.Event(r,n);i.events.push(s),"function"==typeof this.onBeforeEventRender&&(s.cache=this.$25.events[o])}}}for(var e=0;e<this.$2q();e++)for(var t=0;t<this.rows.length;t++){var i=this.cellEvents[e][t];i.events.sort(this.$2p)}},this.$2b=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e];t.event=null,t.click=null,t.parentNode.removeChild(t)}this.elements.events=[]},this.$2i=function(){this.$25.events={},this.cellMode?this.$2r():this.$2s(),this.multiselect.redraw()},this.$2r=function(){this.elements.events=[];for(var e=0;e<this.$2q();e++)for(var t=0;t<this.rows.length;t++)for(var i=this.cellEvents[e][t],a=this.cells[e][t],n=0;n<i.events.length;n++){var o=i.events[n];o.part.colStart=e,o.part.colWidth=1,o.part.row=t,o.part.line=n,o.part.startsHere=!0,o.part.endsHere=!0,this.$2t(o)}},this.$2s=function(){this.elements.events=[];for(var e=0;e<this.rows.length;e++)for(var t=this.rows[e],i=0;i<t.lines.length;i++)for(var a=t.lines[i],n=0;n<a.length;n++)this.$2t(a[n])},this.$2u=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;if(0!==i)return i;var a=t.end().ticks-e.end().ticks;return a},this.$2p=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return n.$2u(e,t);for(var i=0,a=0;0===i&&"undefined"!=typeof e.data.sort[a]&&"undefined"!=typeof t.data.sort[a];)i=e.data.sort[a]===t.data.sort[a]?0:n.$2v(e.data.sort[a],t.data.sort[a],n.sortDirections[a]),a++;return i},this.$2v=function(e,t,i){var a="desc"!==i,n=a?-1:1,o=-n;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return n;var r=[];return r[0]=e,r[1]=t,r.sort(),e===r[0]?n:o},this.$2w=function(e,i,a,n,o,r){o||(o=0);var s=n;this.shadow={},this.shadow.list=[],this.shadow.start={x:e,y:i},this.shadow.width=n,this.eventMoveToPosition&&(s=1,this.shadow.position=a);var l=7*i+e-o;0>l&&(s+=l,e=0,i=0);for(var d=o;d>=7;)i--,d-=7;if(d>e){var c=7-this.$2q();d>e+c?(i--,e=e+7-d):(s=s-d+e,e=0)}else e-=d;0>i&&(i=0,e=0);var h=null;for(t.resizingEvent?h="w-resize":t.movingEvent&&(h="move"),this.nav.top.style.cursor=h;s>0&&i<this.rows.length;){var u=Math.min(this.$2q()-e,s),f=this.rows[i],v=this.$2x(i),p=f.getHeight();this.eventMoveToPosition&&(v=this.$2y(i,a),p=2);var g=document.createElement("div");g.setAttribute("unselectable","on"),g.style.position="absolute",g.style.left=this.$2z()*e+"%",g.style.width=this.$2z()*u+"%",g.style.top=v+"px",g.style.height=p+"px",g.style.cursor=h;var y=document.createElement("div");y.setAttribute("unselectable","on"),g.appendChild(y),this.cssOnly&&(g.className=this.$2l("_shadow"),y.className=this.$2l("_shadow_inner")),this.cssOnly||(y.style.position="absolute",y.style.top="0px",y.style.right="0px",y.style.left="0px",y.style.bottom="0px","Fill"===this.shadowType?(y.style.backgroundColor="#aaaaaa",y.style.opacity=.5,y.style.filter="alpha(opacity=50)",r&&r.event&&(y.style.overflow="hidden",y.style.fontSize=this.eventFontSize,y.style.fontFamily=this.eventFontFamily,y.style.color=this.eventFontColor,y.innerHTML=r.event.client.innerHTML()?r.event.client.innerHTML():r.event.text())):y.style.border="2px dotted #666666");var m=this.nav.events;m.appendChild(g),this.shadow.list.push(g),s-=u+7-this.$2q(),e=0,i++}},this.$2A=function(){if(this.shadow){var e=this.nav.events;DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor=""}},this.$2y=function(e,t){for(var i=0,a=0;e>a;a++)i+=this.rows[a].getHeight();return i+=this.cellHeaderHeight,i+=t*s.lineHeight()},this.$2B=function(e,t){return this.firstDate.addDays(7*t+e)},this.$2m=function(e){var t=this.$25.events,i=this.events.list[e],a={};for(var n in i)a[n]=i[n];if("function"==typeof this.onBeforeEventRender){var o={};o.e=a,o.data=a,this.onBeforeEventRender(o)}t[e]=a},this.$2t=function(e,t){var t=this.cellMode,i=e.part.row,a=e.part.line,r=e.part.colStart,l=e.part.colWidth,d=e.cache||e.data,c=t?0:this.$2z()*r,h=t?100:this.$2z()*l,u=t?a*s.lineHeight():this.$2y(i,a),f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.height=s.eventHeight()+"px",this.cssOnly?(f.style.position="relative",f.style.overflow="hidden",f.className=this.$2l("_event")):f.style.fontFamily=this.eventFontFamily,d.cssClass&&DayPilot.Util.addClass(f,d.cssClass),f.event=e,t?(f.style.marginRight="2px",f.style.marginBottom="2px"):(f.style.width=h+"%",f.style.position="absolute",f.style.left=c+"%",f.style.top=u+"px"),this.showToolTip&&d.toolTip&&!this.bubble&&(f.title=d.toolTip),f.onclick=this.$2C,f.ondblclick=this.$2D,f.oncontextmenu=this.$2E,f.onmousedown=this.$2F,f.onmousemove=this.$2G,f.onmouseout=this.$2H,f.ontouchstart=o.onEventTouchStart,f.ontouchmove=o.onEventTouchMove,f.ontouchend=o.onEventTouchEnd,e.part.startsHere||DayPilot.Util.addClass(f,this.$2l("_event_continueleft")),e.part.endsHere||DayPilot.Util.addClass(f,this.$2l("_event_continueright"));var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.$2l("_event_inner"),v.innerHTML=e.client.innerHTML()?e.client.innerHTML():e.text(),d.backColor&&(v.style.background=d.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(v.style.filter="")),f.appendChild(v),this.eventTextAlignment&&(v.style.textAlign=this.eventTextAlignment.toLowerCase());var p=this.$2I.locale(),g=n.eventStartEndWidth;if(this.eventStartTime){var y="Clock12Hours"===n.$2I.timeFormat()?e.start().toString("h tt",p):e.start().toString("H",p),m={left:5,top:3,width:g,bottom:2,v:"Visible",html:y,css:n.$2l("_event_timeleft")},b=DayPilot.Areas.createArea(f,e,m);f.appendChild(b),v.style.paddingLeft=g+"px"}if(this.eventEndTime){var y="Clock12Hours"===n.$2I.timeFormat()?e.end().toString("h tt",p):e.end().toString("H",p),m={right:5,top:3,width:g,bottom:2,v:"Visible",html:y,css:n.$2l("_event_timeright")},b=DayPilot.Areas.createArea(f,e,m);f.appendChild(b),v.style.paddingRight=g+"px"}if(d.areas)for(var w=d.areas,D=0;D<w.length;D++){var m=w[D];if("Visible"===m.v){var b=DayPilot.Areas.createArea(f,e,m);f.appendChild(b)}}this.elements.events.push(f),t?this.cells[r][i].body.appendChild(f):this.nav.events.appendChild(f),n.multiselect.$2J(f.event)&&n.multiselect.add(f.event,!0);var k=f;if(n.$2k()){if("function"==typeof n.onAfterEventRender){var C={};C.e=k.event,C.div=k,n.onAfterEventRender(C)}}else n.afterEventRender&&n.afterEventRender(k.event,k)},this.$2C=function(e){o.start||n.$2K(this,e)},this.$2D=function(e){n.$2L(this,e)},this.$2G=function(e){var i=this,a=i.event;if("undefined"!=typeof t&&!t.movingEvent&&!t.resizingEvent){var o=DayPilot.mo3(i,e);if(o){!function(){var e=i;if(!e.active){var t=[];"Disabled"!==n.eventDeleteHandling&&t.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:n.$2l("_event_delete"),js:function(e){n.$2M(e)}});var a=e.event.cache?e.event.cache.areas:e.event.data.areas;a&&a.length>0&&(t=t.concat(a)),DayPilot.Areas.showAreas(e,e.event,null,t)}}(),n.cssOnly&&n.$2N(i.event).each(function(e){DayPilot.Util.addClass(e,n.$2l("_event_hover"))});var r=6;if(!n.cellMode&&o.x<=r&&a.client.resizeEnabled()?a.part.startsHere?(i.style.cursor="w-resize",i.dpBorder="left"):i.style.cursor="not-allowed":!n.cellMode&&i.clientWidth-o.x<=r&&a.client.resizeEnabled()?a.part.endsHere?(i.style.cursor="e-resize",i.dpBorder="right"):i.style.cursor="not-allowed":i.style.cursor="default","undefined"!=typeof DayPilotBubble&&n.bubble&&"Disabled"!==n.eventHoverHandling)if(t.movingEvent||t.resizingEvent)DayPilotBubble.hideActive();else{var s=this.$2O&&o.x===this.$2O.x&&o.y===this.$2O.y;s||(this.$2O=o,n.bubble.showEvent(i.event))}}}},this.$2H=function(e){var t=this;"undefined"!=typeof DayPilotBubble&&n.bubble&&n.bubble.hideOnMouseOut(),t.style.cursor="",n.cssOnly&&n.$2N(t.event).each(function(e){DayPilot.Util.removeClass(e,n.$2l("_event_hover"))}),DayPilot.Areas.hideAreas(t,e)},this.$2E=function(){var e=this;return n.$2P(e.event),!1},this.$2F=function(e){if(!o.start){var i=this,a=i.event,r=a.part.row,s=a.part.colStart,l=a.part.line,d=a.part.colWidth;e=e||window.event;var c=DayPilot.Util.mouseButton(e);if(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),c.left)if("undefined"!=typeof DayPilotBubble&&n.bubble&&DayPilotBubble.hideActive(),t.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var h={};h.start={},h.start.x=s,h.start.y=r,h.event=i.event,h.width=DayPilot.DateUtil.daysSpan(h.event.start(),h.event.end())+1,h.direction=this.style.cursor,t.resizingEvent=h}else if("move"===this.style.cursor||a.client.moveEnabled()){n.$2A();var u=DayPilot.mo3(n.nav.events,e);if(!u)return;var f=n.$2Q(u.x,u.y);if(!f)return;var v=DayPilot.DateUtil.daysDiff(a.start(),n.rows[r].start),p=7*f.y+f.x-(7*r+s);v&&(p+=v);var g={};g.start={},g.start.x=s,g.start.y=r,g.start.line=l,g.offset=n.eventMoveToPosition?0:p,g.colWidth=d,g.event=i.event,g.coords=u,t.movingEvent=g}}},this.temp={},this.temp.getPosition=function(){if(!n.coords)return null;var e=n.$2Q(n.coords.x,n.coords.y);if(!e)return null;var t=new DayPilot.Date(n.$2B(e.x,e.y)),e={};return e.start=t,e.end=t.addDays(1),e},this.$2R={};var o=n.$2R;o.active=!1,o.start=!1,o.timeouts=[],o.onEventTouchStart=function(e){if(!o.active&&!o.start){o.clearTimeouts(),o.start=!0,o.active=!1;var t=this,i=t.event;if(i.client.moveEnabled()){var a=n.tapAndHoldTimeout;o.timeouts.push(window.setTimeout(function(){o.active=!0,o.start=!1;var i=o.relativeCoords(e);o.startMoving(t,i),e.preventDefault()},a))}e.stopPropagation()}},o.onEventTouchMove=function(e){o.clearTimeouts(),o.start=!1},o.onEventTouchEnd=function(e){o.clearTimeouts(),o.start&&n.$2S(this,e),window.setTimeout(function(){o.start=!1,o.active=!1},500)},o.onMainTouchStart=function(e){if(!o.active&&!o.start){o.clearTimeouts(),o.start=!0,o.active=!1;var t=n.tapAndHoldTimeout;o.timeouts.push(window.setTimeout(function(){o.active=!0,o.start=!1,e.preventDefault();var t=o.relativeCoords(e);o.startRange(t)},t))}},o.onMainTouchMove=function(e){if(o.clearTimeouts(),o.start=!1,o.active){e.preventDefault();var t=o.relativeCoords(e);if(o.moving)return void o.updateMoving(t);o.range&&o.updateRange(t)}},o.onMainTouchEnd=function(e){if(o.clearTimeouts(),o.active){if(o.moving){var t=o.moving,i=o.moving.event,a=n.shadow.start,r=n.shadow.position,s=o.moving.offset;n.$2A(),o.moving=null,n.$2T(i,a.x,a.y,s,e,r)}if(o.range){var l=o.range,a=new DayPilot.Date(n.$2B(l.from.x,l.from.y)),d=a.addDays(l.width);o.range=null,n.$2U(a,d)}}window.setTimeout(function(){o.start=!1,o.active=!1},500)},o.clearTimeouts=function(){for(var e=0;e<o.timeouts.length;e++)clearTimeout(o.timeouts[e]);o.timeouts=[]},o.relativeCoords=function(e){var t=n.nav.events,i=e.touches[0].pageX,a=e.touches[0].pageY,o={x:i,y:a},r=DayPilot.abs(t),o={x:i-r.x,y:a-r.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return o},o.startMoving=function(e,t){n.$2A();var i=e.event,a=n.$2Q(t.x,t.y);if(a){var r=DayPilot.DateUtil.daysDiff(i.start(),n.rows[i.part.row].start),s=7*a.y+a.x-(7*i.part.row+i.part.colStart);r&&(s+=r);var l={};l.start={},l.start.x=i.part.colStart,l.start.y=i.part.row,l.start.line=i.part.line,l.offset=n.eventMoveToPosition?0:s,l.colWidth=i.part.colWidth,l.event=i,l.coords=t,o.moving=l,o.updateMoving(t)}},o.updateMoving=function(e){var t=n.$2Q(e.x,e.y);if(t){var i=n.$2V(t);n.$2A();var a=o.moving.event,r=o.moving.offset,s=n.cellMode?1:DayPilot.DateUtil.daysSpan(a.start(),a.end())+1;1>s&&(s=1),n.$2w(t.x,t.y,i,s,r,a)}},o.startRange=function(e){var t=n.$2Q(e.x,e.y);if(t){n.$2A();var i={};i.start={},i.start.x=t.x,i.start.y=t.y,i.x=t.x,i.y=t.y,i.width=1,o.range=i,o.updateRange(e)}},o.updateRange=function(e){var t=n.$2Q(e.x,e.y);if(t){n.$2A();var i=o.range.start,a=7*i.y+i.x,r=7*t.y+t.x,s=Math.abs(r-a)+1;1>s&&(s=1);var l=r>a?i:t;o.range.width=s,o.range.from={x:l.x,y:l.y},n.$2w(l.x,l.y,0,s,0,null)}},this.isWeekend=function(e){var t=0,i=6;return e.dayOfWeek()===t?!0:e.dayOfWeek()===i?!0:!1},this.$2W=function(){var e=this.startDate.lastDayOfMonth();if(this.showWeekend)return e;for(;this.isWeekend(e);)e=e.addDays(-1);return e},this.$2c=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),this.startDate="Month"===this.viewType?this.startDate.firstDayOfMonth():this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(s.weekStarts()),!this.showWeekend){for(var e=this.startDate.addMonths(-1).getMonth(),t=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(t);)t=t.addDays(-1);t.getMonth()===e&&(this.firstDate=this.firstDate.addDays(7))}var i=this.startDate,a;if("Month"===this.viewType){var o=this.$2W(),r=DayPilot.DateUtil.daysDiff(this.firstDate,o)+1;a=Math.ceil(r/7)}else a=this.weeks;this.days=7*a,this.rows=[];for(var l=0;a>l;l++){var d={};d.start=this.firstDate.addDays(7*l),d.end=d.start.addDays(this.$2q()),d.events=[],d.lines=[],d.index=l,d.minHeight=this.cellHeight,d.calendar=this,d.belongsHere=function(e){return e.end.getTime()===e.start.getTime()&&e.start.getTime()===this.start.getTime()?!0:!(e.end.getTime()<=this.start.getTime()||e.start.getTime()>=this.end.getTime())},d.getPartStart=function(e){return DayPilot.DateUtil.max(this.start,e.start())},d.getPartEnd=function(e){return DayPilot.DateUtil.min(this.end,e.end())},d.getStartColumn=function(e){var t=this.getPartStart(e);return DayPilot.DateUtil.daysDiff(this.start,t)},d.getWidth=function(e){return DayPilot.DateUtil.daysSpan(this.getPartStart(e),this.getPartEnd(e))+1},d.putIntoLine=function(e,t,i,a){for(var n=this,o=0;o<this.lines.length;o++){var r=this.lines[o];if(r.isFree(t,i))return r.addEvent(e,t,i,a,o),o}var r=[];return r.isFree=function(e,t){for(var i=!0,a=0;a<this.length;a++){var n=this[a];e+t-1<n.part.colStart||e>n.part.colStart+n.part.colWidth-1||(i=!1)}return i},r.addEvent=function(e,t,i,a,o){e.part.colStart=t,e.part.colWidth=i,e.part.row=a,e.part.line=o,e.part.startsHere=n.start.getTime()<=e.start().getTime(),e.part.endsHere=n.end.getTime()>=e.end().getTime(),this.push(e)},r.addEvent(e,t,i,a,this.lines.length),this.lines.push(r),this.lines.length-1},d.getStart=function(){for(var e=0,t=0;t<n.rows.length&&t<this.index;t++)e+=n.rows[t].getHeight()},d.getHeight=function(){return Math.max(this.lines.length*s.lineHeight()+n.cellHeaderHeight+n.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(d)}this.$2X=this.firstDate.addDays(7*a)},this.$2Y=function(){switch(this.heightSpec){case"Auto":for(var e=s.headerHeight(),t=0;t<this.rows.length;t++)e+=this.rows[t].getHeight();return e;case"Fixed":return this.height}},this.$2Z=function(e,t){var i=7*t.y+t.x-(7*e.y+e.x);return i+1},this.$30={},this.$30.scope=null,this.$30.notify=function(){n.$30.scope&&n.$30.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$31=function(){var e=this.nav.top;this.nav.top.dp=this,e.setAttribute("unselectable","on"),e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.WebkitUserSelect="none",e.style.WebkitTapHighlightColor="rgba(0,0,0,0)",e.style.WebkitTouchCallout="none",e.style.position="relative",this.width&&(e.style.width=this.width),e.onselectstart=function(e){return!1},this.cssOnly?e.className=this.$2l("_main"):e.style.border="1px solid "+this.borderColor,this.hideUntilInit&&(e.style.visibility="hidden"),this.visible||(e.style.display="none"),e.onmousemove=this.$32,e.ontouchstart=o.onMainTouchStart,e.ontouchmove=o.onMainTouchMove,e.ontouchend=o.onMainTouchEnd,this.$2a=document.createElement("div"),this.$2a.style.display="none",this.nav.top.appendChild(this.$2a);var t=document.createElement("div");t.style.position="relative",t.style.height=s.headerHeight()+"px",t.oncontextmenu=function(){return!1},this.nav.top.appendChild(t),this.nav.header=t;var i=document.createElement("div");i.style.zoom="1";var a=document.createElement("div");a.style.position="relative",i.appendChild(a),this.nav.top.appendChild(i),this.nav.scrollable=i,this.nav.events=a},this.$32=function(e){n.coords=DayPilot.mo3(n.nav.events,e);var i=n.coords;if(i){var a=n.$2Q(i.x,i.y);if(a)if(t.resizingEvent){n.$2A();var o=t.resizingEvent,r=o.start,s,l;if("w-resize"===o.direction){l=a;var d=o.event.end();d.getDatePart().getTime()===d.getTime()&&(d=d.addDays(-1));var c=n.$33(d);s=n.$2Z(a,c)}else l=n.$33(o.event.start()),s=n.$2Z(l,a);1>s&&(s=1),n.$2w(l.x,l.y,0,s)}else if(t.movingEvent){if(n.debug.message("mousemove/moving start coords: "+t.movingEvent.coords.x+" "+t.movingEvent.coords.y),n.debug.message("mousemove/current coords: "+i.x+" "+i.y),i.x===t.movingEvent.coords.x&&i.y===t.movingEvent.coords.y)return;var h=n.$2V(a);n.$2A();var u=t.movingEvent.event,f=t.movingEvent.offset,s=n.cellMode?1:DayPilot.DateUtil.daysSpan(u.start(),u.end())+1;1>s&&(s=1),n.$2w(a.x,a.y,h,s,f,u)}else if(t.timeRangeSelecting){t.cancelCellClick=!0,n.$2A();var l=t.timeRangeSelecting,v=7*l.y+l.x,p=7*a.y+a.x,s=Math.abs(p-v)+1;1>s&&(s=1);var g=p>v?l:a;t.timeRangeSelecting.from={x:g.x,y:g.y},t.timeRangeSelecting.width=s,t.timeRangeSelecting.moved=!0,n.$2w(g.x,g.y,0,s,0,null)}}},this.$2V=function(e){for(var t=e.relativeY,i=n.rows[e.y],a=n.cellHeaderHeight,o=s.lineHeight(),r=i.lines.length,l=0;l<i.lines.length;l++){var d=i.lines[l];if(d.isFree(e.x,1)){r=l;break}}var c=Math.floor((t-a+o/2)/o),c=Math.min(r,c),c=Math.max(0,c);return c},this.message=function(e,t,i,a){if(null!==e){var t=t||this.messageHideAfter||2e3,i=i||"#ffffff",a=a||"#000000",o=.8,r=s.headerHeight(),l=1,d=0,c;if(this.nav.message)c=n.nav.message;else{c=document.createElement("div"),c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.right="0px",c.style.left="0px",c.style.top=r+"px",c.style.opacity=o,c.style.filter="alpha(opacity="+100*o+")",c.style.display="none",c.onmousemove=function(){c.messageTimeout&&!c.status&&clearTimeout(c.messageTimeout)},c.onmouseout=function(){"none"!==n.nav.message.style.display&&(c.messageTimeout=setTimeout(n.$34,500))},this.cssOnly||(c.style.textAlign="left");var h=document.createElement("div");h.setAttribute("unselectable","on"),h.onclick=function(){n.nav.message.style.display="none"},this.cssOnly?h.className=this.$2l("_message"):h.style.padding="5px",c.appendChild(h);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",this.cssOnly?u.className=this.$2l("_message_close"):(u.style.top="5px",u.style.right=DayPilot.sw(n.nav.scroll)+5+"px",u.style.color=i,u.style.lineHeight="100%",u.style.cursor="pointer",u.style.fontWeight="bold",u.innerHTML="X"),u.onclick=function(){n.nav.message.style.display="none"},c.appendChild(u),this.nav.top.appendChild(c),this.nav.message=c}var f=function(){n.nav.message.style.opacity=o;var r=n.nav.message.firstChild;n.cssOnly||(r.style.backgroundColor=a,r.style.color=i),r.innerHTML=e;var s=function(){c.messageTimeout=setTimeout(n.$34,t)};DayPilot.fade(n.nav.message,.2,s)};clearTimeout(c.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(n.nav.message,-.2,f):f()}},this.message.show=function(e){n.message(e)},this.message.hide=function(){n.$34()},this.$34=function(){var e=function(){n.nav.message.style.display="none"};DayPilot.fade(n.nav.message,-.2,e)},this.$35=function(e){"Parent100Pct"===n.heightSpec&&n.$2g()},this.$2g=function(){var e=this.nav.scrollable;if("Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(e.style.top=this.headerHeight+"px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.overflow="auto",e.style.position="absolute"):e.style.position="relative","Parent100Pct"===this.heightSpec){this.nav.top.style.height="100%";var t=this.nav.top.clientHeight}else this.nav.top.style.height=this.$2Y()+"px";for(var i=0;i<this.cells.length;i++)for(var a=0;a<this.cells[i].length;a++)this.cells[i][a].style.top=this.$2x(a)+"px",this.cells[i][a].style.height=this.rows[a].getHeight()+"px";this.$36()},this.$2Q=function(e,t){for(var i=Math.floor(this.nav.top.clientWidth/this.$2q()),a=Math.min(Math.floor(e/i),this.$2q()-1),n=null,o=0,r=0,s=0,l=0;l<this.rows.length;l++){if(r+=this.rows[l].getHeight(),r>t){o=t-s,n=l;break}s=r}null===n&&(n=this.rows.length-1);var d={};return d.x=a,d.y=n,d.relativeY=o,d},this.$33=function(e){for(var t=DayPilot.DateUtil.daysDiff(this.firstDate,e),i={x:0,y:0};t>=7;)i.y++,t-=7;return i.x=t,i},this.$36=function(){var e=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=e+"px"};var r=null;this.$2f=function(){var e=this.nav.header,t=this.nav.events;this.cells=[];for(var i=0;i<this.$2q();i++){this.cells[i]=[];var a=this.headerProperties?this.headerProperties[i]:null,o=i+s.weekStarts();if(o>6&&(o-=7),!a){var a={};a.html=s.locale().dayNames[o],this.cssOnly||(a.backColor=this.headerBackColor)}if("function"==typeof n.onBeforeHeaderRender){var l={};l.header={},l.header.dayOfWeek=o;var d=["html","backColor","cssClass"];DayPilot.Util.copyProps(a,l.header,d),n.onBeforeHeaderRender(l),DayPilot.Util.copyProps(l.header,a,d)}var c=document.createElement("div");
c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.left=this.$2z()*i+"%",c.style.width=this.$2z()+"%",c.style.top="0px",c.style.height=s.headerHeight()+"px",function(e){c.onclick=function(){n.$37(e)}}(o);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=this.$2l("_header_inner"),h.innerHTML=a.html,c.appendChild(h),this.cssOnly?(c.className=this.$2l("_header"),a&&(a.cssClass&&DayPilot.Util.addClass(c,a.cssClass),a.backColor&&(h.style.background=a.backColor))):(h.style.position="absolute",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.style.backgroundColor=a.backColor,h.style.fontFamily=this.headerFontFamily,h.style.fontSize=this.headerFontSize,h.style.color=this.headerFontColor,h.style.textAlign="center",h.style.cursor="default",h.className=this.$2l("header"),i!==this.$2q()-1&&(h.style.borderRight="1px solid "+this.borderColor)),e.appendChild(c);for(var u=0;u<this.rows.length;u++)this.$38(i,u,t)}if(!DayPilot.contains(this.nav.top.childNodes,r)&&this.numberFormat){var f=document.createElement("div");f.style.position="absolute",f.style.padding="2px",f.style.top="0px",f.style.left="0px",f.style.backgroundColor="#FF6600",f.style.color="white",f.innerHTML="DEMO",r=f,this.nav.top.appendChild(f)}},this.$2e=function(){for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++)this.cells[e][t].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.$38=function(t,i,a){var o=this.rows[i],r=this.firstDate.addDays(7*i+t),l=this.cellProperties?this.cellProperties[i*this.$2q()+t]:null,d=null;if(l)d=l.headerHtml;else{var c=r.getDay();d=1===c?s.locale().monthNames[r.getMonth()]+" "+c:c+""}if(!l){var l={};l.business=!n.isWeekend(r),l.headerHtml=d}if("function"==typeof n.onBeforeCellRender){var h={};h.cell={},h.cell.areas=null,h.cell.backColor=null,h.cell.backImage=null,h.cell.backRepeat=null,h.cell.business=n.isWeekend(r),h.cell.headerHtml=d,h.cell.headerBackColor=null,h.cell.cssClass=null,h.cell.html=null,h.cell.start=r,h.cell.end=h.cell.start.addDays(1),DayPilot.Util.copyProps(l,h.cell),n.onBeforeCellRender(h),DayPilot.Util.copyProps(h.cell,l,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.cursor="default",u.style.left=this.$2z()*t+"%",u.style.width=this.$2z()+"%",u.style.top=this.$2x(i)+"px",u.style.height=o.getHeight()+"px",u.d=r,u.x=t,u.y=i,u.props=l;var f=this.startDate.addMonths(-1).getMonth(),v=this.startDate.addMonths(1).getMonth(),p=this.startDate.getMonth(),g=document.createElement("div");g.setAttribute("unselectable","on"),u.appendChild(g),g.className=this.$2l("_cell_inner"),g.className=this.$2l("_cell_inner"),r.getMonth()===p?u.className=this.$2l("_cell"):r.getMonth()===f?u.className=this.$2l("_cell")+" "+this.$2l("_previous"):r.getMonth()===v?u.className=this.$2l("_cell")+" "+this.$2l("_next"):e(),l&&(l.cssClass&&DayPilot.Util.addClass(u,l.cssClass),l.business&&DayPilot.Util.addClass(u,this.$2l("_cell_business")),l.backColor&&(g.style.backgroundColor=l.backColor),l.backImage&&(g.style.backgroundImage="url('"+l.backImage+"')"),l.backRepeat&&(g.style.backgroundRepeat=l.backRepeat)),u.onmousedown=this.$39,u.onmousemove=this.$3a,u.onmouseout=this.$3b,u.oncontextmenu=this.$3c,u.onclick=this.$3d,u.ondblclick=this.$3e;var y=document.createElement("div");if(y.setAttribute("unselectable","on"),y.style.height=this.cellHeaderHeight+"px",l&&l.headerBackColor&&(y.style.background=l.headerBackColor),y.className=this.$2l("_cell_header"),y.innerHTML=l.headerHtml,g.appendChild(y),l&&l.html){var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.height=o.getHeight()-this.cellHeaderHeight+"px",m.style.overflow="hidden",m.innerHTML=l.html,g.appendChild(m)}if(this.cellMode){var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.height=this.cellHeight-this.cellHeaderHeight+"px",b.style.overflow="auto",b.style.position="relative";var w=document.createElement("div");w.setAttribute("unselectable","on"),w.style.paddingTop="1px",w.style.paddingBottom="1px",b.appendChild(w),g.appendChild(b),u.body=w,u.scrolling=b}if(u.props)for(var D=u.props.areas||[],k=0;k<D.length;k++){var C=D[k];if("Visible"===C.v){var x=DayPilot.Areas.createArea(u,u.props,C);u.appendChild(x)}}this.cells[t][i]=u,a.appendChild(u),"function"==typeof n.onAfterCellRender&&(h.cell.div=u,h.cell.divHeader=y,n.onAfterCellRender(h))},this.$3a=function(){var e=this;e.props&&DayPilot.Areas.showAreas(e,e.props)},this.$3b=function(e){var t=this;t.props&&DayPilot.Areas.hideAreas(t,e)},this.$3c=function(){var e=this.d,t=function(e){var t=new DayPilot.Date(e),i=t.addDays(1),a=new DayPilot.Selection(t,i,null,n);n.contextMenuSelection&&n.contextMenuSelection.show(a)};return t(e),!1},this.$3e=function(){var e=this.d;if(n.timeouts){for(var t in n.timeouts)window.clearTimeout(n.timeouts[t]);n.timeouts=null}if("Disabled"!==n.timeRangeDoubleClickHandling){var i=new DayPilot.Date(e),a=i.addDays(1);n.$3f(i,a)}},this.$3d=function(){if(!t.cancelCellClick){var e=this.d,i=function(e){var t=new DayPilot.Date(e),i=t.addDays(1);n.$2U(t,i)};if("Disabled"!==n.timeRangeSelectedHandling&&"Disabled"===n.timeRangeDoubleClickHandling)return void i(e);n.timeouts||(n.timeouts=[]);var a=function(e){return function(){i(e)}};n.timeouts.push(window.setTimeout(a(e),n.doubleClickTimeout))}},this.$39=function(e){var i=this,a=i.x,o=i.y;if(t.cancelCellClick=!1,i.scrolling){var r=DayPilot.mo3(i.scrolling,e),s=DayPilot.sw(i.scrolling),l=i.scrolling.offsetWidth;if(r.x>l-s)return}"Disabled"!==n.timeRangeSelectedHandling&&(n.$2A(),t.timeRangeSelecting={root:n,x:a,y:o,from:{x:a,y:o},width:1})},this.$2q=function(){return this.showWeekend?7:5},this.$2z=function(){return this.showWeekend?14.285:20},this.$3g=function(e){return 6===e.getUTCDay()||0===e.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.$2x=function(e){for(var t=0,i=0;e>i;i++)t+=this.rows[i].getHeight();return t},this.clearSelection=function(){this.$2A()},this.$3h=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$3i();var o="JSON"+DayPilot.JSON.stringify(a);__doPostBack(n.uniqueID,o)},this.$3j=function(e,t,i,a){if(!this.$3k())return void n.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof a&&(a="CallBack");var o={};o.action=e,o.type=a,o.parameters=t,o.data=i,o.header=this.$3i();var r="JSON"+DayPilot.JSON.stringify(o);this.backendUrl?DayPilot.request(this.backendUrl,this.$3l,r,this.$3m):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.$27,null,this.callbackError,!0)},this.$3k=function(){return this.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$3m=function(e){if("function"==typeof n.onAjaxError){var t={};t.request=e,n.onAjaxError(t)}else"function"==typeof n.ajaxError&&n.ajaxError(e)},this.$3l=function(e){n.$27(e.responseText)},this.$3i=function(){var e={};return e.v=this.v,e.control="dpm",e.id=this.id,e.visibleStart=new DayPilot.Date(this.firstDate),e.visibleEnd=e.visibleStart.addDays(this.days),e.clientState=this.clientState,e.cssOnly=n.cssOnly,e.cssClassPrefix=n.cssClassPrefix,e.startDate=n.startDate,e.showWeekend=this.showWeekend,e.headerBackColor=this.headerBackColor,e.backColor=this.backColor,e.nonBusinessBackColor=this.nonBusinessBackColor,e.locale=this.locale,e.timeFormat=this.timeFormat,e.weekStarts=this.weekStarts,e.viewType=this.viewType,e.weeks=this.weeks,e.selected=n.multiselect.events(),e.hashes=n.hashes,e},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return n.visibleStart().addDays(n.days)},this.$3n=function(e,t,i,a){if("PostBack"===e)n.postBack2(t,i,a);else if("CallBack"===e)n.$3j(t,i,a,"CallBack");else if("Immediate"===e)n.$3j(t,i,a,"Notify");else if("Queue"===e)n.queue.add(new DayPilot.Action(this,t,i,a));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===s.notifyType()?n.$3j(t,i,a,"Notify"):n.queue.add(new DayPilot.Action(n,t,i,a))}},this.$3o=function(e,t){var i=n.$3p(t),a={};a.args=e,a.guid=i,n.$3j("Bubble",a)},this.$3p=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventClickPostBack=function(e,t){this.$3h("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.$3j("EventClick",e,t)},this.$2K=function(e,i){t.movingEvent=null,t.resizingEvent=null;var i=i||window.event,a=i.ctrlKey,o=i.metaKey;if(i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),"undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),"Disabled"===n.eventDoubleClickHandling)return void n.$2S(e,i);if(n.timeouts){for(var r in n.timeouts)window.clearTimeout(n.timeouts[r]);n.timeouts=[]}else n.timeouts=[];var s=function(e,t){return function(){n.$2S(e,t)}};n.timeouts.push(window.setTimeout(s(e,i),n.doubleClickTimeout))},this.$2S=function(e,t){var i=e.event;if(i.client.clickEnabled()){var a=t.ctrlKey,o=t.metaKey;if(n.$2k()){var r={};if(r.e=i,r.div=e,r.originalEvent=t,r.meta=t.metaKey,r.ctrl=t.ctrlKey,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventClick&&(n.onEventClick(r),r.preventDefault.value))return;switch(n.eventClickHandling){case"PostBack":n.eventClickPostBack(i);break;case"CallBack":n.eventClickCallBack(i);break;case"Select":n.$3q(e,i,a,o);break;case"ContextMenu":var s=i.client.contextMenu();s?s.show(i):n.contextMenu&&n.contextMenu.show(i);break;case"Bubble":n.bubble&&n.bubble.showEvent(i)}"function"==typeof n.onEventClicked&&n.onEventClicked(r)}else switch(n.eventClickHandling){case"PostBack":n.eventClickPostBack(i);break;case"CallBack":n.eventClickCallBack(i);break;case"JavaScript":n.onEventClick(i);break;case"Select":n.$3q(e,i,a,o);break;case"ContextMenu":var s=i.client.contextMenu();s?s.show(i):n.contextMenu&&n.contextMenu.show(i);break;case"Bubble":n.bubble&&n.bubble.showEvent(i)}}},this.$2M=function(e){if(n.$2k()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventDelete&&(n.onEventDelete(t),t.preventDefault.value))return;switch(n.eventDeleteHandling){case"PostBack":n.eventDeletePostBack(e);break;case"CallBack":n.eventDeleteCallBack(e);break;case"Update":n.events.remove(e)}"function"==typeof n.onEventDeleted&&n.onEventDeleted(t)}else switch(n.eventDeleteHandling){case"PostBack":n.eventDeletePostBack(e);break;case"CallBack":n.eventDeleteCallBack(e);break;case"JavaScript":n.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.$3h("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.$3j("EventDelete",e,t)},this.eventDoubleClickPostBack=function(e,t){this.$3h("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.$3j("EventDoubleClick",e,t)},this.$2L=function(e,t){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),n.timeouts){for(var i in n.timeouts)window.clearTimeout(n.timeouts[i]);n.timeouts=null}var t=t||window.event,a=e.event;if(n.$2k()){var o={};if(o.e=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventDoubleClick&&(n.onEventDoubleClick(o),o.preventDefault.value))return;switch(n.eventDoubleClickHandling){case"PostBack":n.eventDoubleClickPostBack(a);break;case"CallBack":n.eventDoubleClickCallBack(a);break;case"Select":n.$3q(e,a,t.ctrlKey,t.metaKey);break;case"Bubble":n.bubble&&n.bubble.showEvent(a)}"function"==typeof n.onEventDoubleClicked&&n.onEventDoubleClicked(o)}else switch(n.eventDoubleClickHandling){case"PostBack":n.eventDoubleClickPostBack(a);break;case"CallBack":n.eventDoubleClickCallBack(a);break;case"JavaScript":n.onEventDoubleClick(a);break;case"Select":n.$3q(e,a,t.ctrlKey,t.metaKey);break;case"Bubble":n.bubble&&n.bubble.showEvent(a)}},this.$3q=function(e,t,i,a){n.$3r(e,t,i,a)},this.eventSelectPostBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$3h("EventSelect",i,a)},this.eventSelectCallBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$3j("EventSelect",a,i)},this.$3r=function(e,t,i,a){var o=n.multiselect,r=!1,s=o.isSelected(t),l=i||a;if(l||!s||r||1!==o.list.length)if(n.$2k()){o.previous=o.events();var d={};if(d.e=t,d.selected=o.isSelected(t),d.ctrl=i,d.meta=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventSelect&&(n.onEventSelect(d),d.preventDefault.value))return;switch(n.eventSelectHandling){case"PostBack":n.eventSelectPostBack(t,c);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),n.eventSelectCallBack(t,c);break;case"Update":o.$3s(e,i)}"function"==typeof n.onEventSelected&&(d.change=o.isSelected(t)?"selected":"deselected",d.selected=o.isSelected(t),n.onEventSelected(d))}else{o.previous=o.events(),o.$3s(e,i);var c=o.isSelected(t)?"selected":"deselected";switch(n.eventSelectHandling){case"PostBack":n.eventSelectPostBack(t,c);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),n.eventSelectCallBack(t,c);break;case"JavaScript":n.onEventSelect(t,c)}}},this.eventRightClickPostBack=function(e,t){this.$3h("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.$3j("EventRightClick",e,t)},this.$2P=function(e){if(this.event=e,!e.client.rightClickEnabled())return!1;if(n.$2k()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventRightClick&&(n.onEventRightClick(t),t.preventDefault.value))return;switch(n.eventRightClickHandling){case"PostBack":n.eventRightClickPostBack(e);break;case"CallBack":n.eventRightClickCallBack(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):n.contextMenu&&n.contextMenu.show(this.event);break;case"Bubble":n.bubble&&n.bubble.showEvent(e)}"function"==typeof n.onEventRightClicked&&n.onEventRightClicked(t)}else switch(n.eventRightClickHandling){case"PostBack":n.eventRightClickPostBack(e);break;case"CallBack":n.eventRightClickCallBack(e);break;case"JavaScript":n.onEventRightClick(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):n.contextMenu&&n.contextMenu.show(this.event);break;case"Bubble":n.bubble&&n.bubble.showEvent(e)}return!1},this.eventMenuClickPostBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$3h("EventMenuClick",i,a)},this.eventMenuClickCallBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$3j("EventMenuClick",a,i)},this.$3t=function(e,t,i){switch(i){case"PostBack":n.eventMenuClickPostBack(t,e);break;case"CallBack":n.eventMenuClickCallBack(t,e)}},this.eventMovePostBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=n,this.$3h("EventMove",a,o)},this.eventMoveCallBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=n,this.$3j("EventMove",o,a)},this.$2T=function(e,t,i,a,o,r){var s=e.start().getTimePart(),l=e.end().getDatePart();l.getTime()!==e.end().getTime()&&(l=l.addDays(1));var d=DayPilot.DateUtil.diff(e.end(),l),c=this.$2B(t,i);c=c.addDays(-a);var h=DayPilot.DateUtil.daysSpan(e.start(),e.end())+1,u=c.addDays(h),f=c.addTime(s),v=u.addTime(d);if(n.$2k()){var p={};if(p.e=e,p.newStart=f,p.newEnd=v,p.position=r,p.ctrl=!1,o&&(p.ctrl=o.ctrlKey),p.shift=!1,o&&(p.shift=o.shiftKey),p.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventMove&&(n.onEventMove(p),p.preventDefault.value))return;switch(n.eventMoveHandling){case"PostBack":n.eventMovePostBack(e,f,v,null,r);break;case"CallBack":n.eventMoveCallBack(e,f,v,null,r);break;case"Notify":n.eventMoveNotify(e,f,v,null,r);break;case"Update":e.start(f),e.end(v),n.events.update(e)}"function"==typeof n.onEventMoved&&n.onEventMoved(p)}else switch(n.eventMoveHandling){case"PostBack":n.eventMovePostBack(e,f,v,null,r);break;case"CallBack":n.eventMoveCallBack(e,f,v,null,r);break;case"JavaScript":n.onEventMove(e,f,v,o.ctrlKey,o.shiftKey,r);break;case"Notify":n.eventMoveNotify(e,f,v,null,r)}},this.eventMoveNotify=function(e,t,i,a,o){var r=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),n.update(),this.$3u("Notify",r,t,i,a,o)},this.$3u=function(e,t,i,a,n,o){var r={};r.e=t,r.newStart=i,r.newEnd=a,r.position=o,this.$3n(e,"EventMove",r,n)},this.eventResizePostBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$3h("EventResize",a,n)},this.eventResizeCallBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$3j("EventResize",n,a)},this.$3v=function(e,t,i){var a=e.start().getTimePart(),o=e.end().getDatePart();o!=e.end()&&(o=o.addDays(1));var r=DayPilot.DateUtil.diff(e.end(),o),s=this.$2B(t.x,t.y),l=s.addDays(i),d=s.addTime(a),c=l.addTime(r);if(n.$2k()){var h={};if(h.e=e,h.newStart=d,h.newEnd=c,h.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onEventResize&&(n.onEventResize(h),h.preventDefault.value))return;switch(n.eventResizeHandling){case"PostBack":n.eventResizePostBack(e,d,c);break;case"CallBack":n.eventResizeCallBack(e,d,c);break;case"Notify":n.eventResizeNotify(e,d,c);break;case"Update":e.start(d),e.end(c),n.events.update(e)}"function"==typeof n.onEventResized&&n.onEventResized(h)}else switch(n.eventResizeHandling){case"PostBack":n.eventResizePostBack(e,d,c);break;case"CallBack":n.eventResizeCallBack(e,d,c);break;case"JavaScript":n.onEventResize(e,d,c);break;case"Notify":n.eventResizeNotify(e,d,c)}},this.eventResizeNotify=function(e,t,i,a){var o=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),n.update(),this.$3w("Notify",o,t,i,a)},this.$3w=function(e,t,i,a,n){var o={};o.e=t,o.newStart=i,o.newEnd=a,this.$3n(e,"EventResize",o,n)},this.timeRangeSelectedPostBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$3h("TimeRangeSelected",i,a)},this.timeRangeSelectedCallBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$3j("TimeRangeSelected",a,i)},this.$2U=function(e,t){if(n.$2k()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(i),i.preventDefault.value))return;switch(n.timeRangeSelectedHandling){case"PostBack":n.timeRangeSelectedPostBack(e,t),n.clearSelection();break;case"CallBack":n.timeRangeSelectedCallBack(e,t),n.clearSelection()}"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(i)}else switch(n.timeRangeSelectedHandling){case"PostBack":n.timeRangeSelectedPostBack(e,t),n.clearSelection();break;case"CallBack":n.timeRangeSelectedCallBack(e,t),n.clearSelection();break;case"JavaScript":n.onTimeRangeSelected(e,t)}},this.timeRangeMenuClickPostBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$3h("TimeRangeMenuClick",i,a)},this.timeRangeMenuClickCallBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$3j("TimeRangeMenuClick",a,i)},this.$3x=function(e,t,i){switch(i){case"PostBack":n.timeRangeMenuClickPostBack(t,e);break;case"CallBack":n.timeRangeMenuClickCallBack(t,e)}},this.headerClickPostBack=function(e,t){this.$3h("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.$3j("HeaderClick",e,t)},this.$37=function(e){var t=this.data,i={$0Y:e};if(n.$2k()){var a={};if(a.header={},a.header.dayOfWeek=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onHeaderClick&&(n.onHeaderClick(a),a.preventDefault.value))return;switch(n.headerClickHandling){case"PostBack":n.headerClickPostBack(i);break;case"CallBack":n.headerClickCallBack(i)}"function"==typeof n.onHeaderClicked&&n.onHeaderClicked(a)}else switch(n.headerClickHandling){case"PostBack":n.headerClickPostBack(i);break;case"CallBack":n.headerClickCallBack(i);break;case"JavaScript":n.onHeaderClick(i)}},this.timeRangeDoubleClickPostBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$3h("TimeRangeDoubleClick",i,a)},this.timeRangeDoubleClickCallBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$3j("TimeRangeDoubleClick",a,i)},this.$3f=function(e,t){if(n.$2k()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeDoubleClick&&(n.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(n.timeRangeDoubleClickHandling){case"PostBack":n.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":n.timeRangeDoubleClickCallBack(e,t)}"function"==typeof n.onTimeRangeDoubleClicked&&n.onTimeRangeDoubleClicked(i)}else switch(n.timeRangeDoubleClickHandling){case"PostBack":n.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":n.timeRangeDoubleClickCallBack(e,t);break;case"JavaScript":n.onTimeRangeDoubleClick(e,t)}},this.commandCallBack=function(e,t){this.$3y();var i={};i.command=e,this.$3j("Command",i,t)},this.$3z=function(e){for(var t=0;t<n.elements.events.length;t++){var i=n.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.$2N=function(e){var t={};t.list=[],t.each=function(e){if(e)for(var t=0;t<this.list.length;t++)e(this.list[t])};for(var i=0;i<this.elements.events.length;i++){var a=this.elements.events[i];a.event.data===e.data&&t.list.push(a)}return t},this.$3A=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$2l(e),document.body.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;document.body.removeChild(t);var n={};return n.height=i,n.width=a,n},this.$2I={};var s=this.$2I;s.lineHeight=function(){return s.eventHeight()+n.lineSpace},s.rounded=function(){return"Rounded"===n.eventCorners},s.loadFromServer=function(){return n.backendUrl?"undefined"==typeof n.events.list||!n.events.list:!1},s.locale=function(){return DayPilot.Locale.find(n.locale)},s.getWeekStart=function(){return n.showWeekend?n.weekStarts:1},s.weekStarts=function(){if(!n.showWeekend)return 1;if("Auto"===n.weekStarts){var e=s.locale();return e?e.weekStarts:0}return n.weekStarts},s.notifyType=function(){var e;if("Immediate"===n.notifyCommit)e="Notify";else{if("Queue"!==n.notifyCommit)throw"Invalid notifyCommit value: "+n.notifyCommit;e="Queue"}return e},s.eventHeight=function(){if(n.$25.eventHeight)return n.$25.eventHeight;var e=n.$3A("_event_height").height;return e||(e=n.eventHeight),n.$25.eventHeight=e,e},s.headerHeight=function(){if(n.$25.headerHeight)return n.$25.headerHeight;var e=n.$3A("_header_height").height;return e||(e=n.headerHeight),n.$25.headerHeight=e,e},s.timeFormat=function(){return"Auto"!==n.timeFormat?n.timeFormat:s.locale().timeFormat},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$3B=function(){var e=n.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=n.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.$3C=function(){},this.multiselect.$3s=function(e,t){var i=n.multiselect;if(i.isSelected(e.event))if(n.allowMultiSelect)if(t)i.remove(e.event,!0);else{var a=i.list.length;i.clear(!0),a>1&&i.add(e.event,!0)}else i.clear(!0);else n.allowMultiSelect&&t?i.add(e.event,!0):(i.clear(!0),i.add(e.event,!0));i.redraw(),i.$3C()},this.multiselect.$2J=function(e){var t=n.multiselect;return t.$3D(e,t.initList)},this.multiselect.$3E=function(){for(var e=n.multiselect,t=[],i=0;i<e.list.length;i++){var a=e.list[i];t.push(a.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=n.multiselect;-1===i.indexOf(e)&&i.list.push(e),t||i.redraw()},this.multiselect.remove=function(e,t){var i=n.multiselect,a=i.indexOf(e);-1!==a&&i.list.splice(a,1)},this.multiselect.clear=function(e){var t=n.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){for(var e=n.multiselect,t=0;t<n.elements.events.length;t++){var i=n.elements.events[t];e.isSelected(i.event)?e.$3F(i):e.$3G(i)}},this.multiselect.$3F=function(e){var t=n.multiselect,i=n.$2l(n.cssOnly?"_selected":"selected"),e=t.$3H(e);DayPilot.Util.addClass(e,i),t.divs.push(e)},this.multiselect.$3H=function(e){return n.cssOnly?e:e.firstChild},this.multiselect.$3I=function(){for(var e=n.multiselect,t=0;t<e.divs.length;t++){var i=e.divs[t];e.$3G(i,!0)}e.divs=[]},this.multiselect.$3G=function(e,t){var i=n.multiselect,a=n.$2l(n.cssOnly?"_selected":"selected"),o=i.$3H(e);if(o&&o.className&&-1!==o.className.indexOf(a)&&(o.className=o.className.replace(a,"")),!t){var r=DayPilot.indexOf(i.divs,e);-1!==r&&i.divs.splice(r,1)}},this.multiselect.isSelected=function(e){return n.multiselect.$3D(e,n.multiselect.list)},this.multiselect.indexOf=function(e){return DayPilot.indexOf(n.multiselect.list,e)},this.multiselect.$3D=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var a=t[i];if(e===a)return!0;if("function"==typeof a.value){if(null!==a.value()&&null!==e.value()&&a.value()===e.value())return!0;if(null===a.value()&&null===e.value()&&a.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===a.start())return!0}else{if(null!==a.value&&null!==e.value()&&a.value===e.value())return!0;if(null===a.value&&null===e.value()&&a.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===a.start)return!0}}return!1},this.events.forRange=function(e,t){return e=new DayPilot.Date(e),t=new DayPilot.Date(t),DayPilot.list(n.events.list).filter(function(i){var a=new DayPilot.Date(i.start),n=new DayPilot.Date(i.end);return DayPilot.Util.overlaps(e,t,a,n)}).map(function(e){return new DayPilot.Event(e,n)})},this.events.find=function(e){if(!n.events.list||"undefined"==typeof n.events.list.length)return null;for(var t=n.events.list.length,i=0;t>i;i++)if(n.events.list[i].id===e)return new DayPilot.Event(n.events.list[i],n);return null},this.events.findRecurrent=function(e,t){if(!n.events.list||"undefined"==typeof n.events.list.length)return null;for(var i=n.events.list.length,a=0;i>a;a++)if(n.events.list[a].recurrentMasterId===e&&n.events.list[a].start.getTime()===t.getTime())return new DayPilot.Event(n.events.list[a],n);return null},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),n),i.newEvent=new DayPilot.Event(e.temp(),n);var a=new DayPilot.Action(n,"EventUpdate",i,t);return e.commit(),n.$24&&n.update(),n.$30.notify(),a},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,n);var a=new DayPilot.Action(n,"EventRemove",i,t),o=DayPilot.indexOf(n.events.list,e.data);return n.events.list.splice(o,1),n.$24&&n.update(),n.$30.notify(),a},this.events.add=function(e,t){e.calendar=n,n.events.list||(n.events.list=[]),n.events.list.push(e.data);var i={};i.e=e;var a=new DayPilot.Action(n,"EventAdd",i,t);return n.$24&&n.update(),n.$30.notify(),a},this.events.load=function(e,t,i){var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},o=function(e){var i=e.request,o;try{o=DayPilot.Util.parseJSON(i.responseText)}catch(r){var s={};return s.exception=r,void a(s)}if(DayPilot.isArray(o)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=o,"function"==typeof t&&t(l),l.preventDefault.value)return;n.events.list=o,n.$24&&n.update()}};DayPilot.ajax({method:"POST",data:{start:n.visibleStart().toString(),end:n.visibleEnd().toString()},url:e,success:o,error:a})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";n.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=n.queue.list,n.$3j("Notify",t,e,"Notify"),n.queue.list=[]},this.queue.clear=function(){n.queue.list=[]},this.queue.pop=function(){return n.queue.list.pop()},this.$2j=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$26>=this.autoRefreshMaxCount)){this.$3y();var t=this.autoRefreshInterval;if(!t||10>t)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){n.$3J()},1e3*this.autoRefreshInterval)}},this.$3y=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$3J=function(){if(!t.eventResizing&&!t.eventMoving&&!t.timeRangeSelecting){var e=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.$26,i.preventDefault=function(){this.preventDefault.value=!0},n.onAutoRefresh(i),i.preventDefault.value&&(e=!0)}!e&&this.$3k()&&this.commandCallBack(this.autoRefreshCommand),this.$26++}this.$26<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){n.$3J()},1e3*this.autoRefreshInterval))},this.$3K=function(e){if(this.cells){var e=e||{},t=!e.eventsOnly;n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),n.$2b(),n.$2c(),n.$2d(),t&&(n.$2e(),n.$2f()),n.$2g(),n.$2h(),n.$2i(),this.visible?this.show():this.hide()}},this.update=function(){this.$3K()},this.dispose=function(){var e=n;e.nav.top&&(e.$3y(),e.$2b(),e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,t.unregister(e))},this.$3L=function(){t.globalHandlers||(t.globalHandlers=!0,DayPilot.re(document,"mouseup",t.gMouseUp)),DayPilot.re(window,"resize",this.$35)},this.$2h=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){n.visible=!0,n.nav.top.style.display=""},this.hide=function(){n.visible=!1,n.nav.top.style.display="none"},this.$3M=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+i+"'."}},this.$3N=function(){this.$3M(),this.$2c(),this.$31(),this.$2f(),this.$2g(),this.$3L(),this.$2j(),this.$3j("Init"),t.register(this)},this.init=function(){if(this.$3M(),!this.nav.top.dp){var e=s.loadFromServer();if(n.cssOnly||(n.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e)return this.$3N(),void(this.$24=!0);this.$2c(),this.$2d(),this.$31(),this.$2f(),this.$2h(),this.$2i(),this.$2g(),this.$3L(),this.messageHTML&&this.message(this.messageHTML),this.$29(null,!1),this.$2j(),t.register(this),this.$24=!0,this.$3O()}},this.$3P=null,this.$3Q=function(e){var t={events:{preInit:function(){var e=this.data;e&&(n.events.list=DayPilot.isArray(e.list)?e.list:e)}}};this.$3P=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else n[i]=e[i]},this.$3O=function(){var e=this.$3P;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return n.$24},this.internal.invokeEvent=this.$3n,this.internal.eventMenuClick=this.$3t,this.internal.timeRangeMenuClick=this.$3x,this.internal.bubbleCallBack=this.$3o,this.internal.findEventDiv=this.$3z,this.Init=this.init,this.$3Q(a)},t.register=function(e){t.registered||(t.registered=[]);for(var i=0;i<t.registered.length;i++)if(t.registered[i]===e)return;t.registered.push(e)},t.unregister=function(e){var i=t.registered;if(i){var a=DayPilot.indexOf(i,e);-1!==a&&i.splice(a,1),0===i.length&&(i=null)}i||(DayPilot.ue(document,"mouseup",t.gMouseUp),t.globalHandlers=!1)},t.gMouseUp=function(e){if(t.movingEvent){var i=t.movingEvent;if(t.movingEvent=null,!(i.event&&i.event.calendar&&i.event.calendar.shadow&&i.event.calendar.shadow.start))return;var a=i.event.calendar,n=i.event,o=a.shadow.start,r=a.shadow.position,s=i.offset;a.$2A();var e=e||window.event;return a.$2T(n,o.x,o.y,s,e,r),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),!1
}if(t.resizingEvent){var i=t.resizingEvent;if(t.resizingEvent=null,!(i.event&&i.event.calendar&&i.event.calendar.shadow&&i.event.calendar.shadow.start))return;var a=i.event.calendar,n=i.event,o=a.shadow.start,l=a.shadow.width;return a.$2A(),a.$3v(n,o,l),e.cancelBubble=!0,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var d=t.timeRangeSelecting,a=d.root,o=new DayPilot.Date(a.$2B(d.from.x,d.from.y)),c=o.addDays(d.width);a.$2U(o,c)}t.timeRangeSelecting=null}},DayPilot.MonthVisible.Month=t.Month,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotMonth=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Month(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function i(){var e=DayPilot.am();e&&e.directive("daypilotMonth",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function t(i,a){return i.replaceWith(this.template.replace("{{id}};",a.id)),function n(t,i,a){var n=new DayPilot.Month(i[0]);n.$30.scope=t,n.init();var o=a.id;o&&(t[o]=n);var r=a.publishAs;if(r){var s=e(r),l=s.assign;l(t,n)}for(var d in a)0===d.indexOf("on")&&!function(i){n[i]=function(n){var o=e(a[i]);t.$apply(function(){o(t,{args:n})})}}(d);var c=t.$watch,h=a.config||a.daypilotConfig,u=a.events||a.daypilotEvents;c.call(t,h,function(e,t){for(var i in e)n[i]=e[i];n.update()},!0),c.call(t,u,function(e){n.events.list=e,n.$3K({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotNavigator)var DayPilotNavigator=DayPilot.NavigatorVisible={};if(function(){"undefined"==typeof DayPilot.Navigator&&(DayPilotNavigator={},DayPilot.Navigator=function(e,t){this.v="2130";var i=this;this.id=e,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.nav={},this.$0p={},this.$0q=function(){this.root.dp=this,this.root.className=this.$0r(this.cssOnly?"_main":"main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*a.cellWidth()+this.$0s())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*a.cellWidth()+this.$0s()+"px",this.root.style.position="relative",this.visible||(this.root.style.display="none");var e=document.createElement("input");e.type="hidden",e.name=i.id+"_state",e.id=e.name,this.root.appendChild(e),this.state=e,this.startDate=this.startDate?new DayPilot.Date(this.startDate).firstDayOfMonth():DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.$0t=function(){return 2===i.api},this.$0u=function(){this.root.innerHTML=""},this.$0r=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$0v=function(e,t){var i=this.$0r(this.cssOnly?"_"+t:t);DayPilot.Util.addClass(e,i)},this.$0w=function(e,t){var i=this.$0r(this.cssOnly?"_"+t:t);DayPilot.Util.removeClass(e,i)},this.$0x=function(e,t){var n={};n.cells=[],n.days=[],n.weeks=[];var o=this.startDate.addMonths(e),r=t.before,s=t.after,l=o.firstDayOfMonth(),d=l.firstDayOfWeek(a.weekStarts()),c=l.addMonths(1),h=DayPilot.DateUtil.daysDiff(d,c),u="Auto"===this.rowsPerMonth?Math.ceil(h/7):6;n.rowCount=u;var f=(new DayPilot.Date).getDatePart(),v=7*a.cellWidth()+this.$0s(),p=this.cellHeight*u+this.titleHeight+this.dayHeaderHeight;n.height=p;var g=document.createElement("div");g.style.width=v+"px",g.style.height=p+"px","Horizontal"===this.orientation?(g.style.position="absolute",g.style.left=v*e+"px",g.style.top="0px"):g.style.position="relative",g.className=this.$0r(this.cssOnly?"_month":"month"),g.style.cursor="default",g.style.MozUserSelect="none",g.style.KhtmlUserSelect="none",g.style.WebkitUserSelect="none",g.month=n,this.root.appendChild(g);var y=this.titleHeight+this.dayHeaderHeight,m=document.createElement("div");m.style.position="absolute",m.style.left="0px",m.style.top="0px",m.style.width=a.cellWidth()+"px",m.style.height=this.titleHeight+"px",m.style.lineHeight=this.titleHeight+"px",m.setAttribute("unselectable","on"),m.className=this.$0r(this.cssOnly?"_titleleft":"titleleft"),t.left&&(m.style.cursor="pointer",m.innerHTML="<span>&lt;</span>",m.onclick=this.$0y),g.appendChild(m),this.tl=m;var b=document.createElement("div");b.style.position="absolute",b.style.left=a.cellWidth()+"px",b.style.top="0px",b.style.width=5*a.cellWidth()+this.$0s()+"px",b.style.height=this.titleHeight+"px",b.style.lineHeight=this.titleHeight+"px",b.setAttribute("unselectable","on"),b.className=this.$0r(this.cssOnly?"_title":"title"),b.innerHTML=a.locale().monthNames[o.getMonth()]+" "+o.getYear(),g.appendChild(b),this.ti=b;var w=document.createElement("div");w.style.position="absolute",w.style.left=6*a.cellWidth()+this.$0s()+"px",w.style.top="0px",w.style.width=a.cellWidth()+"px",w.style.height=this.titleHeight+"px",w.style.lineHeight=this.titleHeight+"px",w.setAttribute("unselectable","on"),w.className=this.$0r(this.cssOnly?"_titleright":"titleright"),t.right&&(w.style.cursor="pointer",w.innerHTML="<span>&gt;</span>",w.onclick=this.$0z),g.appendChild(w),this.tr=w;var D=this.$0s();if(this.showWeekNumbers)for(var k=0;u>k;k++){var C=d.addDays(7*k),x=null;switch(this.weekNumberAlgorithm){case"Auto":x=1===a.weekStarts()?C.weekNumberISO():C.weekNumber();break;case"US":x=C.weekNumber();break;case"ISO8601":x=C.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var P=document.createElement("div");P.style.position="absolute",P.style.left="0px",P.style.top=k*this.cellHeight+y+"px",P.style.width=a.cellWidth()+"px",P.style.height=this.cellHeight+"px",P.style.lineHeight=this.cellHeight+"px",P.setAttribute("unselectable","on"),P.className=this.$0r(this.cssOnly?"_weeknumber":"weeknumber"),P.innerHTML="<span>"+x+"</span>",g.appendChild(P),n.weeks.push(P)}for(var S=0;7>S;S++){n.cells[S]=[];var P=document.createElement("div");P.style.position="absolute",P.style.left=S*a.cellWidth()+D+"px",P.style.top=this.titleHeight+"px",P.style.width=a.cellWidth()+"px",P.style.height=this.dayHeaderHeight+"px",P.style.lineHeight=this.dayHeaderHeight+"px",P.setAttribute("unselectable","on"),P.className=this.$0r(this.cssOnly?"_dayheader":"dayheader"),P.innerHTML="<span>"+this.$0A(S)+"</span>",g.appendChild(P),n.days.push(P);for(var k=0;u>k;k++){var C=d.addDays(7*k+S),A=this.$0B(C)&&"none"!==this.$0C(),T=C.firstDayOfMonth()===o,M=o>C,E=C>=o.addMonths(1);if("month"===this.$0C())A=A&&T;else if("day"===this.$0C())A=A&&(T||r&&M||s&&E);else if("week"===this.$0C()){var H=C.firstDayOfMonth()===o;A=A&&(H||r&&M||s&&E)}var _=document.createElement("div");n.cells[S][k]=_,_.day=C,_.x=S,_.y=k,_.isCurrentMonth=T,_.className=this.$0r(this.cssOnly?T?"_day":"_dayother":T?"day":"dayother"),i.$0v(_,"cell"),C.getTime()===f.getTime()&&T&&this.$0v(_,"today"),(0===C.dayOfWeek()||6===C.dayOfWeek())&&this.$0v(_,"weekend"),_.style.position="absolute",_.style.left=S*a.cellWidth()+D+"px",_.style.top=k*this.cellHeight+y+"px",_.style.width=a.cellWidth()+"px",_.style.height=this.cellHeight+"px",_.style.lineHeight=this.cellHeight+"px";var R=document.createElement("div");R.style.position="absolute",R.className=this.$0r(this.cssOnly?C.getTime()===f.getTime()&&T?"_todaybox":"_daybox":C.getTime()===f.getTime()&&T?"todaybox":"daybox"),i.$0v(R,"cell_box"),R.style.left="0px",R.style.top="0px",R.style.right="0px",R.style.bottom="0px",_.appendChild(R);var B=null;if(this.cells&&this.cells[C.toStringSortable()]&&(B=this.cells[C.toStringSortable()]),"function"==typeof i.onBeforeCellRender){var N={};N.cell={},N.cell.day=C,N.cell.isCurrentMonth=T,N.cell.isToday=C.getTime()===f.getTime()&&T,N.cell.isWeekend=0===C.dayOfWeek()||6===C.dayOfWeek(),N.cell.html=C.getDay(),N.cell.cssClass=null,i.onBeforeCellRender(N),B=N.cell}if(B&&DayPilot.Util.addClass(_,B.cssClass||B.css),T||r&&M||s&&E){var U=document.createElement("div");U.innerHTML=C.getDay(),U.style.position="absolute",U.style.left="0px",U.style.top="0px",U.style.right="0px",U.style.bottom="0px",i.$0v(U,"cell_text"),_.style.cursor="pointer",_.isClickable=!0,B&&B.html&&(U.innerHTML=B.html),_.appendChild(U)}_.setAttribute("unselectable","on"),_.onclick=this.$0D,_.onmousedown=this.$0E,_.onmousemove=this.$0F,g.appendChild(_),A&&(i.$0G(g,S,k),this.selected.push(_))}}var L=document.createElement("div");L.style.position="absolute",L.style.left="0px",L.style.top=y-2+"px",L.style.width=7*a.cellWidth()+this.$0s()+"px",L.style.height="1px",L.style.fontSize="1px",L.style.lineHeight="1px",L.className=this.$0r(this.cssOnly?"_line":"line"),g.appendChild(L),this.months.push(n)},this.$0G=function(e,t,a){var n=e.month.cells[t][a];i.$0v(n,"select")},this.$0H=function(e,t,a){var n=e.month.cells[t][a];i.$0w(n,"select")},this.$0s=function(){return this.showWeekNumbers?a.cellWidth():0},this.$0I=function(){if(this.items)for(var e=0;e<this.showMonths;e++)for(var t=0;7>t;t++)for(var i=0;6>i;i++){var a=this.months[e].cells[t][i];a&&(1===this.items[a.day.toStringSortable()]?this.$0v(a,"busy"):this.$0w(a,"busy"))}},this.$0J=function(){var e={};e.startDate=i.startDate,e.selectionStart=i.selectionStart,e.selectionEnd=i.selectionEnd.addDays(1),i.state.value=DayPilot.JSON.stringify(e)},this.$0C=function(){var e=this.selectMode||"";return e.toLowerCase()},this.$0K=function(){var e=this.selectionDay||this.selectionStart,e=new DayPilot.Date(e);switch(this.$0C()){case"day":this.selectionDay=e,this.selectionEnd=e;break;case"week":this.selectionDay=e,this.selectionStart=e.firstDayOfWeek(a.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=e,this.selectionStart=e.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=e;break;default:throw"Unknown selectMode value."}},this.select=function(e,t){var i=!t,a=this.selectionStart,n=this.selectionEnd;this.selectionStart=new DayPilot.Date(e).getDatePart(),this.selectionDay=this.selectionStart;var o=!1;if(i){var r=this.startDate;(this.selectionStart<this.$0L()||this.selectionStart>=this.$0M())&&(r=this.selectionStart.firstDayOfMonth()),r.toStringSortable()!==this.startDate.toStringSortable()&&(o=!0),this.startDate=r}this.$0K(),this.$0u(),this.$0q(),this.$0N(),this.$0I(),this.$0J(),a.equals(this.selectionStart)&&n.equals(this.selectionEnd)||this.$0O(),o&&this.$0P()},this.update=function(){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$0u(),this.$0q(),this.$0K(),this.$0N(),this.$0Q(),this.$0I(),this.$0J(),this.visible?this.show():this.hide()},this.$0R=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$0S();var n="JSON"+DayPilot.JSON.stringify(a),o=null;this.backendUrl?DayPilot.request(this.backendUrl,this.$0T,n,this.$0U):WebForm_DoCallback(this.uniqueID,n,this.$0V,o,this.callbackError,!0)},this.$0U=function(e){if("function"==typeof i.onAjaxError){var t={};t.request=e,i.onAjaxError(t)}else"function"==typeof i.ajaxError&&i.ajaxError(e)},this.$0T=function(e){i.$0V(e.responseText)},this.$0W=function(e,t,a){var n={};n.action=e,n.parameters=a,n.data=t,n.header=this.$0S();var o="JSON"+DayPilot.JSON.stringify(n);__doPostBack(i.uniqueID,o)},this.$0S=function(){var e={};return e.v=this.v,e.startDate=this.startDate,e.selectionStart=this.selectionStart,e},this.$0X=function(e,t){"refresh"===e&&this.$0P()},this.$0A=function(e){var t=e+a.weekStarts();return t>6&&(t-=7),a.locale().dayNamesShort[t]},this.$0B=function(e){return null===this.selectionStart||null===this.selectionEnd?!1:this.selectionStart.getTime()<=e.getTime()&&e.getTime()<=this.selectionEnd.getTime()?!0:!1},this.$0E=function(e){},this.$0F=function(e){},this.$0D=function(e){var t=this.parentNode,a=this.parentNode.month,n=this.x,o=this.y,r=a.cells[n][o].day;if(a.cells[n][o].isClickable){i.clearSelection(),i.selectionDay=r;var r=i.selectionDay;switch(i.$0C()){case"none":i.selectionStart=r,i.selectionEnd=r;break;case"day":if(i.autoFocusOnClick){var s=r;if(r<i.$0L()||r>=i.$0M())return void i.select(r)}var l=a.cells[n][o];i.$0G(t,n,o),i.selected.push(l),i.selectionStart=l.day,i.selectionEnd=l.day;break;case"week":if(i.autoFocusOnClick){var s=a.cells[0][o].day,d=a.cells[6][o].day;if(s.firstDayOfMonth()===d.firstDayOfMonth()&&(s<i.$0L()||d>=i.$0M()))return void i.select(r)}for(var c=0;7>c;c++)i.$0G(t,c,o),i.selected.push(a.cells[c][o]);i.selectionStart=a.cells[0][o].day,i.selectionEnd=a.cells[6][o].day;break;case"month":for(var s=null,d=null,o=0;6>o;o++)for(var n=0;7>n;n++){var l=a.cells[n][o];l&&l.day.getYear()===r.getYear()&&l.day.getMonth()===r.getMonth()&&(i.$0G(t,n,o),i.selected.push(l),null===s&&(s=l.day),d=l.day)}i.selectionStart=s,i.selectionEnd=d;break;default:throw"unknown selectMode"}i.$0J(),i.$0O()}},this.$0O=function(){var e=i.selectionStart,t=i.selectionEnd.addDays(1),a=DayPilot.DateUtil.daysDiff(e,t),n=i.selectionDay;if(i.$0t()){var o={};if(o.start=e,o.end=t,o.day=n,o.days=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(o),o.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"Bind":var r=DayPilot.Util.evalVariable(i.bound);if(r){var s={};s.start=e,s.end=t,s.days=a,s.day=n,r.commandCallBack(i.command,s)}break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(e,t,n)}"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(o)}else switch(i.timeRangeSelectedHandling){case"Bind":var r=DayPilot.Util.evalVariable(i.bound);if(r){var s={};s.start=e,s.end=t,s.days=a,s.day=n,r.commandCallBack(i.command,s)}break;case"JavaScript":i.onTimeRangeSelected(e,t,n);break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(e,t,n)}},this.timeRangeSelectedPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.day=a,this.$0W("TimeRangeSelected",i,n)},this.$0z=function(e){i.$0Y(i.skipMonths)},this.$0y=function(e){i.$0Y(-i.skipMonths)},this.$0Y=function(e){this.startDate=this.startDate.addMonths(e),this.$0u(),this.$0q(),this.$0N(),this.$0J(),this.$0P(),this.$0I()},this.$0L=function(){return i.startDate.firstDayOfMonth()},this.$0M=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return i.startDate.firstDayOfMonth().firstDayOfWeek(a.weekStarts())},this.visibleEnd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(a.weekStarts()).addDays(42)},this.$0P=function(){var e=this.visibleStart(),t=this.visibleEnd();if(i.$0t()){var a={};if(a.start=e,a.end=t,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onVisibleRangeChange&&(i.onVisibleRangeChange(a),a.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"Disabled":}"function"==typeof i.onVisibleRangeChanged&&i.onVisibleRangeChanged(a)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(e,t);break;case"Disabled":}},this.visibleRangeChangedCallBack=function(e){var t={};this.$0R("Visible",e,t)},this.visibleRangeChangedPostBack=function(e){var t={};this.$0W("Visible",e,t)},this.$0V=function(e,t){var e=DayPilot.Util.parseJSON(e);i.items=e.Items,i.cells=e.Cells,i.$0I()},this.$0N=function(){for(var e=0;e<this.showMonths;e++){var t=this.$0Z(e);this.$0x(e,t)}this.root.style.height=this.$10()+"px"},this.$10=function(){if("Horizontal"===this.orientation){for(var e=0,t=0;t<this.months.length;t++){var i=this.months[t];i.height>e&&(e=i.height)}return e}for(var a=0,t=0;t<this.months.length;t++){var i=this.months[t];a+=i.height}return a},this.$0Z=function(e){if(this.internal.showLinks)return this.internal.showLinks;var t={};return t.left=0===e,t.right=0===e,t.before=0===e,t.after=e===this.showMonths-1,"Horizontal"===this.orientation&&(t.right=e===this.showMonths-1),t},this.$11={},this.$11.scope=null,this.$11.notify=function(){i.$11.scope&&i.$11.scope.$apply()},this.internal={},this.internal.initialized=function(){return i.$12},this.$13={};var a=this.$13;a.locale=function(){return DayPilot.Locale.find(i.locale)},a.weekStarts=function(){if("Auto"===i.weekStarts){var e=a.locale();return e?e.weekStarts:0}return i.weekStarts},a.cellWidth=function(){if(i.$0p.cellWidth)return i.$0p.cellWidth;var e=i.$14("_cell_dimensions").width;return e||(e=i.cellWidth),i.$0p.cellWidth=e,e},this.clearSelection=function(){for(var e=0;e<this.selected.length;e++){var t=this.selected[e];i.$0H(t.parentNode,t.x,t.y)}this.selected=[]},this.$15=function(){return this.backendUrl?"undefined"==typeof i.items||!i.items:!1},this.events={},this.$0Q=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e],i=this.$16(t);for(var a in i)this.items[a]=1}}},this.$14=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$0r(e);var a=i.root||document.body;a.appendChild(t);var n=t.offsetHeight,o=t.offsetWidth;a.removeChild(t);var r={};return r.height=n,r.width=o,r},this.$16=function(e){for(var t=new DayPilot.Date(e.start),i=new DayPilot.Date(e.end),a={},n=t.getDatePart();n.getTime()<i.getTime();)a[n.toStringSortable()]=1,n=n.addDays(1);return a},this.show=function(){i.visible=!0,i.root.style.display=""},this.hide=function(){i.visible=!1,i.root.style.display="none"},this.$17=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+e+"'."}this.root=this.nav.top},this.init=function(){if(this.$17(),!this.root.dp){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$0K(),this.$0q(),this.$0N(),this.$0Q(),this.$0I(),this.$18();var e=this.$15();e&&this.$0P(),this.$12=!0}},this.dispose=function(){var e=i;e.root&&(e.root.removeAttribute("style"),e.root.removeAttribute("class"),e.root.dp=null,e.root.innerHTML=null,e.root=null)},this.$18=function(){this.root.dispose=this.dispose},this.Init=this.init},DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotNavigator=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Navigator(this.id);this.daypilot=i;for(var a in e)i[a]=e[a];i.Init(),t||(t=i)}});return 1===this.length?t:i}}(jQuery),function e(){var e=DayPilot.am();e&&e.directive("daypilotNavigator",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function t(i,a){return i.replaceWith(this.template.replace("{{id}};",a.id)),function n(t,i,a){var n=new DayPilot.Navigator(i[0]);n.$11.scope=t,n.init();var o=a.id;o&&(t[o]=n);var r=a.publishAs;if(r){var s=e(r),l=s.assign;l(t,n)}for(var d in a)0===d.indexOf("on")&&!function(i){n[i]=function(n){var o=e(a[i]);t.$apply(function(){o(t,{args:n})})}}(d);var c=t.$watch,h=a.config||a.daypilotConfig,u=a.events||a.daypilotEvents;c.call(t,h,function(e,t){for(var i in e)n[i]=e[i];n.update()},!0),c.call(t,u,function(e){n.events.list=e,n.$0Q(),n.$0I()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotScheduler)var DayPilotScheduler=DayPilot.SchedulerVisible={};if(function(){function e(e){for(var t=e.touches[0].clientX,i=e.touches[0].clientY,a=document.elementFromPoint(t,i);a&&a.parentNode;)if(a=a.parentNode,a.daypilotMainD)return a.calendar;return!1}function t(e){var t=e.touches[0].pageX,i=e.touches[0].pageY,a={};return a.x=t,a.y=i,a}if("undefined"==typeof DayPilot.Scheduler){var i=function(){var e=navigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&!(e.indexOf("Chrome")>-1)}(),a={},n=function(){},o=!0,s=function(e){o&&window.console&&window.console.log(e)},l=function(e){"undefined"!=typeof $g&&s(e)},d={log:s};DayPilot.Scheduler=function(e,o){function s(e,t){return 1-e/t}this.v="2130";var l=this;this.id=e,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellStacking=!1,this.cellStackingAutoHeight=!1,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.$9H=!0,this.$9I=!1,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.$9J=!1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.durationBarDetached=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBorderVisible=!0,this.eventBackColor="#FFFFFF",this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.$9K=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.hideBorderFor100PctHeight=!1,this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.$9L=10,this.$9M=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthMarginRight=0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.shadow="Fill",this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=(new DayPilot.Date).getDatePart(),this.syncResourceTree=!1,this.timeBreakColor="#000000",this.timeHeaderTextWrappingEnabled=!1,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.$9N=-1,this.$9O=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.backendUrl=null,1===l.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.onHeightChanged=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.$9P=0,this.$9Q=0,this.rowlist=DayPilot.list(),this.itline=DayPilot.list(),this.timeline=null,this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.$9R={},this.$9R.cells=[],this.$9R.linesVertical={},this.$9R.linesHorizontal={},this.$9R.timeHeaderGroups=[],this.$9R.timeHeader={},this.$9R.pixels=[],this.$9R.breaks=[],this.$9R.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(e){return 0===e.indexOf("div")?!0:!1},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader"],this.members.noCssOnly=["borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cellSelectColor","durationBarColor","eventBackColor","eventBorderColor","eventBorderVisible","eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.$9S=function(e,t){var e=DayPilot.Util.parseJSON(e);if(l.onScrollCalled=!1,e.CallBackRedirect)return void(document.location.href=e.CallBackRedirect);if("function"==typeof l.onCallBackResult){var i={};if(i.result=e,i.preventDefault=function(){i.preventDefault.value=!0},l.onCallBackResult(i),i.preventDefault.value)return l.$9T(),l.$9U(),l.$9V(),e.Message&&l.message&&l.message(e.Message),l.$9W(e.CallBackData,!0),l.$9X(),void l.$9Y()}if(e.BubbleGuid){var a=e.BubbleGuid,n=this.bubbles[a];return delete this.bubbles[a],l.$9U(),"undefined"!=typeof e.Result.BubbleHTML&&n&&n.updateView(e.Result.BubbleHTML,n),void l.$9X()}if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"undefined"!=typeof e.ClientState&&(l.clientState=null===e.ClientState?{}:e.ClientState),"None"===e.UpdateType)return l.$9U(),l.$9X(),e.Message&&l.message(e.Message),void l.$9W(e.CallBackData,!0);if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=l.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,l.$9Z.innerHTML="",l.$9Z.appendChild(o)}"undefined"!=typeof e.TagFields&&(l.tagFields=e.TagFields),"undefined"!=typeof e.SortDirections&&(l.sortDirections=e.SortDirections),l.$9R.drawArea=null,"Full"===e.UpdateType&&(l.resources=e.Resources,l.colors=e.Colors,l.palette=e.Palette,l.dirtyColors=e.DirtyColors,l.cellProperties=e.CellProperties,l.cellConfig=e.CellConfig,l.separators=e.Separators,l.timeline=e.Timeline,l.timeHeader=e.TimeHeader,l.timeHeaders=e.TimeHeaders,"undefined"!=typeof e.Links&&(l.links.list=e.Links),"undefined"!=typeof e.RowHeaderColumns&&(l.rowHeaderColumns=e.RowHeaderColumns),l.startDate=e.StartDate?new DayPilot.Date(e.StartDate):l.startDate,l.days=e.Days?e.Days:l.days,l.cellDuration=e.CellDuration?e.CellDuration:l.cellDuration,l.cellGroupBy=e.CellGroupBy?e.CellGroupBy:l.cellGroupBy,l.cellWidth=e.CellWidth?e.CellWidth:l.cellWidth,l.viewType=e.ViewType?e.ViewType:l.viewType,l.hourNameBackColor=e.HourNameBackColor?e.HourNameBackColor:l.hourNameBackColor,"undefined"!=typeof e.ShowNonBusiness&&(l.showNonBusiness=e.ShowNonBusiness),l.businessBeginsHour=e.BusinessBeginsHour?e.BusinessBeginsHour:l.businessBeginsHour,l.businessEndsHour=e.BusinessEndsHour?e.BusinessEndsHour:l.businessEndsHour,"undefined"!=typeof e.DynamicLoading&&(l.dynamicLoading=e.DynamicLoading),"undefined"!=typeof e.TreeEnabled&&(l.treeEnabled=e.TreeEnabled),l.backColor=e.BackColor?e.BackColor:l.backColor,l.nonBusinessBackColor=e.NonBusinessBackColor?e.NonBusinessBackColor:l.nonBusinessBackColor,l.locale=e.Locale?e.Locale:l.locale,"undefined"!=typeof e.TimeZone&&(l.timeZone=e.TimeZone),l.timeFormat=e.TimeFormat?e.TimeFormat:l.timeFormat,l.rowHeaderCols=e.RowHeaderCols?e.RowHeaderCols:l.rowHeaderCols,"undefined"!=typeof e.DurationBarMode&&(l.durationBarMode=e.DurationBarMode),l.cornerBackColor=e.CornerBackColor?e.CornerBackColor:l.cornerBackColor,"undefined"!=typeof e.CornerHTML&&(l.cornerHtml=e.CornerHTML),l.hashes=e.Hashes,l.$a0(),l.$a1(),l.$a2(),l.$a3()),"Scroll"!==e.Action&&l.$a4(e.Events),"Full"===e.UpdateType&&(l.$a5(),l.$a6()),l.$a7(),l.$a8(),l.$a9(),l.$9R.drawArea=null,"Scroll"!==e.Action?(l.$aa(),l.$ab(),("Auto"===l.heightSpec||"Max"===l.heightSpec)&&l.$ac(),l.$ad(),l.$ae(),l.$af(),l.multiselect.clear(!0),l.multiselect.$ag(e.SelectedEvents),l.$ah(),l.$ai(),l.$aj()):(l.multiselect.clear(!0),l.multiselect.$ag(e.SelectedEvents),l.$ak(e.Events)),"HoldForever"!==l.timeRangeSelectedHandling&&l.$al(),"Full"===e.UpdateType&&(l.setScroll(e.ScrollX,e.ScrollY),l.$am()),l.$an(),l.$9T(),e.SelectedRows&&l.$ao(e.SelectedRows),l.$9U(),"Full"===e.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){l.$a5(),l.$ac()
},0),l.$9V(),e.Message&&l.message&&l.message(e.Message),l.$9W(e.CallBackData,!0),l.$9X(),l.$9Y(),"Full"!==e.UpdateType||"Scroll"===e.Action||l.onScrollCalled||setTimeout(function(){l.$ap()},0)},this.$9T=function(){if(l.todo&&l.todo.del){var e=l.todo.del;e.parentNode.removeChild(e),l.todo.del=null}},this.$9W=function(e,t){var i=function(e,t){return function(){if(l.$aq()){if("function"==typeof l.onAfterRender){var i={};i.isCallBack=t,i.data=e,l.onAfterRender(i)}}else l.afterRender&&l.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.scrollTo=function(e,t,i){if(e){if("Days"===l.viewType){var a=l.$ar(new DayPilot.Date(e));if(!a)return;return void setTimeout(function(){var e=a.top;l.nav.scroll.scrollTop=e},100)}var n;if(e instanceof DayPilot.Date)n=this.getPixels(e).left;else if("string"==typeof e)n=this.getPixels(new DayPilot.Date(e)).left;else{if("number"!=typeof e)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";n=e}var o=this.$as.clientWidth,r=this.nav.scroll.clientWidth;switch(i=i||"left",i.toLowerCase()){case"left":break;case"middle":n-=r/2;break;case"right":n-=r}if(0>n&&(n=0),n>o-r&&(n=o-r),!t)return void this.setScrollX(n);var s=Math.abs(l.nav.scroll.scrollLeft-n),d=s/o,c=50;if("number"==typeof t)c=t;else if("string"==typeof t)switch(t){case"fast":c=30;break;case"normal":c=50;break;case"slow":c=100;break;case"linear":c=Math.floor(100*d)}d>.6&&(c=Math.min(c,80)),this.$at(n,c)}},this.$at=function(e,t){function i(e){var t=e.next();return"undefined"==typeof t?void(e.finished&&e.finished()):(l.setScrollX(t),window.clearTimeout(l.refreshTimeout),void setTimeout(function(){i(e)},e.delay))}var a={};a.steps=[],a.index=0,a.delay=10,a.next=function(){var e=a.steps[a.index];return a.index+=1,e},a.finished=function(){l.$ap()};for(var n=l.getScrollX(),t=t||100,o=e-n,r=0;t>r;r++){var s=r/t,d=2*(s-.5)/(Math.pow(2*(s-.5),2)+1)+.5;a.steps.push(n+o*d)}a.steps.push(e),i(a)},this.scrollToResource=function(e){DayPilot.complete(function(){var t=l.$au(e);t&&setTimeout(function(){var e=t.top;l.nav.scroll.scrollTop=e},100)})},this.$av=function(){if(this.floatingTimeHeaders&&this.timeHeader){var e=this.$aw();if(e){this.$ax();for(var t=e.pixels.left+u.shiftX,i=e.pixels.right+u.shiftX,a=[],n=0;n<this.timeHeader.length;n++)for(var o=0;o<this.timeHeader[n].length;o++){var r=this.timeHeader[n][o],s=r.left,l=r.left+r.width,d=null;if(t>s&&l>t&&(d={},d.x=o,d.y=n,d.marginLeft=t-s,d.marginRight=0,d.div=this.$9R.timeHeader[o+"_"+n],a.push(d)),i>s&&l>i){d||(d={},d.x=o,d.y=n,d.marginLeft=0,d.div=this.$9R.timeHeader[o+"_"+n],a.push(d)),d.marginRight=l-i;break}}for(var c=0;c<a.length;c++){var d=a[c];this.$ay(d.div,d.marginLeft,d.marginRight)}}}},this.$an=function(){this.$av(),this.$az()},this.$aA={};var d=this.$aA;d.eventsInRectangle=function(e,t,i,a){var n=e,o=e+i,r=t,s=t+a;return DayPilot.list(l.elements.events).filter(function(e){var t=e.event,i=t.part.left,a=t.part.left+t.part.width,d=l.rowlist[t.part.dayIndex],c=d.top+t.part.top,h=c+t.part.height;return DayPilot.Util.overlaps(i,a,n,o)&&DayPilot.Util.overlaps(c,h,r,s)?!0:void 0})},d.events=function(e){var t=[],e=e||"All",i=l.$aw();if(!i)return DayPilot.list(t);for(var a=i.pixels.left,n=i.pixels.right,o=0;o<l.elements.events.length;o++){var r=l.elements.events[o],s=r.event,d=s.part.left,c=s.part.left+s.part.width;switch(e){case"Left":a>d&&c>a&&t.push(r);break;case"All":DayPilot.Util.overlaps(d,c,a,n)&&t.push(r)}}return DayPilot.list(t).addProps({area:i})},this.$az=function(){if(this.floatingEvents){var e=d.events("Left");this.$aB(),e.each(function(t){var i=e.area.pixels.left,a=t.event,n=a.part.left,o=i-n;l.$aC(t,o,0)})}},this.elements.sections=[],this.elements.hsections=[],this.$ay=function(e,t,i){var a=document.createElement("div");a.setAttribute("unselectable","on"),a.className=this.$aD("_timeheader_float"),a.style.position="absolute",a.style.left=t+"px",a.style.right=i+"px",a.style.top="0px",a.style.bottom="0px",a.style.overflow="hidden";var n=document.createElement("div");n.className=this.$aD("_timeheader_float_inner"),n.setAttribute("unselectable","on"),e.cell.th.innerHTML&&(n.innerHTML=e.cell.th.innerHTML),a.appendChild(n),e.section=a,e.insertBefore(a,e.firstChild.nextSibling),e.firstChild.innerHTML="",this.elements.hsections.push(e)},this.$ax=function(){for(var e=0;e<this.elements.hsections.length;e++){var t=this.elements.hsections[e],i=t.cell;i&&t.firstChild&&(t.firstChild.innerHTML=i.th.innerHTML),DayPilot.de(t.section),t.section=null}this.elements.hsections=[]},this.$aC=function(e,t,i){var a=document.createElement("div");a.setAttribute("unselectable","on"),a.className=this.$aD(H.eventFloat),a.style.position="absolute",a.style.left=t+"px",a.style.right=i+"px",a.style.top="0px",a.style.bottom="0px",a.style.overflow="hidden";var n=document.createElement("div");n.className=this.$aD(H.eventFloatInner),n.setAttribute("unselectable","on"),n.innerHTML=e.event.client.html(),e.event.data.fontColor&&(n.style.color=e.event.data.fontColor),a.appendChild(n),e.section=a,e.insertBefore(a,e.firstChild.nextSibling),e.firstChild.innerHTML="";var o={offsetX:parseInt(new DayPilot.StyleReader(n).get("padding-left")),eventDiv:e};DayPilot.Areas.attach(a,e.event,o),DayPilot.Areas.disable(e),this.elements.sections.push(e)},this.$aB=function(){for(var e=0;e<this.elements.sections.length;e++){var t=this.elements.sections[e],i=t.event;i&&(t.firstChild.innerHTML=i.client.html()),DayPilot.de(t.section),DayPilot.Areas.enable(t),t.section=null}this.elements.sections=[]},this.setScrollX=function(e){var t=l.nav.scroll,i=l.$aE()*l.cellWidth;t.clientWidth+e>i&&(e=i-t.clientWidth),l.divTimeScroll.scrollLeft=e,t.scrollLeft=e},this.setScrollY=function(e){var t=l.nav.scroll,i=l.$9Q;t.clientHeight+e>i&&(e=i-t.clientHeight),l.divResScroll.scrollTop=e,t.scrollTop=e},this.setScroll=function(e,t){l.setScrollX(e),l.setScrollY(t)},this.message=function(e,t){if(null!==e){var i={};"object"==typeof arguments[1]&&(i=arguments[1],t=i.delay);var t=t||this.messageHideAfter||2e3,a=this.$aF()+1,n=this.$aG()+B.splitterWidth(),o=DayPilot.sw(l.nav.scroll)+1,r=DayPilot.sh(l.nav.scroll)+1,s;if(this.nav.message)s=l.nav.message;else{s=document.createElement("div"),s.style.position="absolute",s.style.left=n+"px",s.style.right=o+"px",s.style.display="none",DayPilot.re(s,DayPilot.touch.start,function(e){l.nav.message.style.display="none",e.preventDefault(),e.stopPropagation()}),s.onmousemove=function(){l.messageHideOnMouseOut&&s.messageTimeout&&!s.status&&clearTimeout(s.messageTimeout)},s.onmouseout=function(){l.messageHideOnMouseOut&&"none"!==l.nav.message.style.display&&(s.messageTimeout=setTimeout(l.$aH,500))};var d=document.createElement("div");d.onclick=function(){l.nav.message.style.display="none"},d.className=this.$aD("_message"),s.appendChild(d);var c=document.createElement("div");c.style.position="absolute",c.className=this.$aD("_message_close"),c.onclick=function(){l.nav.message.style.display="none"},s.appendChild(c),this.nav.top.appendChild(s),this.nav.message=s}var h=function(){var n=l.nav.message;i.cssClass&&DayPilot.Util.addClass(n.firstChild,i.cssClass);var o=l.nav.message.firstChild;o.innerHTML=e;var s=DayPilot.sw(l.nav.scroll)+1;l.nav.message.style.right=s+"px";var d=l.messageBarPosition||"Top";"Bottom"===d?(l.nav.message.style.bottom=r+"px",l.nav.message.style.top=""):"Top"===d&&(l.nav.message.style.bottom="",l.nav.message.style.top=a+"px");var c=function(){n.messageTimeout=setTimeout(l.$aH,t)};DayPilot.fade(l.nav.message,.2,c)};clearTimeout(s.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(l.nav.message,-.2,h):h()}},this.$aH=function(){if(l.nav.message){var e=function(){l.nav.message.style.display="none"};DayPilot.fade(l.nav.message,-.2,e)}},this.message.show=function(e){l.message(e)},this.message.hide=function(){l.$aH()},this.$aI=null,this.$ac=function(){if(this.nav.scroll){var e=1;null!==this.$aI&&(this.nav.top.style.border=this.$aI,this.$aI=null),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.$aI=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.$aF()-e),this.nav.scroll.style.height="30px";var t=this.$aJ(),i=t+this.$aF()+e;t>=0&&(this.nav.scroll.style.height=t+"px",this.$aK.style.height=t+"px"),this.nav.divider&&((!i||isNaN(i)||0>i)&&(i=0),this.nav.divider.style.height=i+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=i+"px"),l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.height=t+20+"px");for(var a=0;a<this.elements.separators.length;a++)this.elements.separators[a].style.height=this.$9Q+"px";for(var a=0;a<this.elements.linesVertical.length;a++)this.elements.linesVertical[a].style.height=this.$9Q+"px";l.$aL()}},this.$a1=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.$9R.pixels=[],this.itline=DayPilot.list();var e="Auto"===this.cellWidthSpec,t=function(){if(e){var t=0;l.$aM()&&l.timeline?t=l.timeline.length:"Manual"===l.scale?t=l.timeline.length:(l.$aN(),t=l.itline.length,l.itline=DayPilot.list());var i=l.$aO();if(t>0&&i>0){var a=i/t;l.cellWidth=Math.max(a,l.cellWidthMin),l.$aP=a<l.cellWidthMin}}};if(t(),this.$aM()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var i=null,a=0,n=0;n<this.timeline.length;n++){var o=this.timeline[n],r={};if(r.start=new DayPilot.Date(o.start),r.end=o.end?new DayPilot.Date(o.end):r.start.addMinutes(this.cellDuration),o.width)r.left=o.left||a,r.width=o.width||this.cellWidth,a+=r.width;else{var s=Math.floor(a+this.cellWidth),d=s-Math.floor(a);r.left=Math.floor(a),r.width=d,a+=this.cellWidth}r.breakBefore=i&&i.ticks!==r.start.ticks,i=r.end,this.itline.push(r)}}e&&this.$aQ()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=DayPilot.list();for(var a=0,i=null,n=0;n<this.timeline.length;n++){var o=this.timeline[n],r={};if(r.start=new DayPilot.Date(o.start),r.end=o.end?new DayPilot.Date(o.end):r.start.addMinutes(this.cellDuration),i&&r.start.ticks<i.ticks)throw"The timeline must be sequential";var c=o.width||this.cellWidth,s=Math.floor(a+c),d=s-Math.floor(a);r.left=Math.floor(a),r.width=d,a+=c,r.breakBefore=i&&i.ticks!==r.start.ticks,i=r.end,this.itline.push(r)}}else this.$aN();this.$aR()}},this.$aS={};var u=this.$aS;u.shiftX=0,u.active=!1,u.updateRowStarts=function(){DayPilot.list(l.rowlist).each(function(e,t){e.start=l.$aT(),e.data=null,l.$aU(t)})},u.isEnabled=function(){return l.temp.infiniteScrolling},u.shiftTo=function(e){var e=new DayPilot.Date(e),t=e.addDays(-l.$9M).getDatePart(),i=new DayPilot.Duration(t.getTime()-l.startDate.getDatePart().getTime()).totalDays();u.shiftStart(i,e)},u.shiftStart=function(e,t){var i;u.active=!0;var a=l.startDate,n=l.startDate.addDays(e);e>0&&(i=-l.getPixels(n).left),l.startDate=l.startDate.addDays(e),l.itline=DayPilot.list(),l.$9R.pixels=[],l.$aN(),u.updateRowStarts(),0>e&&(i=l.getPixels(a).left),l.timeHeader=[],l.$aR(),l.$a6(),l.cellProperties={},l.$ad(),l.$af(),l.$a4(),l.$ae(),"undefined"!=typeof t?(l.scrollTo(new DayPilot.Date(t)),l.$ap()):l.nav.scroll.scrollLeft+=i,l.$aj(),u.active=!1},this.$aN=function(){for(var e=this.startDate.addDays("Days"!==this.viewType?this.days:1),t=this.startDate,i=this.$aV(t),a=!1,n=0;i.ticks<=e.ticks&&i.ticks>t.ticks;){if(this.$aW(t,i)){var o=Math.floor(n+this.cellWidth),r=o-Math.floor(n),s={};s.start=t,s.end=i,s.left=Math.floor(n),s.width=r,s.breakBefore=a,this.itline.push(s),n+=this.cellWidth,a=!1}else a=!0;t=i,i=this.$aV(t)}},this.$aQ=function(){if(this.timeHeader)for(var e=0;e<this.timeHeader.length;e++)for(var t=this.timeHeader[e],i=0;i<t.length;i++){var a=t[i];a.left=this.getPixels(new DayPilot.Date(a.start)).left;var n=this.getPixels(new DayPilot.Date(a.end)).left,o=n-a.left;a.width=o}},this.$aR=function(){var e=this.timeHeaders;e||(e=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var t=l.$aX(),i=0;i<e.length;i++){var a=e[i].groupBy,n=e[i].format;"Default"===a&&(a=this.cellGroupBy);for(var o=[],r=this.$aT();r.ticks<t.ticks;){var s={};if(s.start=r,s.end=this.$aY(s.start,a),s.start.ticks===s.end.ticks)break;s.left=this.getPixels(s.start).left;var d=this.getPixels(s.end).left,c=d-s.left;if(s.width=c,s.colspan=Math.ceil(c/(1*this.cellWidth)),s.innerHTML="string"==typeof n?s.start.toString(n,B.locale()):this.$aZ(s,a),c>0){if("function"==typeof this.onBeforeTimeHeaderRender){var h={};h.start=s.start,h.end=s.end,h.html=s.innerHTML,h.toolTip=s.innerHTML,h.backColor=null,h.level=this.timeHeader.length,h.cssClass=null;var u={};u.header=h,this.onBeforeTimeHeaderRender(u),s.innerHTML=h.html,s.backColor=h.backColor,s.toolTip=h.toolTip,s.areas=h.areas,s.cssClass=h.cssClass}o.push(s)}r=s.end}this.timeHeader.push(o)}},this.$aW=function(e,t){if("function"==typeof this.onIncludeTimeCell){var i={};i.start=e,i.end=t,i.visible=!0;var a={};return a.cell=i,this.onIncludeTimeCell(a),i.visible}return this.showNonBusiness?!0:this.isBusiness({start:e,end:t})},this.getPixels=function(e){var t=e.ticks,i=this.$9R.pixels[t];if(i)return i;var a=null,n=2218768416e5;if(0===this.itline.length||t<this.itline[0].start.ticks){var o={};return o.cut=!1,o.left=0,o.boxLeft=o.left,o.boxRight=o.left,o.i=null,o}for(var r=this.$b0(e),s=Math.max(r.i-1,0),l=s;l<this.itline.length;l++){var d=this.itline[l],c=d.start.ticks,h=d.end.ticks;if(t>c&&h>t){var u=t-c,o={};o.cut=!1,o.left=d.left+this.$b1(d,u),o.boxLeft=d.left,o.boxRight=d.left+d.width,o.i=l;break}if(c===t){var o={};o.cut=!1,o.left=d.left,o.boxLeft=o.left,o.boxRight=o.left+d.width,o.i=l;break}if(h===t){var o={};o.cut=!1,o.left=d.left+d.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=l+1;break}if(c>t&&t>n){var o={};o.cut=!0,o.left=d.left,o.boxLeft=o.left,o.boxRight=o.left,o.i=l;break}n=h}if(!o){var f=this.itline[this.itline.length-1],o={};o.cut=!0,o.left=f.left+f.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=null}return this.$9R.pixels[t]=o,o},this.getDate=function(e,t,i){var a=this.$b2(e,i);if(!a)return null;var n=a.x,o=this.itline[n];if(!o)return null;var r=i&&!t?o.end:o.start;return t?r.addTime(this.$b3(a.cell,a.offset)):r},this.$b2=function(e,t){if(0===this.itline.length)return null;for(var i=0,a=0,n=0;n<this.itline.length;n++){var o=this.itline[n],r=o.width||this.cellWidth;if(i+=r,i>e||t&&e===i){var s={};return s.x=n,s.offset=e-a,s.cell=o,s}a=i}var o=l.itline.last(),s={};return s.x=this.itline.length-1,s.offset=o.width||this.cellWidth,s.cell=o,s},this.$b4=function(e){return this.$b0(e)},this.$b5=function(e){for(var t=new DayPilot.Date(e),i=0;i<this.itline.length;i++){var a=this.itline[i];if(a.start.ticks<=t.ticks&&t.ticks<a.end.ticks){var n={};return n.hidden=!1,n.current=a,n}if(t.ticks<a.start.ticks){var n={};return n.hidden=!0,n.previous=i>0?this.itline[i-1]:null,n.current=null,n.next=this.itline[i],n}}var n={};return n.past=!0,n.previous=this.itline[this.itline.length-1],n},this.$b0=function(e){var t=new DayPilot.Date(e),i=0,a=this.itline[0];if(t.ticks<a.start.ticks){var n={};return n.hidden=!0,n.previous=null,n.current=null,n.next=this.itline[0],n.i=-1,n}var o=this.itline.length-1,r=this.itline[o];if(t.ticks>r.end.ticks){var n={};return n.past=!0,n.previous=this.itline[this.itline.length-1],n.i=this.itline.length,n}for(var s=function(){for(var e=l.itline,a;o>=i;)if(a=Math.floor((i+o)/2),e[a].start.ticks>t.ticks)o=a-1;else{if(!(e[a].end.ticks<t.ticks))return a;i=a+1}return i}(),d=s;d<this.itline.length;d++){var c=this.itline[d];if(c.start.ticks<=t.ticks&&t.ticks<c.end.ticks){var n={};return n.hidden=!1,n.current=c,n.i=d,n}if(t.ticks<c.start.ticks){var n={};return n.hidden=!0,n.previous=d>0?this.itline[d-1]:null,n.current=null,n.next=this.itline[d],n.i=d,n}}var n={};return n.past=!0,n.previous=this.itline[this.itline.length-1],n.i=this.itline.length,n},this.$b1=function(e,t){var i=e.width||this.cellWidth,a=e.end.ticks-e.start.ticks;return Math.floor(i*t/a)},this.$b3=function(e,t){var i=e.end.ticks-e.start.ticks,a=e.width||this.cellWidth;return Math.floor(t/a*i)},this.$b6=function(e){E.start||a.preventEventClick||(M={},l.$b7(this,e))},this.eventClickPostBack=function(e,t){this.$b8("EventClick",e,t)},this.eventClickCallBack=function(e,t){this.$b9("EventClick",e,t)},this.$b7=function(e,t){var i=e.event,t=t||window.event;if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),!i.client.doubleClickEnabled())return void l.$ba(e,t);l.timeouts.click||(l.timeouts.click=[]);var a=function(e,t){return function(){l.$ba(e,t)}};l.timeouts.click.push(window.setTimeout(a(e,t),l.doubleClickTimeout))},this.$bb=function(e){return l.itline[e]},this.$ba=function(e,t){if("boolean"==typeof t)throw"Invalid _eventClickSingle parameters";var i=e.event,a=t.ctrlKey,n=t.metaKey;if(i.client.clickEnabled())if(l.$aq()){var o={};if(o.e=i,o.div=e,o.originalEvent=t,o.ctrl=a,o.meta=n,o.shift=t.shiftKey,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventClick&&(l.onEventClick(o),o.preventDefault.value))return;switch(l.eventClickHandling){case"PostBack":l.eventClickPostBack(i);break;case"CallBack":l.eventClickCallBack(i);break;case"Edit":l.$bc(e);break;case"Select":l.$bd(e,i,a,n);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):l.contextMenu&&l.contextMenu.show(i);break;case"Bubble":l.bubble&&l.bubble.showEvent(i);break;case"RectangleSelect":if("Disabled"!==l.multiSelectRectangle)return _.start(),!1}"function"==typeof l.onEventClicked&&l.onEventClicked(o)}else switch(l.eventClickHandling){case"PostBack":l.eventClickPostBack(i);break;case"CallBack":l.eventClickCallBack(i);break;case"JavaScript":l.onEventClick(i);break;case"Edit":l.$bc(e);break;case"Select":l.$bd(e,i,a,n);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):l.contextMenu&&l.contextMenu.show(i);break;case"Bubble":l.bubble&&l.bubble.showEvent(i);break;case"RectangleSelect":if("Disabled"!==l.multiSelectRectangle)return _.start(),!1}},this.$be=function(e){if(l.$aq()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventDelete&&(l.onEventDelete(t),t.preventDefault.value))return;switch(l.eventDeleteHandling){case"PostBack":l.eventDeletePostBack(e);break;case"CallBack":l.eventDeleteCallBack(e);break;case"Update":l.events.remove(e)}"function"==typeof l.onEventDeleted&&l.onEventDeleted(t)}else switch(l.eventDeleteHandling){case"PostBack":l.eventDeletePostBack(e);break;case"CallBack":l.eventDeleteCallBack(e);break;case"JavaScript":l.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.$b8("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.$b9("EventDelete",e,t)},this.setHScrollPosition=function(e){this.nav.scroll.scrollLeft=e},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.$bd=function(e,t,i,a){l.$bf(e,t,i,a)},this.eventSelectPostBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$b8("EventSelect",a,i)},this.eventSelectCallBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$b9("EventSelect",a,i)},this.$bf=function(e,t,i,a){var n=l.multiselect,o=!1,r=n.isSelected(t),s=i||a;if(s||!r||o||1!==n.list.length)if(l.$aq()){n.previous=n.events();var d={};if(d.e=t,d.selected=r,d.ctrl=i,d.meta=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventSelect&&(l.onEventSelect(d),d.preventDefault.value))return;switch(l.eventSelectHandling){case"PostBack":l.eventSelectPostBack(t,c);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),l.eventSelectCallBack(t,c);break;case"Update":n.$bg(e,i,a)}"function"==typeof l.onEventSelected&&(d.change=n.isSelected(t)?"selected":"deselected",d.selected=n.isSelected(t),l.onEventSelected(d))}else{n.previous=n.events(),n.$bg(e,i,a);var c=n.isSelected(t)?"selected":"deselected";switch(l.eventSelectHandling){case"PostBack":l.eventSelectPostBack(t,c);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),l.eventSelectCallBack(t,c);break;case"JavaScript":l.onEventSelect(t,c)}}},this.eventRightClickPostBack=function(e,t){this.$b8("EventRightClick",e,t)},this.eventRightClickCallBack=function(e,t){this.$b9("EventRightClick",e,t)},this.$bh=function(e){var t=this.event;if(e=e||window.event,e.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(l.$aq()){var i={};if(i.e=t,i.div=this,i.originalEvent=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventRightClick&&(l.onEventRightClick(i),i.preventDefault.value))return!1;switch(l.eventRightClickHandling){case"PostBack":l.eventRightClickPostBack(t);break;case"CallBack":l.eventRightClickCallBack(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):l.contextMenu&&l.contextMenu.show(this.event);break;case"Bubble":l.bubble&&l.bubble.showEvent(t)}"function"==typeof l.onEventRightClicked&&l.onEventRightClicked(i)}else switch(l.eventRightClickHandling){case"PostBack":l.eventRightClickPostBack(t);break;case"CallBack":l.eventRightClickCallBack(t);break;case"JavaScript":l.onEventRightClick(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):l.contextMenu&&l.contextMenu.show(this.event);break;case"Bubble":l.bubble&&l.bubble.showEvent(t)}return!1},this.eventDoubleClickPostBack=function(e,t){this.$b8("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(e,t){this.$b9("EventDoubleClick",e,t)},this.$bi=function(e){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),l.timeouts.click){for(var t in l.timeouts.click)window.clearTimeout(l.timeouts.click[t]);l.timeouts.click=null}var e=e||window.event,i=this.event;if(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,l.$aq()){var a={};if(a.e=i,a.originalEvent=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventDoubleClick&&(l.onEventDoubleClick(a),a.preventDefault.value))return;switch(l.eventDoubleClickHandling){case"PostBack":l.eventDoubleClickPostBack(i);break;case"CallBack":l.eventDoubleClickCallBack(i);break;case"Edit":l.$bc(this);break;case"Select":l.$bd($02,i,e.ctrlKey,e.metaKey);break;case"Bubble":l.bubble&&l.bubble.showEvent(i);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):l.contextMenu&&l.contextMenu.show(i)}"function"==typeof l.onEventDoubleClicked&&l.onEventDoubleClicked(a)}else switch(l.eventDoubleClickHandling){case"PostBack":l.eventDoubleClickPostBack(i);break;case"CallBack":l.eventDoubleClickCallBack(i);break;case"JavaScript":l.onEventDoubleClick(i);break;case"Edit":l.$bc(this);break;case"Select":l.$bd($02,i,e.ctrlKey,e.metaKey);break;case"Bubble":l.bubble&&l.bubble.showEvent(i);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):l.contextMenu&&l.contextMenu.show(i)}},this.eventResizePostBack=function(e,t,i,a){this.$bj("PostBack",e,t,i,a)},this.eventResizeCallBack=function(e,t,i,a){this.$bj("CallBack",e,t,i,a)},this.$bj=function(e,t,i,a,n){var o={};o.e=t,o.newStart=i,o.newEnd=a,this.$bk(e,"EventResize",o,n)},this.$bl=function(e,t,i){if("Disabled"!==this.eventResizeHandling)if(i=l.$bm(i),l.$aq()){var a={},n=function(){if(A.hide(),!a.preventDefault.value){switch(t=a.newStart,i=a.newEnd,l.eventResizeHandling){case"PostBack":l.eventResizePostBack(e,t,i);break;case"CallBack":l.eventResizeCallBack(e,t,i);break;case"Notify":l.eventResizeNotify(e,t,i);break;case"Update":l.$bn(a)}"function"==typeof l.onEventResized&&l.onEventResized(a)}};a.e=e,a.async=!1,a.loaded=function(){n()},a.newStart=t,a.newEnd=i,a.preventDefault=function(){this.preventDefault.value=!0},a.multiresize=DayPilot.list(w.list);var o={};o.event=e,o.start=t,o.end=i,a.multiresize.splice(0,0,o),"function"==typeof l.onEventResize&&l.onEventResize(a),a.async?l.blockOnCallBack&&A.show():n()}else switch(l.eventResizeHandling){case"PostBack":l.eventResizePostBack(e,t,i);break;case"CallBack":l.eventResizeCallBack(e,t,i);break;case"JavaScript":l.onEventResize(e,t,i);break;case"Notify":l.eventResizeNotify(e,t,i);break;case"Update":l.$bn(a)}},this.eventMovePostBack=function(e,t,i,a,n,o){this.$bo("PostBack",e,t,i,a,n,o)},this.eventMoveCallBack=function(e,t,i,a,n,o){this.$bo("CallBack",e,t,i,a,n,o)},this.$bo=function(e,t,i,a,n,o,r){var s=t&&!!t.preventDefault,d={};if(s){var c=t;d.e=c.e,d.newStart=c.newStart,d.newEnd=c.newEnd,d.newResource=c.newResource,d.position=c.position,d.multimove=[],c.multimove.each(function(e){var t={};if(t.e=e.event,t.newStart=e.start,t.newEnd=e.end,t.newResource=e.event.resource(),t.e===c.e||t.e.data.id==c.e.data.id)t.newResource=c.newResource;else if(D.rowoffset){var i=e.event.part.dayIndex+D.rowoffset;t.newResource=l.rowlist[i].id}d.multimove.push(t)})}else d.e=t,d.newStart=i,d.newEnd=a,d.newResource=n,d.position=r;this.$bk(e,"EventMove",d,o)},this.$bp=function(e,t,i){var a={};a.start=t.start,a.end=t.end,a.resource=t.resource,a.multirange=[],t.multirange.each(function(e){var t={};t.start=e.start,t.end=e.end,t.resource=e.resource,a.multirange.push(t)}),this.$bk(e,"TimeRangeSelected",a,i)},this.$bk=function(e,t,i,a){if("PostBack"===e)l.$b8(t,i,a);else if("CallBack"===e)l.$b9(t,i,a,"CallBack");else if("Immediate"===e)l.$b9(t,i,a,"Notify");else if("Queue"===e)l.queue.add(new DayPilot.Action(this,t,i,a));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===B.notifyType()?l.$b9(t,i,a,"Notify"):l.queue.add(new DayPilot.Action(l,t,i,a))}},this.eventMoveNotify=function(e,t,i,a,n,o){var r=e&&!!e.preventDefault;if(r){var s=e;s.old=new DayPilot.Event(s.e.copy(),l),s.multimove.each(function(e){e.old=new DayPilot.Event(e.event.copy(),l)}),l.$bn(s),s.e=s.old,delete s.old,s.multimove.each(function(e){e.event=e.old,delete e.old})}else{e=new DayPilot.Event(e.copy(),l);var d=l.events.$bq(e.data);e.start(t),e.end(i),e.resource(a),e.commit(),d=d.concat(l.events.$br(e.data)),l.$bs(d),l.$bt(),l.$bu(d)}this.$bo("Notify",e,t,i,a,n,o)},this.eventResizeNotify=function(e,t,i,a){var n=new DayPilot.Event(e.copy(),this),o=l.events.$bq(e.data);e.start(t),e.end(i),e.commit(),o=o.concat(l.events.$br(e.data)),l.$bs(o),l.$bt(),l.$bu(o),this.$bj("Notify",n,t,i,a)},this.multiselect={},this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$ag=function(e){l.multiselect.list=DayPilot.list(e).map(function(e){return new DayPilot.Event(e,l)})},this.multiselect.$bv=function(){var e=l.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=l.multiselect,t=DayPilot.list();t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.$bw=function(){},this.multiselect.$bg=function(e,t,i){var a=l.multiselect;if(a.isSelected(e.event))if(l.allowMultiSelect)if(t||i)a.remove(e.event,!0);else{var n=a.list.length;a.clear(),n>1&&a.add(e.event,!0)}else a.clear();else l.allowMultiSelect&&(t||i)?a.add(e.event,!0):(a.clear(),a.add(e.event,!0));a.$bx(e),a.$bw()},this.multiselect.$by=function(e){var t=l.multiselect;return t.$bz(e,t.initList)},this.multiselect.$bA=function(){for(var e=l.multiselect,t=[],i=0;i<e.list.length;i++){var a=e.list[i];t.push(a.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=l.multiselect;-1===i.indexOf(e)&&i.list.push(e),t||i.redraw()},this.multiselect.remove=function(e,t){var i=l.multiselect,a=i.indexOf(e);-1!==a&&i.list.splice(a,1),t||i.redraw()},this.multiselect.clear=function(e){var t=l.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){var e=l.multiselect;e.divs=[];for(var t=0;t<l.elements.events.length;t++){var i=l.elements.events[t];i.event&&i.event.isEvent&&(e.isSelected(i.event)?e.$bB(i):e.$bC(i))}},this.multiselect.$bD=function(e){for(var t=l.multiselect,i=null,a=0;a<l.elements.events.length;a++)if(t.isSelected(l.elements.events[a].event)){i=l.elements.events[a];break}t.$bx(i)},this.multiselect.$bx=function(e){if(e){var t=l.multiselect;t.isSelected(e.event)?t.$bB(e):t.$bC(e)}},this.multiselect.$bB=function(e){var t=l.multiselect,i=l.$aD("_selected"),e=t.$bE(e);DayPilot.Util.addClass(e,i),t.divs.push(e)},this.multiselect.$bE=function(e){return e},this.multiselect.$bF=function(){for(var e=l.multiselect,t=0;t<e.divs.length;t++){var i=e.divs[t];e.$bC(i,!0)}e.divs=[]},this.multiselect.$bC=function(e,t){var i=l.multiselect,a=l.$aD("_selected");if(DayPilot.Util.removeClass(e,a),!t){var n=DayPilot.indexOf(i.divs,e);-1!==n&&i.divs.splice(n,1)}},this.multiselect.isSelected=function(e){return e&&e.isEvent?l.multiselect.$bz(e,l.multiselect.list):!1},this.multiselect.indexOf=function(e){for(var t=e.data,i=0;i<l.multiselect.list.length;i++){var a=l.multiselect.list[i];if(a.data===t)return i}return-1},this.multiselect.$bz=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var a=t[i];if(e===a)return!0;if("function"==typeof a.id){if(null!==a.id()&&null!==e.id()&&a.id()===e.id())return!0;if(null===a.id()&&null===e.id()&&a.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===a.start().toStringSortable())return!0}else{if(null!==a.id&&null!==e.id()&&a.id===e.id())return!0;if(null===a.id&&null===e.id()&&a.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===a.start)return!0}}return!1},this.multiselect.startRectangle=function(){_.start()},this.$bG=function(){this.$af(),this.$ai()},this.$bH=function(){l.$a5(),l.$aa(),l.$bI(),l.progressiveRowRendering&&l.$bJ()},this.$bx=function(e){var e=e||{},t=!e.eventsOnly;l.cssOnly||(l.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t&&(this.$aM()||(l.timeHeader=null,l.cellProperties={}),l.$a0(),l.$a1(),e&&e.dontLoadResources||l.$a2()),this.$a4(),t&&(l.$bK(),l.$a6(),l.$ao(l.selectedRows)),l.$a5(),l.$a7(),l.$aa(),l.$bI(),l.$ab(),v.hideLinkpoints(),this.$ae(),this.$ad(),this.$9Y(),this.$a3(),this.$ah(),this.$bG(),l.$ac(),e.immediateEvents||e.eventsOnly?l.$aj():setTimeout(function(){l.$aj()},100),this.visible?this.show():this.hide(),this.$an(),this.$ap(),this.$bL(),this.$9V()},this.$bL=function(){if("function"==typeof l.onAfterUpdate){var e={};l.onAfterUpdate(e)}},this.update=function(e){if(l.$9J)throw"You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";f.request(e)};var f={};f.timeout=null,f.options=null,f.enabled=!1,f.request=function(e){f.enabled?(clearTimeout(f.timeout),f.mergeOptions(e),f.timeout=setTimeout(f.doit)):(f.mergeOptions(e),f.doit())},f.mergeOptions=function(e){if(e){f.options||(f.options={});for(var t in e)f.options[t]=e[t]}},f.doit=function(){var e=f.options;return f.options=null,e?void(e.events?(l.events.list=e.events,l.$bM&&l.$bx({eventsOnly:!0})):e.separators?(l.separators=e.separators,l.$bM&&l.$bG()):e.rowHeaderColumns&&(l.rowHeaderColumns=e.rowHeaderColumns,l.$bM&&l.$bH())):void(l.$bM&&l.$bx({immediateEvents:!0}))},this.$bu=function(e,t,i){e=DayPilot.ua(e);for(var a=0;a<e.length;a++){var n=e[a];l.$bN(n)}if(this.$bO){this.$a7(),this.$aa(),this.$ad(),this.$af();for(var a=0;a<e.length;a++){var n=e[a];this.$bP(n)}for(var a=0;a<e.length;a++){var n=e[a];this.$bQ(n)}this.$ah(),this.$ai(),this.$bR()}else{var o=!0;if(o){var r=function(a){if(!(a>=e.length)){var n=e[a];t||l.$bP(n),l.$bQ(n),a+1<e.length?setTimeout(function(){r(a+1)},10):(l.$az(),v.load(),l.multiselect.redraw(),i&&i())}};r(0)}else for(var a=0;a<e.length;a++){var n=e[a];t||this.$bP(n),this.$bQ(n)}DayPilot.list(e).each(function(e){l.$bS(e)}),l.$ah()}l.$az(),v.load(),l.multiselect.redraw(),i&&i(),this.$9Y()},this.$bm=function(e){return"DateTime"===l.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.$bT=function(e){return"DateTime"===l.eventEndSpec?e:e.getDatePart().addDays(1)},this.$bU=function(e){return"DateTime"===l.eventEndSpec?e:e.getDatePart()},this.$bV=function(e,t,i,a,n,o,r){if(l.$bW=null,"Disabled"!==l.eventMoveHandling){i=l.$bm(i);var s={};s.e=e,s.newStart=t,s.newEnd=i,s.newResource=a,s.external=n,s.ctrl=!1,s.meta=!1,s.shift=!1,o&&(s.shift=o.shiftKey,s.ctrl=o.ctrlKey,s.meta=o.metaKey),s.multimove=DayPilot.list(D.list);
var d={};if(d.event=e,d.start=t,d.end=i,s.multimove.splice(0,0,d),s.position=r,s.preventDefault=function(){this.preventDefault.value=!0},l.$aq()){var c=function(){if(A.hide(),s.preventDefault.value)return void l.$bX();switch(t=s.newStart,i=s.newEnd,l.eventMoveHandling){case"PostBack":l.eventMovePostBack(s);break;case"CallBack":l.eventMoveCallBack(s);break;case"Notify":l.eventMoveNotify(s);break;case"Update":l.$bn(s)}l.$bX(),"function"==typeof l.onEventMoved&&l.onEventMoved(s)};s.async=!1,s.loaded=function(){c()},"function"==typeof l.onEventMove&&l.onEventMove(s),s.async?l.blockOnCallBack&&A.show():c()}else{switch(l.eventMoveHandling){case"PostBack":l.eventMovePostBack(s);break;case"CallBack":l.eventMoveCallBack(s);break;case"JavaScript":l.onEventMove(e,t,i,a,n,o?o.ctrlKey:!1,o?o.shiftKey:!1,r);break;case"Notify":l.eventMoveNotify(s);break;case"Update":l.$bn(s)}l.$bX()}}},this.$bn=function(e){var t=e.e,i=e.newStart,a=e.newEnd,n=e.newResource,o=e.external;t.start(i),t.end(a),t.resource(n),o?(t.commit(),l.events.add(t)):l.events.update(t),e.multimove&&!e.multimove.isEmpty()&&e.multimove.each(function(e){if(e.event!==t){if(e.event.start(e.start),e.event.end(e.end),D.rowoffset){var i=e.event.part.dayIndex+D.rowoffset,a=l.rowlist[i].id;e.event.resource(a)}e.event.commit(),l.events.update(e.event)}}),e.multiresize&&!e.multiresize.isEmpty()&&e.multiresize.each(function(e){e.event!==t&&(e.event.start(e.start),e.event.end(e.end),e.event.commit(),l.events.update(e.event))}),l.$9T()},this.$bY=function(e,t){var i=l.$bZ(t),a={};a.args=e,a.guid=i,l.$b9("Bubble",a)},this.$bZ=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$b8("EventMenuClick",a,i)},this.eventMenuClickCallBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$b9("EventMenuClick",a,i)},this.$c0=function(e,t,i){switch(i){case"PostBack":l.eventMenuClickPostBack(t,e);break;case"CallBack":l.eventMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$b8("TimeRangeSelected",n,a)},this.timeRangeSelectedCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$b9("TimeRangeSelected",n,a)},this.$c1=function(e){if(e){if(e.disabled)return void l.clearSelection();var t=l.$c2(e);t&&l.$c3(t.start,t.end,t.resource)}},this.$c3=function(e,t,i){if("Disabled"!==l.timeRangeSelectedHandling){var n=t;t=l.$bm(n);var o={};if(o.start=e,o.end=t,o.resource=i,o.preventDefault=function(){this.preventDefault.value=!0},o.multirange=DayPilot.list(R.list).map(function(e){return l.$c2(e)}),o.multirange.isEmpty()&&o.multirange.push({start:o.start,end:o.end,resource:o.resource}),l.$aq()){if("function"==typeof l.onTimeRangeSelect){if(l.onTimeRangeSelect(o),o.preventDefault.value)return;e=o.start,t=o.end}switch(l.$c4(a.rangeHold,e,t,o.multirange),l.$c5(a.rangeHold),l.timeRangeSelectedHandling){case"PostBack":l.$bp("PostBack",o);break;case"CallBack":l.$bp("CallBack",o)}"function"==typeof l.onTimeRangeSelected&&l.onTimeRangeSelected(o)}else switch(l.timeRangeSelectedHandling){case"PostBack":l.$bp("PostBack",o);break;case"CallBack":l.$bp("CallBack",o);break;case"JavaScript":l.onTimeRangeSelected(e,t,i,o.multirange);break;case"Hold":}}},this.$c4=function(e,t,i,a){if(e&&!(a&&a.length>1)){var n=l.$bT(i),o,r,s=0;if("Days"===l.viewType){var d=l.$ar(t);s=d.start.getTime()-l.$aT().getTime()}t.getTime()<l.itline[0].start.getTime()?e.start.x=0:(o=l.$b4(t.addTime(-s)),r=o.current||o.previous,e.start.x=DayPilot.indexOf(l.itline,r)),o=l.$b4(n.addSeconds(-1).addTime(-s)),o.past?e.end.x=l.itline.length-1:(r=o.current||o.next,e.end.x=DayPilot.indexOf(l.itline,r))}},this.$ar=function(e){var t=e.getDatePart();return DayPilot.list(l.rowlist).find(function(e){return e.start.getDatePart()===t})},this.timeRangeDoubleClickPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$b8("TimeRangeDoubleClick",n,a)},this.timeRangeDoubleClickCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$b9("TimeRangeDoubleClick",n,a)},this.$c6=function(e,t,i){if(t=l.$bm(t),l.$aq()){var a={};if(a.start=e,a.end=t,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeRangeDoubleClick&&(l.onTimeRangeDoubleClick(a),a.preventDefault.value))return;switch(l.timeRangeDoubleClickHandling){case"PostBack":l.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":l.timeRangeDoubleClickCallBack(e,t,i)}"function"==typeof l.onTimeRangeDoubleClicked&&l.onTimeRangeDoubleClicked(a)}else switch(l.timeRangeDoubleClickHandling){case"PostBack":l.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":l.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":l.onTimeRangeDoubleClick(e,t,i)}},this.timeRangeMenuClickPostBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$b8("TimeRangeMenuClick",a,i)},this.timeRangeMenuClickCallBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$b9("TimeRangeMenuClick",a,i)},this.$c7=function(e,t,i){switch(i){case"PostBack":l.timeRangeMenuClickPostBack(t,e);break;case"CallBack":l.timeRangeMenuClickCallBack(t,e)}},this.linkMenuClickPostBack=function(e,t,i){var a={};a.link=e,a.command=t,this.$b8("LinkMenuClick",a,i)},this.linkMenuClickCallBack=function(e,t,i){var a={};a.link=e,a.command=t,this.$b9("LinkMenuClick",a,i)},this.$c8=function(e,t,i){switch(i){case"PostBack":l.linkMenuClickPostBack(t,e);break;case"CallBack":l.linkMenuClickCallBack(t,e)}},this.rowMenuClickPostBack=function(e,t,i){var a={};a.resource=e,a.command=t,this.$b8("RowMenuClick",a,i)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(e,t,i){var a={};a.resource=e,a.command=t,this.$b9("RowMenuClick",a,i)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.$c9=function(e,t,i){switch(i){case"PostBack":l.rowMenuClickPostBack(t,e);break;case"CallBack":l.rowMenuClickCallBack(t,e)}},this.$ca=function(e,t){var i=x.$cb(e),a=i.cells[0],n=a.textDiv;n.innerHTML=t,e.Text=t,e.html=t},this.$cc=function(e,t){if(t){var i={};if(i.text=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof l.onRowCreate||(l.onRowCreate(i),!i.preventDefault.value)){switch(l.rowCreateHandling){case"CallBack":l.rowCreateCallBack(i.text);break;case"PostBack":l.rowCreatePostBack(i.text)}"function"==typeof l.onRowCreated&&l.onRowCreated(i)}}},this.$cd=function(e,t){if(e.isNewRow)return void l.$cc(e,t);var i=DayPilot.indexOf(l.rowlist,e),a=l.$ce(e,i);if(l.$aq()){var n={};if(n.resource=a,n.newText=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onRowEdit&&(l.onRowEdit(n),n.preventDefault.value))return;switch(l.rowEditHandling){case"PostBack":l.rowEditPostBack(a,t);break;case"CallBack":l.rowEditCallBack(a,t);break;case"Update":l.$ca(e,t)}"function"==typeof l.onRowEdited&&l.onRowEdited(n)}else switch(l.rowEditHandling){case"PostBack":l.rowEditPostBack(a,t);break;case"CallBack":l.rowEditCallBack(a,t);break;case"JavaScript":l.onrowEdit(a,t)}},this.rowCreatePostBack=function(e,t){var i={};i.text=e,this.$b8("RowCreate",i,t)},this.rowCreateCallBack=function(e,t){var i={};i.text=e,this.$b9("RowCreate",i,t)},this.rowEditPostBack=function(e,t,i){var a={};a.resource=e,a.newText=t,this.$b8("RowEdit",a,i)},this.rowEditCallBack=function(e,t,i){var a={};a.resource=e,a.newText=t,this.$b9("RowEdit",a,i)},this.rowMovePostBack=function(e,t,i,a){var n={};n.source=e,n.target=t,n.position=i,this.$b8("RowMove",n,a)},this.rowMoveCallBack=function(e,t,i,a){var n={};n.source=e,n.target=t,n.position=i,this.$b9("RowMove",n,a)},this.rowMoveNotify=function(e,t,i,a){var n={};n.source=e,n.target=t,n.position=i,this.$b9("RowMove",n,a,"Notify")},this.rowClickPostBack=function(e,t){var i={};i.resource=e,this.$b8("RowClick",i,t)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(e,t){var i={};i.resource=e,this.$b9("RowClick",i,t)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.$cf=function(e,t,i,a){if("Disabled"===l.rowDoubleClickHandling)return void l.$cg(e,t,i,a);l.timeouts.resClick||(l.timeouts.resClick=[]);var n=function(e,t,i,a){return function(){l.$cg(e,t,i,a)}};l.timeouts.resClick.push(window.setTimeout(n(e,t,i,a),l.doubleClickTimeout))},this.$cg=function(e,t,i,a){var n=l.resourceHeaderClickHandling||l.rowClickHandling;if(l.$aq()){var o={};if(o.resource=e,o.row=e,o.ctrl=t,o.shift=i,o.meta=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onRowClick&&(l.onRowClick(o),o.preventDefault.value))return;if("function"==typeof l.onResourceHeaderClick&&(l.onResourceHeaderClick(o),o.preventDefault.value))return;switch(n){case"PostBack":l.rowClickPostBack(e);break;case"CallBack":l.rowClickCallBack(e);break;case"Select":l.$ch(e.$.row,t,i,a);break;case"Edit":l.$ci.edit(e.$.row)}"function"==typeof l.onRowClicked&&l.onRowClicked(o),"function"==typeof l.onResourceHeaderClicked&&l.onResourceHeaderClicked(o)}else switch(n){case"PostBack":l.rowClickPostBack(e);break;case"CallBack":l.rowClickCallBack(e);break;case"JavaScript":l.onRowClick(e);break;case"Select":l.$ch(e.$.row,t,i);break;case"Edit":l.$ci.edit(e.$.row)}},this.timeHeaderClickPostBack=function(e,t){var i={};i.header=e,this.$b8("TimeHeaderClick",i,t)},this.timeHeaderClickCallBack=function(e,t){var i={};i.header=e,this.$b9("TimeHeaderClick",i,t)},this.$cj=function(e){if(l.$aq()){var t={};if(t.header=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeHeaderClick&&(l.onTimeHeaderClick(t),t.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":l.timeHeaderClickPostBack(e);break;case"CallBack":l.timeHeaderClickCallBack(e)}"function"==typeof l.onTimeHeaderClicked&&l.onTimeHeaderClicked(t)}else switch(this.timeHeaderClickHandling){case"PostBack":l.timeHeaderClickPostBack(e);break;case"CallBack":l.timeHeaderClickCallBack(e);break;case"JavaScript":l.onTimeHeaderClick(e)}},this.resourceCollapsePostBack=function(e,t){var i={};i.resource=e,this.$b8("ResourceCollapse",i,t)},this.resourceCollapseCallBack=function(e,t){var i={};i.resource=e,this.$b9("ResourceCollapse",i,t)},this.$ck=function(e){if(l.$aq()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onResourceCollapse&&(l.onResourceCollapse(t),t.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":l.resourceCollapsePostBack(e);break;case"CallBack":l.resourceCollapseCallBack(e)}}else switch(this.resourceCollapseHandling){case"PostBack":l.resourceCollapsePostBack(e);break;case"CallBack":l.resourceCollapseCallBack(e);break;case"JavaScript":l.onResourceCollapse(e)}},this.resourceExpandPostBack=function(e,t){var i={};i.resource=e,this.$b8("ResourceExpand",i,t)},this.resourceExpandCallBack=function(e,t){var i={};i.resource=e,this.$b9("ResourceExpand",i,t)},this.$cl=function(e){if(l.$aq()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onResourceExpand&&(l.onResourceExpand(t),t.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":l.resourceExpandPostBack(e);break;case"CallBack":l.resourceExpandCallBack(e)}}else switch(this.resourceExpandHandling){case"PostBack":l.resourceExpandPostBack(e);break;case"CallBack":l.resourceExpandCallBack(e);break;case"JavaScript":l.onResourceExpand(e)}},this.eventEditPostBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$b8("EventEdit",a,i)},this.eventEditCallBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$b9("EventEdit",a,i)},this.$cm=function(e,t,i){if(l.$aq()){var a={};if(a.e=e,a.newText=t,a.canceled=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventEdit&&(l.onEventEdit(a),a.preventDefault.value))return;if(!i)switch(l.eventEditHandling){case"PostBack":l.eventEditPostBack(e,t);break;case"CallBack":l.eventEditCallBack(e,t);break;case"Update":e.text(t),l.events.update(e)}"function"==typeof l.onEventEdited&&l.onEventEdited(a)}else switch(l.eventEditHandling){case"PostBack":l.eventEditPostBack(e,t);break;case"CallBack":l.eventEditCallBack(e,t);break;case"JavaScript":l.onEventEdit(e,t)}},this.commandCallBack=function(e,t){this.$cn("CallBack",e,t)},this.commandPostBack=function(e,t){this.$cn("PostBack",e,t)},this.$cn=function(e,t,i){var a={};a.command=t,this.$bk(e,"Command",a,i)},this.$b8=function(e,t,i){var a={};a.action=e,a.type="PostBack",a.parameters=t,a.data=i,a.header=this.$co();var n="JSON"+DayPilot.JSON.stringify(a);__doPostBack(l.uniqueID,n)},this.$b9=function(e,t,i,a){if(!l.$aM())return void l.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof a&&(a="CallBack"),this.$cp(),l.$cq();var n={};n.action=e,n.type=a,n.parameters=t,n.data=i,n.header=this.$co();var o=DayPilot.JSON.stringify(n),r;r="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(o)):"JSON"+o,this.$cr(n);var s=null;this.backendUrl?DayPilot.request(this.backendUrl,this.$cs,r,this.$ct):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.$9S,s,this.callbackError,!0)},this.$cr=function(e){var t={};"function"==typeof l.onCallBackStart&&l.onCallBackStart(t)},this.$9X=function(){var e={};"function"==typeof l.onCallBackEnd&&setTimeout(function(){l.onCallBackEnd(e)},0)},this.$aM=function(){return this.backendUrl?!0:this.$cu()?!0:!1},this.$cu=function(){return"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$ct=function(e){if("function"==typeof l.onAjaxError){var t={};t.request=e,l.onAjaxError(t)}else"function"==typeof l.ajaxError&&l.ajaxError(e)},this.$cs=function(e){l.$9S(e.responseText)},this.$co=function(){var e={};e.v=this.v,e.control="dps",e.id=this.id,e.startDate=l.startDate,e.days=l.days,e.cellDuration=l.cellDuration,e.cellGroupBy=l.cellGroupBy,e.cellWidth=l.cellWidth,e.cellWidthSpec=l.cellWidthSpec,e.viewType=l.viewType,e.hourNameBackColor=l.hourNameBackColor,e.showNonBusiness=l.showNonBusiness,e.businessBeginsHour=l.businessBeginsHour,e.businessEndsHour=l.businessEndsHour,e.weekStarts=l.weekStarts,e.treeEnabled=l.treeEnabled,e.locale=l.locale,e.timeZone=l.timeZone,e.tagFields=l.tagFields,e.timeHeaders=l.timeHeaders,e.cssClassPrefix=l.cssClassPrefix,e.durationBarMode=l.durationBarMode,e.showBaseTimeHeader=!0,e.rowHeaderColumns=l.rowHeaderColumns,e.rowMarginBottom=l.rowMarginBottom,e.rowMarginTop=l.rowMarginTop,e.rowMinHeight=l.rowMinHeight,e.scale=l.scale,e.clientState=l.clientState,this.nav.scroll&&(e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop),e.selected=l.multiselect.events(),e.selectedRows=x.$cv(),e.hashes=l.hashes;var t=l.$cw(e.scrollX,e.scrollY),i=l.$cx(t),a=l.$cy(t);if(e.rangeStart=i.start,e.rangeEnd=i.end,e.resources=a,e.dynamicLoading=l.dynamicLoading,e.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(e.tree=this.$cz()),this.syncLinks&&(e.links=this.$cA()),"Manual"===this.scale&&(e.timeline=this.$cB()),"function"==typeof l.onCallBackHeader){var n={};n.header=e,l.onCallBackHeader(n)}return e},this.$cB=function(){var e=[];return DayPilot.list(l.timeline).each(function(t){var i={};i.start=t.start,i.end=t.end,i.width=t.width,e.push(i)}),e},this.$cA=function(){var e=[],t=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t};if(!DayPilot.isArray(l.links.list))return e;for(var i=0;i<l.links.list.length;i++){var a=l.links.list[i],n={};n.id=a.id,n.from=a.from,n.to=a.to,n.type=a.type,n.tags=t(a),e.push(n)}return e},this.getViewPort=function(){var e=this.nav.scroll.scrollLeft-u.shiftX,t=this.nav.scroll.scrollTop,i={};if("Days"!==l.viewType){var a=l.$cw(e,t),n=l.$cx(a),o=l.$cy(a);i.start=n.start,i.end=n.end,i.resources=o}else{var a=l.$cw(e,t),n=l.$cC(a);i.start=n.start,i.end=n.end,i.resources=[]}return i},this.$cw=function(e,t){var i={};i.start={},i.end={},i.start.x=Math.floor(e/l.cellWidth),i.end.x=Math.floor((e+l.nav.scroll.clientWidth)/l.cellWidth),i.start.y=l.$cD(t).i,i.end.y=l.$cD(t+l.nav.scroll.clientHeight).i;var a=this.itline.length;return i.end.x>=a&&(i.end.x=a-1),i},this.$cx=function(e){var t={};if(this.itline.length<=0)return t.start=this.startDate,t.end=this.startDate,t;if(!this.itline[e.start.x])throw"Internal error: area.start.x is null.";return t.start=this.itline[e.start.x].start,t.end=this.itline[e.end.x].end,t},this.$cy=function(e){if(!e)var e=this.$cw(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var t=[];t.ignoreToJSON=!0;for(var i=e.start.y;i<=e.end.y;i++){var a=l.rowlist[i];a&&!a.hidden&&t.push(a.id)}return t},this.$cC=function(e){if(!e)var e=this.$cw(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var t={};if(0===l.rowlist.length)return t;var i=l.itline[l.itline.length-1].end.getTime()-l.itline[0].start.getTime();return t.start=l.rowlist[e.start.y]&&l.rowlist[e.start.y].start,t.end=l.rowlist[e.end.y]&&l.rowlist[e.end.y].start.addTime(i),t},this.$cz=function(){var e=[];e.ignoreToJSON=!0;for(var t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];if(!(i.level>0||i.isNewRow)){var a=this.$cE(t);e.push(a)}}return e},this.$cF=function(e){var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.length;i++){var a=e[i],n=l.rowlist[a];n.isNewRow||t.push(l.$cE(a))}return t},this.$cE=function(e){var t=this.rowlist[e];if("function"==typeof l.onGetNodeState){var i={};if(i.row=t,i.preventDefault=function(){i.preventDefault.value=!0},i.result={},l.onGetNodeState(i),i.preventDefault.value)return i.result}var a={};return a.Value=t.id,a.BackColor=t.backColor,a.Name=t.name,a.InnerHTML=t.html,a.ToolTip=t.toolTip,a.Expanded=t.expanded,a.Children=this.$cF(t.children),a.Loaded=t.loaded,a.IsParent=t.isParent,a.Columns=this.$cG(t),t.start.getTime()!==l.$aT().getTime()&&(a.Start=t.start),t.minHeight!==l.rowMinHeight&&(a.MinHeight=t.minHeight),t.marginBottom!==l.rowMarginBottom&&(a.MarginBottom=t.marginBottom),t.marginTop!==l.rowMarginTop&&(a.MarginTop=t.marginTop),t.eventHeight!==l.eventHeight&&(a.EventHeight=t.eventHeight),a},this.$cG=function(e){if(!e.columns||0===e.columns.length)return null;var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.columns.length;i++){var a={};a.InnerHTML=e.columns[i].html,t.push(a)}return t},this.$aD=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$cH=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var e=l;e.$9J||(e.$9J=!0,e.$cp(),e.$ae(),e.divBreaks=null,e.divCells=null,e.divCorner=null,e.divCrosshair=null,e.divEvents=null,e.divHeader&&(e.divHeader.rows=null),e.divHeader=null,e.divLines=null,e.divNorth=null,e.divRange=null,e.divResScroll=null,e.divSeparators=null,e.divSeparatorsAbove=null,e.divStretch=null,e.divTimeScroll=null,e.$aK=null,e.$9Z=null,e.$as.calendar=null,e.$as=null,e.nav.loading=null,e.nav.top.onmousemove=null,e.nav.top.dispose=null,e.nav.top.ontouchstart=null,e.nav.top.ontouchmove=null,e.nav.top.ontouchend=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,e.nav.scroll=null,DayPilot.ue(window,"resize",e.$cI),a.unregister(e))},this.$cJ=function(e,t){var i=l.$as,a=l.$cK(e),n=e.event,o=n.part.height||l.$cL.eventHeight(),r=n.part&&n.part.top?n.part.top+l.rowlist[n.part.dayIndex].top:a.top,s=document.createElement("div");s.setAttribute("unselectable","on"),s.style.position="absolute",s.style.width=a.width+"px",s.style.height=o+"px",s.style.left=a.left+"px",s.style.top=r+"px",s.style.zIndex=101,s.style.overflow="hidden";var d=document.createElement("div");return s.appendChild(d),s.className=this.$aD("_shadow"),d.className=this.$aD("_shadow_inner"),i.appendChild(s),s.calendar=l,s},this.$cM=function(e,t){var i=l.$as,n=l.$cK(e),o=e.event,r=o;if(!l.$cN(n.rowIndex)){var s=o.part.height||l.$cL.eventHeight(),d=o.part&&o.part.top&&l.rowlist[o.part.dayIndex]?o.part.top+l.rowlist[o.part.dayIndex].top:n.top,c=n.left,h=r.cache&&"undefined"!=typeof r.cache.moveVDisabled?!r.cache.moveVDisabled:!r.data.moveVDisabled,u=r.cache&&"undefined"!=typeof r.cache.moveHDisabled?!r.cache.moveHDisabled:!r.data.moveHDisabled;!h&&a.moving&&(d=l.rowlist[r.part.dayIndex].top),!u&&a.moving&&(c=o.part.left);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.position="absolute",f.style.width=n.width+"px",f.style.height=s+"px",f.style.left=c+"px",f.style.top=d+"px",f.style.zIndex=101,f.style.overflow="hidden";var v=document.createElement("div");return f.appendChild(v),f.className=this.$aD("_shadow"),v.className=this.$aD("_shadow_inner"),i.appendChild(f),f.calendar=l,f}},this.$cD=function(e){for(var t={},i,a=0,n=0,o=this.rowlist.length,r=0;o>r;r++){var s=this.rowlist[r];if(!s.hidden&&(n+=s.height,n>e||r===o-1)){a=n-s.height,i=s;break}}return t.top=a,t.bottom=n,t.i=r,t.element=i,t},this.links={};var v={};this.$cO=v,v.clear=function(){l.divLinksAbove.innerHTML="",l.divLinksBelow.innerHTML="",l.elements.links=[]},v.showLinkpoints=function(){var e=d.events();e.each(function(e){v.showLinkpoint(e)})},v.showLinkpoint=function(e){var t=l.linkPointSize,i=t/2,a=e.event.part.left,n=l.rowlist[e.event.part.dayIndex].top+e.event.part.top,o=e.event.part.height,r=e.event.part.right,s=DayPilot.Util.div(l.divLinkpoints,a-i,n-i+o/2,t,t);s.className=l.$aD("_linkpoint"),s.style.boxSizing="border-box",s.coords={x:a,y:n+o/2},s.type="Start",s.event=e.event,v.activateLinkpoint(s),l.elements.linkpoints.push(s);var d=DayPilot.Util.div(l.divLinkpoints,r-i,n-i+o/2,t,t);d.className=l.$aD("_linkpoint"),d.style.boxSizing="border-box",d.coords={x:r,y:n+o/2},d.type="Finish",d.event=e.event,v.activateLinkpoint(d),l.elements.linkpoints.push(d)},v.activateLinkpoint=function(e){e.onmousedown=function(t){var t=t||window.event;return h.source=e,h.calendar=l,v.showLinkpoints(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},e.onmousemove=function(t){DayPilot.Util.addClass(e,l.$aD("_linkpoint_hover")),v.clearHideTimeout()},e.onmouseout=function(t){h.source&&h.source.event===e.event||DayPilot.Util.removeClass(e,l.$aD("_linkpoint_hover"))},e.onmouseup=function(t){if(h.source){var i=h.source.type+"To"+e.type,a=h.source.event.id(),n=e.event.id(),o={};if(o.from=a,o.to=n,o.type=i,o.id=null,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onLinkCreate&&(l.onLinkCreate(o),o.preventDefault.value))return;var r=function(){l.links.list.push({from:a,to:n,type:i,id:o.id}),v.load()};switch(l.linkCreateHandling){case"Update":r();break;case"CallBack":l.$cP(o);break;case"PostBack":l.$cQ(o);break;case"Notify":r(),l.$cR(o)}"function"==typeof l.onLinkCreated&&l.onLinkCreated(o)}}},v.hideLinkpoints=function(){l.divLinkpoints.innerHTML="",l.elements.linkpoints=[]},v.hideTimeout=null,v.hideLinkpointsWithDelay=function(){v.hideTimeout=setTimeout(function(){v.hideLinkpoints()},100)},v.clearHideTimeout=function(){v.hideTimeout&&(clearTimeout(v.hideTimeout),v.hideTimeout=null)},v.load=function(){if(v.clear(),DayPilot.isArray(l.links.list))for(var e=0;e<l.links.list.length;e++){var t=l.links.list[e];v.drawLinkId(t.from,t.to,t)}},v.drawLinkId=function(e,t,i){var a=l.events.find(e),n=l.events.find(t);v.drawLink(a,n,i)},v.drawLink=function(e,t,i){var a=l.$cS(e),n=l.$cS(t);if(a&&n){var o=i.type||"FinishToStart",r,s,d=l.rowlist[a.event.part.dayIndex].top,c=l.rowlist[n.event.part.dayIndex].top;switch(o){case"FinishToStart":r={x:a.event.part.right,y:d+a.event.part.top},s={x:n.event.part.left,y:c+n.event.part.top},r.y>s.y&&r.x<s.x&&(s.y+=n.event.part.height,s.bottom=!0);break;case"StartToFinish":r={x:a.event.part.left,y:d+a.event.part.top},s={x:n.event.part.right,y:c+n.event.part.top};break;case"StartToStart":r={x:a.event.part.left,y:d+a.event.part.top},s={x:n.event.part.left,y:c+n.event.part.top};break;case"FinishToFinish":r={x:a.event.part.right,y:d+a.event.part.top},s={x:n.event.part.right,y:c+n.event.part.top}}v.drawLinkXy(r,s,i)}},v.clearShadow=function(){l.divLinkShadow.innerHTML="",l.elements.linkshadow=[]},v.drawShadow=function(e,t){if(v.clearShadow(),DayPilot.browser.ielt9)v.drawShadowOldStyle(e,t);else{var i=l.divLinkShadow,a=DayPilot.line(e.x,e.y,t.x,t.y,!0);i.appendChild(a),l.elements.linkshadow.push(a)}},v.drawShadowOldStyle=function(e,t){var i=Math.min(e.x,t.x),a=2,n=l.divLinkShadow,o="black",r=DayPilot.Util.div(n,i,e.y,e.x-i,a);r.style.backgroundColor=o,l.elements.linkshadow.push(r);var s=DayPilot.Util.div(n,i,e.y,a,t.y-e.y);s.style.backgroundColor=o,l.elements.linkshadow.push(s);var d=DayPilot.Util.div(n,i,t.y,t.x-i,a);d.style.backgroundColor=o,l.elements.linkshadow.push(d);var c=DayPilot.Util.div(n,t.x-6,t.y-5,0,0);c.style.borderColor="transparent transparent transparent "+o,c.style.borderStyle="solid",c.style.borderWidth="6px",l.elements.linkshadow.push(c)},v.drawLinkXy=function(e,t,i){var a=l.eventHeight/2,n=i.width||1,o=i.type||"FinishToStart",r=i.color,s=i.style,d=i.layer||"Above",c="Above"===d,h=c?l.divLinksAbove:l.divLinksBelow,u=l.eventHeight,f=l.linkBottomMargin,v=function(e,t){r&&(e.style["border"+t+"Color"]=r),s&&(e.style["border"+t+"Style"]=s)},p=[],g=function(e,t){l.elements.links.push(e),m(e),y(e),e.divs=p,t||p.push(e)},y=function(e){e.oncontextmenu=function(e){if(e=e||window.event,l.contextMenuLink){var t=new DayPilot.Link(i,l);l.contextMenuLink.show(t)}e.cancelBubble=!0,e.preventDefault?e.preventDefault():null}},m=function(e){e.onmouseenter=function(){DayPilot.Util.addClass(e.divs,l.$aD("_link_hover"))},e.onmouseleave=function(){DayPilot.Util.removeClass(e.divs,l.$aD("_link_hover"))}};if("FinishToStart"===o)if(e.y>t.y||e.y==t.y&&t.bottom)if(e.x<t.x){var b=e.x,w=e.y+u-f,D=t.x+a,k=t.y,C=DayPilot.Util.div(h,b,w,D-e.x,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,D,w,n,k-w);x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var P;r?(P=DayPilot.Util.div(h,D-5+Math.floor(n/2),k-5,0,0),P.style.borderColor=e.y<t.y?r+" transparent transparent transparent":"transparent transparent "+r+" transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(h,D-6+Math.floor(n/2),k-6,6,6),P.className=l.$aD(e.y<t.y?"_link_arrow_down":"_link_arrow_up"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else{var S=5,A=t.y+u+S,C=DayPilot.Util.div(h,e.x,e.y+u-f,a+n,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,e.x+a,e.y+u-f,n,A-(e.y+u-f));x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var T=DayPilot.Util.div(h,t.x-a,A,e.x+2*a+n-t.x,n);T.style.boxSizing="border-box",T.style.borderBottomWidth=n+"px",T.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),v(T,"Bottom"),g(T);var M=DayPilot.Util.div(h,t.x-a,A,n,t.y-A+u-f);M.style.boxSizing="border-box",M.style.borderRightWidth=n+"px",M.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(M,i.cssClass),v(M,"Right"),g(M);var E=DayPilot.Util.div(h,t.x-a,t.y+u-f,a,n);E.style.boxSizing="border-box",E.style.borderBottomWidth=n+"px",E.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(E,i.cssClass),v(E,"Bottom"),g(E);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if(e.y===t.y)if(e.x<t.x){var b=e.x,w=e.y+u-f,D=t.x,C=DayPilot.Util.div(h,b,w,D-e.x,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else{var S=5,A=t.y+u+S,C=DayPilot.Util.div(h,e.x,e.y+u-f,a+n,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,e.x+a,e.y+u-f,n,A-(e.y+u-f));x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var T=DayPilot.Util.div(h,t.x-a,A,e.x+2*a+n-t.x,n);T.style.boxSizing="border-box",T.style.borderBottomWidth=n+"px",T.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),v(T,"Bottom"),g(T);var M=DayPilot.Util.div(h,t.x-a,A,n,t.y-A+u-f);M.style.boxSizing="border-box",M.style.borderRightWidth=n+"px",M.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(M,i.cssClass),v(M,"Right"),g(M);var E=DayPilot.Util.div(h,t.x-a,t.y+u-f,a,n);E.style.boxSizing="border-box",E.style.borderBottomWidth=n+"px",E.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(E,i.cssClass),v(E,"Bottom"),g(E);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if(e.x>t.x){var c=5,A=t.y-c,C=DayPilot.Util.div(h,e.x,e.y+u-f,a+n,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,e.x+a,e.y+u-f,n,A-(e.y+u-f));x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var T=DayPilot.Util.div(h,t.x-a,A,e.x+2*a+n-t.x,n);T.style.boxSizing="border-box",T.style.borderBottomWidth=n+"px",T.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),v(T,"Bottom"),g(T);var M=DayPilot.Util.div(h,t.x-a,A,n,t.y-A+u-f);M.style.boxSizing="border-box",M.style.borderRightWidth=n+"px",M.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(M,i.cssClass),v(M,"Right"),g(M);var E=DayPilot.Util.div(h,t.x-a,t.y+u-f,a,n);E.style.boxSizing="border-box",E.style.borderBottomWidth=n+"px",E.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(E,i.cssClass),v(E,"Bottom"),g(E);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else{var b=e.x,w=e.y+u-f,D=t.x+a,k=t.y,C=DayPilot.Util.div(h,b,w,D-e.x,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,D,w,n,k-w);x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var P;r?(P=DayPilot.Util.div(h,D-5+Math.floor(n/2),k-5,0,0),P.style.borderColor=e.y<t.y?r+" transparent transparent transparent":"transparent transparent "+r+"transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(h,D-6+Math.floor(n/2),k-6,6,6),P.className=l.$aD(e.y<t.y?"_link_arrow_down":"_link_arrow_up"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if("StartToFinish"===o){var c=5,A=t.y-c,C=DayPilot.Util.div(h,t.x,t.y+u-f,a+n,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);
var x=DayPilot.Util.div(h,t.x+a,t.y+u-f,n,A-(t.y+u-f)+0);x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var T=DayPilot.Util.div(h,e.x-a,A,t.x+2*a+n-e.x,n);T.style.boxSizing="border-box",T.style.borderBottomWidth=n+"px",T.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),v(T,"Bottom"),g(T);var M=DayPilot.Util.div(h,e.x-a,A,n,e.y+u-f-A+0);M.style.boxSizing="border-box",M.style.borderRightWidth=n+"px",M.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(M,i.cssClass),v(M,"Right"),g(M);var E=DayPilot.Util.div(h,e.x-a,e.y+u-f,a,n);E.style.boxSizing="border-box",E.style.borderBottomWidth=n+"px",E.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(E,i.cssClass),v(E,"Bottom"),g(E);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderColor="transparent "+r+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_left"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if("StartToStart"===o){var H=Math.min(e.x,t.x)-a,C=DayPilot.Util.div(h,H,e.y+u-f,e.x-H,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,H,e.y+u-f,n,t.y-e.y);x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var E=DayPilot.Util.div(h,H,t.y+u-f,t.x-H,n);E.style.boxSizing="border-box",E.style.borderBottomWidth=n+"px",E.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(E,i.cssClass),v(E,"Bottom"),g(E);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if("FinishToFinish"===o){var _=Math.max(t.x,e.x)+a,C=DayPilot.Util.div(h,e.x,e.y+u-f,_-e.x,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),v(C,"Bottom"),g(C);var x=DayPilot.Util.div(h,_,e.y+u-f,n,t.y-e.y);x.style.boxSizing="border-box",x.style.borderRightWidth=n+"px",x.className=l.$aD("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),v(x,"Right"),g(x);var E=DayPilot.Util.div(h,t.x,t.y+u-f,_-t.x,n);E.style.boxSizing="border-box",E.style.borderBottomWidth=n+"px",E.className=l.$aD("_link_horizontal"),DayPilot.Util.addClass(E,i.cssClass),v(E,"Bottom"),g(E);var P;r?(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,0,0),P.style.borderColor="transparent "+r+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(h,t.x-6,t.y+u-f-5,6,6),P.className=l.$aD("_link_arrow_left"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}},this.$cP=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,l.$b9("LinkCreate",i,t)},this.$cR=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,l.$b9("LinkCreate",i,t,"Notify")},this.$cQ=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,l.$b8("LinkCreate",i,t)},this.$cT=function(e){var t=0,i=0,a=0;if(e>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var n=0;e>=n;n++){var o=this.rowlist[n];o.hidden||(i+=o.height,a++)}t=i-o.height;var r={};return r.top=t,r.height=o.height,r.bottom=i,r.i=a-1,r.data=o,r},this.$cU=function(){return this.backendUrl?"undefined"==typeof l.events.list||!l.events.list:!1},this.events.find=function(e){if(!l.events.list||"undefined"==typeof l.events.list.length)return null;for(var t=l.events.list.length,i=0;t>i;i++)if(l.events.list[i].id===e)return new DayPilot.Event(l.events.list[i],l);return null},this.events.all=function(){for(var e=[],t=0;t<l.events.list.length;t++){var i=new DayPilot.Event(l.events.list[t],l);e.push(i)}return DayPilot.list(e)},this.events.filter=function(e){l.events.$cV=e,l.$bx({eventsOnly:!0})},this.events.edit=function(e){var t=l.$cS(e);return t||DayPilot.list(l.events.$cW.rows).isEmpty()?void l.$bc(t):void setTimeout(function(){l.$bc(l.$cS(e))})},this.events.load=function(e,t,i){var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof i&&i(t)},n=function(e){var i=e.request,n;try{n=DayPilot.Util.parseJSON(i.responseText)}catch(o){var r={};return r.exception=o,void a(r)}if(DayPilot.isArray(n)){var s={};if(s.preventDefault=function(){this.preventDefault.value=!0},s.data=n,"function"==typeof t&&t(s),s.preventDefault.value)return;l.events.list=n,l.$bM&&l.update()}};DayPilot.ajax({method:"POST",data:{start:l.visibleStart().toString(),end:l.visibleEnd().toString()},url:e,success:n,error:a})},this.events.findRecurrent=function(e,t){if(!l.events.list||"undefined"==typeof l.events.list.length)return null;for(var i=l.events.list.length,a=0;i>a;a++)if(l.events.list[a].recurrentMasterId===e&&l.events.list[a].start.getTime()===t.getTime())return new DayPilot.Event(l.events.list[a],l);return null},this.events.$bq=function(e){for(var t=[],i=0;i<l.rowlist.length;i++){var a=l.rowlist[i];if(!a.isNewRow){l.$aU(i);for(var n=0;n<a.events.length;n++)if(a.events[n].data===e){t.push(i),a.events.splice(n,1);break}}}return t},this.events.$br=function(e){var t=[],i=l.$cX()||"Days"===l.viewType,a=DayPilot.indexOf(l.events.list,e);l.$cY(a);for(var n=0;n<l.rowlist.length;n++){var o=l.rowlist[n];if(!o.isNewRow){l.$aU(n);var r=l.$cZ(e,o);if(r&&("function"==typeof l.onBeforeEventRender&&(r.cache=l.$9R.events[a]),t.push(n),!i))break}}return t},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),l),i.newEvent=new DayPilot.Event(e.temp(),l);var a=new DayPilot.Action(l,"EventUpdate",i,t),n=DayPilot.list(l.events.list).find(function(t){var i=t instanceof DayPilot.Event?t.data:t;return i===e.data});if(n){if(l.$d0.scope)l.$d0.notify(function(){e.commit()});else{var o=l.events.$bq(e.data);e.commit(),o=o.concat(l.events.$br(e.data)),l.$bs(o),l.$bt(),l.$bM&&("Gantt"===l.viewType?l.update():(l.$bu(o),l.$ac()))}return a}},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,l);var a=new DayPilot.Action(l,"EventRemove",i,t),n=DayPilot.indexOf(l.events.list,e.data);if(l.events.list.splice(n,1),l.$d0.scope)l.$d0.notify();else{var o=l.events.$bq(e.data);l.$bs(o),l.$bt(),l.$bM&&("Gantt"===l.viewType?l.update():(l.$bu(o),l.$ac()))}return a},this.events.add=function(e,t){e.calendar=l,l.events.list||(l.events.list=[]),l.events.list.push(e.data);var i=new DayPilot.Action(l,"EventAdd",a,t);if(!l.$bM)return i;if(l.$d0.scope)l.$d0.notify();else{var a={};a.e=e;var n=l.events.$br(e.data);l.events.$d1(n)}return i},this.events.$cW={rows:[]},this.events.$d2=null,this.events.$d1=function(e){clearTimeout(l.events.$d2);var t=l.events.$cW.rows;DayPilot.list(e).each(function(e){t.push(e)}),l.events.$cW.rows=DayPilot.ua(t);var i=function(){var e=l.events.$cW.rows;l.events.$cW.rows=[],l.$bs(e),l.$bt(),l.$bM&&("Gantt"===l.viewType?l.update():(l.$bu(e),l.$ac()))};l.events.$d2=setTimeout(i)},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";l.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=l.queue.list,l.$b9("Notify",t,e,"Notify"),l.queue.list=[]},this.queue.clear=function(){l.queue.list=[]},this.queue.pop=function(){return l.queue.list.pop()},this.cells.find=function(e,t){var i=l.getPixels(new DayPilot.Date(e));if(!i)return g();var a=i.i,n=l.$au(t);if(!n)return g();var o=n.top,r=l.$cD(o).i;return this.findXy(a,r)},this.cells.findByPixels=function(e,t){var i=l.$b2(e);if(!i)return g();var e=i.x,a=l.$cD(t);if(!a)return g();var t=a.i;return this.findXy(e,t)},this.cells.all=function(){for(var e=[],t=l.itline.length,i=l.rowlist.length,a=0;t>a;a++)for(var n=0;i>n;n++){var o=l.cells.findXy(a,n);e.push(o[0])}return g(e)},this.cells.$d3=function(e,t){var i=l.$bb(e),a=l.rowlist[t],n=a.start.getTime()-l.$aT().getTime(),o=i.start.addTime(n),r=i.end.addTime(n),s={};s.x=e,s.y=t,s.i=e+"_"+t,s.resource=a.id,s.start=i.start,s.end=i.end,s.calendar=l,s.isParent=a.children&&a.children.length,s.update=function(){if(!l.rowlist[s.y].hidden){var e=l.$9R.cells[s.i];l.$d4(e);var t=l.$aw();t.xStart<=s.x&&s.x<=t.xEnd&&t.yStart<=s.y&&s.y<=t.yEnd&&l.$d5(s.x,s.y)}},s.utilization=function(e){return a.sections||a.calculateUtilization(),a.sections.forRange(o,r).maxSum(e)},s.events=function(){return a.events.forRange(o,r)},s.div=l.$9R.cells[s.i];var d=l.$d6(e,t);return s.properties=d,s},this.cells.findXy=function(e,t){if(DayPilot.isArray(e)){for(var i=[],a=0;a<e.length;a++){var n=e[a];i.push(l.cells.$d3(n.x,n.y))}return g(i)}if(null===e||null===t)return g();var o=l.cells.$d3(e,t);return g(o)};var p=function(e){var t=[];if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t.each=function(e){if(e)for(var i=0;i<t.length;i++)e(t[i])},t};this.$d7=function(e){var t=DayPilot.list();if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t.cssClass=function(e){return this.each(function(t){t.properties.cssClass=DayPilot.Util.addClassToString(t.properties.cssClass,e),t.update()}),this},t.removeClass=function(e){return this.each(function(t){t.properties.cssClass=DayPilot.Util.removeClassFromString(t.properties.cssClass,e),t.update()}),this},t.addClass=t.cssClass,t.html=function(e){return this.each(function(t){t.properties.html=e,t.update()}),this},t};var g=this.$d7;this.$d0={},this.$d0.scope=null,this.$d0.notify=function(e){l.$d0.scope&&l.$d0.scope.$apply(e)},this.debug=new DayPilot.Debug(this),this.$d8=function(e){if("Days"!==l.viewType)throw"Checking row start when viewType !== 'Days'";for(var t=0;t<l.rowlist.length;t++){var i=l.rowlist[t],a=i.element?i.element.data:i.data,n=a.start;if(e.getTime()>=n.getTime()&&e.getTime()<n.addDays(1).getTime())return n}return null},this.$d9=function(e){var t=l.$aT();if(e.ticks===t.ticks)return e;var i=t;if(e.ticks<t.ticks){for(var a=this.itline[0].end.ticks-this.itline[0].start.ticks;i.ticks>e.ticks;)i=i.addTime(-a);return i}if("Days"===l.viewType){var n=this.$d8(e),o=n.getTime()-l.$aT().getTime(),r=this.$b4(e.addTime(-o));if(r.current)return r.current.start.addTime(o);if(r.past)return r.previous.end.addTime(o);throw"getBoxStart(): time not found"}var r=this.$b4(e);if(r.current)return r.current.start;if(r.past)return r.previous.end;if(r.hidden){var s=r.next.start.getTime()-e.getTime(),d=r.next.end.getTime()-r.next.start.getTime(),c=Math.ceil(s/d)*d,h=r.next.start.addTime(-c);return h}throw"getBoxStart(): time not found"},this.$cK=function(e){var t=this.$cD(l.coords.y),i=e.event;if("function"!=typeof i.end)throw"e.end function is not defined";if(!i.end())throw"e.end() returns null";var n=DayPilot.DateUtil.diff(i.rawend(),i.start());n=Math.max(n,1);var o=B.useBox(n),r=i.data&&"Milestone"===i.data.type,s=l.eventHeight,d=0,c=l.coords.x;if(r&&(c+=s/2),"Manual"===l.scale){var h=function(){var e=l.getDate(l.coords.x,!0,!0),t=e.addTime(-n),i=l.getPixels(t).boxLeft,a=l.getPixels(e).boxRight,e=Math.min(a,l.coords.x);return e-i}(),u=Math.min(a.moveOffsetX?a.moveOffsetX:0,h);c=l.coords.x-u}var f=0,v="Days"===this.viewType||this.$da();if(v&&!i.part.external&&(f=this.rowlist[i.part.dayIndex].start.getTime()-this.$aT().getTime()),o&&!r){var p=l.$b4(i.start()),g=!p.hidden&&!p.past;d=i.start().getTime()-this.$d9(i.start().addTime(-f)).addTime(f).getTime(),g&&(d=function(e,t){var i=l.$db(l.$b4(e).current),a=l.$db(l.$b2(c).cell);if(i>1.2*a){for(var n=t>0?1:-1,t=Math.abs(t);t>=a;)t-=a;t*=n}return t}(i.start(),d))}var y=0;if(a.moveDragStart&&"Manual"!==l.scale)if(o){var m=i.start().addTime(-f),b=this.$d9(m);y=a.moveDragStart.getTime()-b.getTime();var w=60*l.$dc()*1e3;y=Math.floor(y/w)*w}else y=a.moveDragStart.getTime()-i.start().addTime(-f).getTime();else y=0;this.eventMoveToPosition&&(y=0);var D=this.getDate(c,!0).addTime(-y).addTime(f);a.resizing&&(D=i.start()),this.snapToGrid&&(D=this.$d9(D.addTime(-f)).addTime(f)),D=D.addTime(d);var k=D.addTime(n),C=D,x=k;if(v){C=D.addTime(-f),x=C.addTime(n);var P=t.element.data.start.getTime()-this.$aT().getTime();D=C.addTime(P),k=D.addTime(n)}var S=this.getPixels(C),A=this.getPixels(x),T=o?S.boxLeft:S.left,M=o?A.boxRight-T:A.left-T;r&&(M=s,T-=M/2);var E={};return E.top=t.top,E.left=T,E.row=t.element,E.rowIndex=t.i,E.width=M,E.start=D,E.end=k,E.relativeY=l.coords.y-t.top,E},this.$dc=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600}throw"can't guess cellDuration value"},this.$db=function(e){return e.end.ticks-e.start.ticks},this.$cN=function(e){return this.treePreventParentUsage&&this.$dd(e)},this.$dd=function(e){var t=this.rowlist[e];return t.isParent?!0:this.treeEnabled&&t.children&&t.children.length>0?!0:!1},this.$de={},this.$df=function(){if(l.treeAutoExpand){var e=this.$cK(a.moving),t=e.rowIndex,i=this.$dd(t),n=this.$de;if(n.timeout&&n.y!==t&&(clearTimeout(n.timeout),n.timeout=null),i){n.y=t;var o=!l.rowlist[n.y].expanded;!n.timeout&&o&&(n.timeout=setTimeout(function(){var e=!l.rowlist[n.y].expanded;e&&(l.$dg(n.y),l.$dh()),n.timeout=null},500))}}},this.$di=function(){var e=a.resizingShadow.clientWidth,t=a.resizingShadow.offsetLeft,i=a.resizing.event,n=a.resizing.dpBorder,o=l.rowlist[a.resizing.event.part.dayIndex],r=0;r=o.start.getTime()-l.$aT().getTime();var s=null,d=null,c=!l.snapToGrid;"left"===n?(s=l.getDate(t,c).addTime(r),d=i.rawend()):"right"===n&&(s=i.start(),d=l.getDate(t+e,c,!0).addTime(r)),a.resizingShadow.start=s,a.resizingShadow.end=d,w.update()},this.exportAs=function(e,t){var i=m.generate(e,t);return new y(i)},this["export"]=this.exportAs;var y=function(e){this.toElement=function(){return e.getElement()},this.dimensions=function(){return{width:e.getWidth(),height:e.getHeight()}},this.toHtml=function(){return e.getSource()},this.toDataUri=function(){return e.getDataUri()},this.toBlob=function(){return e.getBlob()},this.print=function(){var t=document.createElement("iframe");t.setAttribute("width",0),t.setAttribute("height",0),t.setAttribute("frameborder",0),t.setAttribute("src","about:blank"),document.body.appendChild(t);var i=t.contentWindow.document,a="BackCompat"===i.compatMode?i.body:i.documentElement;a.innerHTML=e.getSource();var n=t.contentWindow.document.execCommand("print",!1,null);n||(t.contentWindow.focus(),t.contentWindow.print()),document.body.removeChild(t)},this.download=function(t){var t=t||e.getDefaultFileName();if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e.getBlob(),t);else{var i=document.createElement("a");i.download=t,i.href=e.getDataUri(),document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i)})}}};this.$dj={};var m=this.$dj;m.getWidth=function(){var e=m.$dk;switch(e){case"viewport":return l.nav.top.offsetWidth;case"full":return l.$dl()+m.getRowHeaderWidth();case"range":return l.getPixels(m.getRangeEnd()).boxRight-l.getPixels(m.getRangeStart()).boxLeft+m.getRowHeaderWidth();default:throw"Unsupported export mode: "+e}},m.getHeight=function(){var e=m.$dk;switch(e){case"viewport":return l.nav.top.offsetHeight-DayPilot.sh(l.nav.scroll)-1;case"full":return l.$dm()+l.$aF()-DayPilot.sh(l.nav.scroll);case"range":var t=m.getRangeResStart(),i=m.getRangeResEnd();return i.top-t.top+i.height+l.$aF();default:throw"Unsupported export mode: "+e}},m.getRangeStart=function(){return new DayPilot.Date(m.$dn.dateFrom)},m.getRangeEnd=function(){return new DayPilot.Date(m.$dn.dateTo)},m.getRangeResStart=function(){return m.$dn.resourceFrom?l.$au(m.$dn.resourceFrom):l.rowlist[0]},m.getRangeResEnd=function(){return m.$dn.resourceTo?l.$au(m.$dn.resourceTo):l.rowlist.last()},m.getRowHeaderWidth=function(){return l.$aG()},m.getTimeHeaderHeight=function(){return l.$aF()},m.getCanvas=function(){return m.canvas()},m.getRectangles=function(){var e=m.getRowHeaderWidth(),t=m.getTimeHeaderHeight(),i={};i.main={x:0,y:0,w:m.getWidth(),h:m.getHeight()},i.corner={x:0,y:0,w:e,h:t},i.grid={x:e,y:t,w:m.getWidth()-e,h:m.getHeight()-t};var a=i.grid.w,n=l.itline.last();n&&n.left+n.width<i.grid.w&&(a=n.left+n.width);var o=i.grid.h,r=l.rowlist.last();return r&&r.top+r.height<i.grid.h&&(o=r.top+r.height),i.gridContent={x:e,y:t,w:a,h:o},i},m.getRows=function(){var e=m.$dk,t=DayPilot.list(),i,a,n,o;switch(e){case"viewport":i=l.$do,a=i+l.nav.scroll.offsetHeight,n=l.$cD(i).i,o=l.$cD(a).i;break;case"full":i=0,n=0,o=l.rowlist.length;break;case"range":n=m.getRangeResStart().index,o=m.getRangeResEnd().index}o<l.rowlist.length&&(o+=1);for(var r=n;o>r;r++){var s=l.rowlist[r];s.hidden||t.push(s)}return t.offset=n,t},m.getEvents=function(){var e=m.$dk;switch(e){case"full":var t=DayPilot.list();return DayPilot.list(l.rowlist).each(function(e){DayPilot.list(e.events).each(function(e){t.push(e)})}),t;case"viewport":return d.events().map(function(e){return e.event});case"range":var t=DayPilot.list(),i=m.getRangeStart(),a=m.getRangeEnd();return m.getRows().each(function(e){DayPilot.list(e.events).filter(function(e){return DayPilot.Util.overlaps(e.start(),e.end(),i,a)}).each(function(e){t.push(e)})}),t;default:throw"Unsupported export mode: "+e}},m.getTimeline=function(){var e=m.$dk;switch(e){case"full":return DayPilot.list(l.itline).addProps({offset:0});case"viewport":return m.getViewportTimeline();case"range":return m.getRangeTimeline();default:throw"Unsupported export mode: "+e}},m.getRangeTimeline=function(){var e=DayPilot.list();if(l.itline&&l.itline.length>0){var t=l.$b4(m.getRangeStart()).i,i=l.$b4(m.getRangeEnd()).i,a=l.$aE();i=Math.min(i,a-1),t=Math.max(t,0);for(var n=t;i>=n;n++){var o=l.itline[n];e.push(o)}e.offset=t}return e},m.getViewportTimeline=function(){var e=DayPilot.list();if(l.itline&&l.itline.length>0){var t=l.$dp,i=t+l.$dq,a=l.$b2(t).x,n=l.$b2(i,!0).x,o=l.$aE();n=Math.min(n,o),a=Math.max(a,0);for(var r=a;n>=r;r++){var s=l.itline[r];e.push(s)}e.offset=a}return e},m.getTimeHeader=function(e){var t=m.$dk;if("full"===t)return DayPilot.list(l.timeHeader[e]);var i=DayPilot.list(),a,n;a=m.getViewportOffsetStart(),n=a+m.getViewportOffsetWidth();var o=l.$dr(e,a),r=l.$dr(e,n);r||(r={x:l.timeHeader[e].length-1});for(var s=o.x;s<=r.x;s++){var d=l.timeHeader[e][s];i.push(d)}return i},m.fakeDurationBar=function(){var e=document.createElement("div");e.style.display="none",e.className=l.$aD(H.event);var t=document.createElement("div");t.className=l.$aD(H.eventBar);var i=document.createElement("div");return i.className=l.$aD(H.eventBarInner),document.body.appendChild(e),t.appendChild(i),e.appendChild(t),e},m.fakeCell=function(){var e=document.createElement("div");e.style.display="none",e.className=l.$aD("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=document.createElement("div");return t.className=l.$aD("_cell_inner"),e.appendChild(t),l.divCells.appendChild(e),e},m.fakeExpand=function(){var e=document.createElement("div");return e.style.display="none",e.className=l.$aD("_tree_image_expand"),document.body.appendChild(e),e},m.extractUrl=function(e){var t=/url\((")?([^"].*[^"])\1\)/.exec(e);return t?t[2]:null},m.getImages=function(){var e={},t=m.fakeExpand();return e.expand=m.extractUrl(new DayPilot.StyleReader(t).get("background-image")),t.className=l.$aD("_tree_image_collapse"),e.collapse=m.extractUrl(new DayPilot.StyleReader(t).get("background-image")),t.className=l.$aD("_tree_image_no_children"),e.nochildren=m.extractUrl(new DayPilot.StyleReader(t).get("background-image")),DayPilot.de(t),e},m.getFont=function(e){var t=new DayPilot.StyleReader(e).get("font-style"),i=new DayPilot.StyleReader(e).get("font-family"),a=new DayPilot.StyleReader(e).get("font-size");return{family:i,size:a,style:t}},m.getViewportOffsetStart=function(){var e=m.$dk;switch(e){case"full":return 0;case"viewport":return l.nav.scroll.scrollLeft;case"range":return l.getPixels(m.getRangeStart()).boxLeft}},m.getViewportOffsetTop=function(){var e=m.$dk;switch(e){case"full":return 0;case"viewport":return l.nav.scroll.scrollTop;case"range":return m.getRangeResStart().top}},m.getViewportOffsetWidth=function(){var e=m.$dk;switch(e){case"full":return l.$dl();case"viewport":return l.nav.scroll.offsetWidth;case"range":return l.getPixels(m.getRangeEnd()).boxRight-m.getViewportOffsetStart()}},m.excelBoard=function(){var e=new DayPilot.Excel,t=e.worksheets.create("Scheduler"),i=new DayPilot.StyleReader(l.nav.corner).get("background-color"),a=new DayPilot.StyleReader(l.nav.top).get("border-top-color"),n=DayPilot.list(l.elements.events).map(function(e){return e.firstChild}).last(),o=new DayPilot.StyleReader(n).get("border-right-color");e.styles.getDefault().setBackColor("#ffaaaa");var r=e.styles.create();r.setHorizontalAlignment("Center"),r.setBackColor(i),r.setBorderColor(a);var s=e.styles.create();s.setVerticalAlignment("Top"),s.setBackColor(i),s.setBorderColor(a);var d=e.styles.create();d.setVerticalAlignment("Top"),d.setBackColor("#ff0000"),d.setBorderColor(o),t.enableGridlines(!1),t.cell(0,0).setRowspan(l.timeHeader.length).setStyle(r),t.cell(10,10).setText("hi there"),DayPilot.list(l.timeHeader).each(function(e,i){var a={x:1,y:0};m.getTimeHeader(i,"full").each(function(e,n){var o=e.colspan;t.cell(n+a.x,i+a.y).setText(e.innerHTML).setColspan(o).setStyle(r)})}),DayPilot.list(l.rowlist).each(function(e,i){for(var a={x:0,y:1},n="",o=0;o<e.level;o++)n+="  ";t.cell(a.x,i+a.y).setText(n+e.html).setRowspan(e.lines.length).setStyle(s)});var c={x:0,y:l.timeHeader.length},h=c.y;return DayPilot.list(l.rowlist).each(function(e,i){DayPilot.list(e.lines).each(function(e,a){var n=c.x;DayPilot.list(e).each(function(e){var a=l.$b4(e.start()).i,o=l.$b4(e.end()).i,r=1+o-a;t.cell(a+n,i+h).setText(e.client.html()).setColspan(r).setStyle(d),n+=r-1})}),h+=e.lines.length-1}),e},m.$dn=null,m.$dk=null,m.generate=function(e,t){"object"==typeof e&&(t=e,e=null);var t=t||{},e=e||t.format||"svg",i=t.scale||1;if("xls"===e)return m.excelBoard();var a=t.area||"viewport";m.$dn=t,m.$dk=a;var n=m.getWidth(),o=m.getHeight(),r;switch(e.toLowerCase()){case"svg":r=new DayPilot.Svg(n,o);break;case"png":r=new DayPilot.Canvas(n,o,"image/png",i);break;case"jpg":r=new DayPilot.Canvas(n,o,"image/jpeg",i);break;default:throw"Export format not supported: "+e}var s=m.getRectangles(),d=m.getImages(),c=new DayPilot.StyleReader(l.nav.top).get("background-color"),h=new DayPilot.StyleReader(l.nav.corner).get("background-color"),u=new DayPilot.StyleReader(l.nav.top).get("border-top-color"),f=new DayPilot.StyleReader(l.nav.divider).get("background-color"),v=DayPilot.list(l.elements.events).map(function(e){return e.firstChild}).last(),p=new DayPilot.StyleReader(v).get("border-right-color"),g=m.getFont(v),y=new DayPilot.StyleReader(v).get("color"),b=m.fakeDurationBar(),w=new DayPilot.StyleReader(b.firstChild).get("background-color"),D=new DayPilot.StyleReader(b.firstChild.firstChild).get("background-color");DayPilot.de(b);var k=m.fakeCell(),C=new DayPilot.StyleReader(k).get("background-color");DayPilot.Util.addClass(k,l.$aD("_cell_business"));var x=new DayPilot.StyleReader(k).get("background-color"),P=m.getFont(k),S=new DayPilot.StyleReader(k).get("color");DayPilot.de(k);var A=DayPilot.Util.firstPropValue(l.$9R.linesVertical),T=new DayPilot.StyleReader(A).get("background-color"),M=m.getFont(l.$9R.timeHeader["0_0"]),E=new DayPilot.StyleReader(l.$9R.timeHeader["0_0"]).get("color"),H=m.getViewportOffsetStart(),_=m.getViewportOffsetTop();r.fillRect(s.main,"white"),r.fillRect(s.main,c),r.fillRect(s.corner,h),DayPilot.list(l.timeHeader).each(function(e,t){m.getTimeHeader(t,a).each(function(e){var i=s.grid.x+e.left-H,a=t*l.headerHeight,n=e.width,o=l.headerHeight,d=Math.max(0,s.grid.x-i);i+=d,n-=d;var d=Math.max(0,i+n-(s.grid.x+s.grid.w));n-=d;var c={x:i,y:a,w:n+1,h:o+1};r.fillRect(c,h),r.rect(c,u),r.text(c,e.innerHTML,M,E,"center")})}),m.getTimeline().each(function(e){var t=s.grid.x+e.left-H,i=Math.max(0,s.grid.x-t);t+=i,t!==s.grid.x&&r.line(t,s.grid.y+1,t,s.grid.y+s.grid.h-2,T)});var R="function"==typeof l.onBeforeCellExport;return m.getRows().each(function(e,t,i){var t=i.offset+t;m.getTimeline().each(function(i,a,n){var a=n.offset+a,o=l.$d6(a,t),d=l.$ds(a,t),c=o.html;R&&(d||(d={},d.cell=l.cells.findXy(a,t)[0]),d.text=c,l.onBeforeCellExport(d),c=d.text);var h=s.grid.y+e.top-_,u=Math.max(0,s.grid.y-h);h+=u;var f=s.grid.x+i.left-H,v=Math.max(0,s.grid.x-f);f+=v;var p=o.business,g=o.backColor||(p?x:C),y={x:f,y:h,w:i.width,h:e.height};r.fillRect(y,g);var m={};m.x=y.x+1,m.y=y.y+1,m.w=y.w-2,m.h=y.h-2,c&&r.text(m,c,P,S)})}),m.getRows().each(function(e){var t=s.grid.y+e.top-_,i=Math.max(0,s.grid.y-t);t+=i,t!==s.grid.y&&r.line(s.gridContent.x+1,t,s.gridContent.x+s.gridContent.w-1,t,T)}),m.getRows().each(function(e){var t=s.grid.y+e.top-_,i=Math.max(0,s.grid.y-t);t+=i;var a=10,n=e.level*l.treeIndent+l.treeImageMarginLeft,o={x:0,y:t,w:s.grid.x+1,h:e.height+1},c=e.html,f={x:n,y:t+l.treeImageMarginTop,w:10,h:10},v={x:n+a+3,y:t,w:o.w-(n+a),h:e.height+1};r.fillRect(o,h),r.text(v,c,M,E),r.rect(o,u);var p=null;p=DayPilot.list(e.children).isEmpty()?d.nochildren:e.expanded?d.collapse:d.expand,r.image(f,p)}),m.getEvents().each(function(e){var t=l.rowlist[e.part.dayIndex].top,i=e.part.width,a=e.part.barWidth,n=e.client&&e.client.barVisible&&e.client.barVisible(),o=s.grid.y+t+e.part.top-_,d=Math.max(0,s.grid.y-o);o+=d;var c=s.grid.x+e.part.left-H,h=Math.max(0,s.grid.x-c);c+=h,i-=h,a-=h;var u=e.cache||e.data,f=u.barColor||D,v=u.barBackColor||w,m=u.backColor||"white",b=5,k=2,C=2,x={};x.e=e,x.text=e.text?e.text():e.client.html(),"function"==typeof l.onBeforeEventExport&&l.onBeforeEventExport(x);var P={x:c,y:o,w:i,h:e.part.height},S={x:c,y:o,w:i,h:b},A={x:c+e.part.barLeft,y:o,w:a,h:b},T={x:c+k,y:o+b,w:i-k,h:e.part.height-b};r.fillRect(P,m),r.text(P,x.text,g,y,"left",C),r.rect(P,p),n&&(r.fillRect(S,v),a>0&&r.fillRect(A,f))}),r.rect(s.main,u),r.line(s.grid.x,0,s.grid.x,s.main.h,f),r.line(0,s.grid.y,s.main.w,s.grid.y,f),r},this.$dt={};var b=this.$dt;b.findJointDivs=function(e){var t=e.data.join;if(!t)return DayPilot.list();var i=DayPilot.list(l.elements.events).filter(function(i){return i.event.data.join===t&&i.event!==e});return i},this.$du={};var w=this.$du;w.divs=[],w.list=[],w.forbidden=!1,w.additional=function(){var e=DayPilot.list(),t=l.multiselect.isSelected(a.resizing.event),i=l.allowMultiResize,e=DayPilot.list();if(t&&i&&(e=DayPilot.list(l.multiselect.divs).filter(function(e){return e!==a.resizing})),l.jointEventsResize){var n=b.findJointDivs(a.resizing.event);e=e.concat(n)}return e},w.update=function(){w.clear(),w.draw()},w.clear=function(){DayPilot.de(w.divs),w.divs=[]},w.draw=function(){if(a.resizing){var e=a.resizing.event,t=a.resizingShadow,i=t.start.getTime()-e.start().getTime(),n=t.end.getTime()-e.end().getTime(),o=0;if(w.list=[],w.forbidden=!1,w.invalid=!1,w.rowoffset=o,w.additional().each(function(e){if(e.event){var t=e.event,a=l.rowlist[t.part.dayIndex+o];if(!a)return void(w.invalid=!0);var r=t.part.top+a.top,s=t.part.height;o&&(r=a.top,s=a.height);var d=t.start().addTime(i),c=t.end().addTime(n),h={};h.event=t,h.start=d,h.end=c,h.overlapping=!1,w.list.push(h);var u=l.getPixels(d),f=l.getPixels(c),v=DayPilot.DateUtil.diff(t.rawend(),t.start());v=Math.max(v,1);var p=B.useBox(v),g=p?u.boxLeft:u.left,y=p?f.boxRight-g:f.left-g,m=document.createElement("div");m.style.position="absolute",m.style.left=g+"px",m.style.top=r+"px",m.style.height=s+"px",m.style.width=y+"px",m.style.zIndex=101,m.style.overflow="hidden",m.className=l.$aD("_shadow"),m.info=h;var b=document.createElement("div");b.className=l.$aD("_shadow_inner"),m.appendChild(b),l.$as.appendChild(m),w.divs.push(m)}}),w.invalid){var r=l.$aD("_shadow_overlap");return void DayPilot.list(w.divs).each(function(e){DayPilot.Util.addClass(e,r)})}DayPilot.list(w.divs).each(function(e){if(e.info){var t=e,i=e.info,n=e.info.event,r=l.rowlist[n.part.dayIndex+o],s=l.getPixels(i.start),d=l.getPixels(i.end),c=s.left,h=d.left-c,u=DayPilot.list(w.list).map(function(e){return e.event.data}).add(a.resizing.event.data);l.$dv(t,r,c,h,u),t.overlapping&&(i.overlapping=!0,w.forbidden=!0)}})}},this.$dw={};var D=this.$dw;D.divs=[],D.list=[],D.forbidden=!1,D.verticalAll=function(){return"All"===l.multiMoveVerticalMode},D.additional=function(){var e=DayPilot.list(),t=l.multiselect.isSelected(a.movingEvent),i=l.allowMultiMove,e=DayPilot.list();if(t&&i&&(e=DayPilot.list(l.multiselect.divs).filter(function(e){return e!==a.moving&&e!==M.moving})),l.jointEventsMove){var n=b.findJointDivs(a.movingEvent);e=e.concat(n)}return e},D.update=function(){D.clear(),D.draw()},D.draw=function(){if(a.moving){var e=a.movingEvent,t=a.movingShadow.start,i=t.getTime()-e.start().getTime(),n=e.part.dayIndex,o=DayPilot.indexOf(l.rowlist,a.movingShadow.row),r=o-n;if(D.verticalAll()||(r=0),D.list=[],D.forbidden=!1,D.invalid=!1,D.rowoffset=r,D.additional().each(function(e){if(e.event){var t=e.event,a=l.rowlist[t.part.dayIndex+r];if(!a)return void(D.invalid=!0);var n=t.part.top+a.top,o=t.part.height;r&&(n=a.top,o=a.height);var s=t.start().addTime(i),d=t.end().addTime(i),c={};c.event=t,c.start=s,c.end=d,c.overlapping=!1,D.list.push(c);var h=l.getPixels(s),u=l.getPixels(d),f=DayPilot.DateUtil.diff(t.rawend(),t.start());f=Math.max(f,1);var v=B.useBox(f),p=v?h.boxLeft:h.left,g=v?u.boxRight-p:u.left-p,y=document.createElement("div");y.style.position="absolute",y.style.left=p+"px",y.style.top=n+"px",y.style.height=o+"px",y.style.width=g+"px",y.style.zIndex=101,y.style.overflow="hidden",y.className=l.$aD("_shadow"),y.info=c;var m=document.createElement("div");m.className=l.$aD("_shadow_inner"),y.appendChild(m),l.$as.appendChild(y),D.divs.push(y)}}),D.invalid){var s=l.$aD("_shadow_overlap");return void DayPilot.list(D.divs).each(function(e){DayPilot.Util.addClass(e,s)})}DayPilot.list(D.divs).each(function(e){if(e.info){var t=e,i=e.info,n=e.info.event,o=l.rowlist[n.part.dayIndex+r],s=l.getPixels(i.start),d=l.getPixels(i.end),c=s.left,h=d.left-c,u=DayPilot.list(D.list).map(function(e){return e.event.data}).add(a.movingEvent.data);l.$dv(t,o,c,h,u),t.overlapping&&(i.overlapping=!0,D.forbidden=!0)}})}},D.clear=function(){DayPilot.de(D.divs),D.divs=[]},this.$dx=function(){var e=l.coords,t=a.resizing.dpBorder,i=a.resizing.event,n=i.part.left;"right"==t&&(n+=i.part.width);var o=a.resizing.event.calendar.cellWidth,r=a.resizing.event.part.width,s=a.resizing.event.part.left,d=0,c=e.x-n,h,u;if("right"===t){if(h=s,l.snapToGrid){var f=l.$b2(r+s+c).cell,v=f.left+f.width;u=v-s,o>u&&(u=o)}else u=r+c;var p=l.$dl();s+u>p&&(u=p-s),a.resizingShadow.style.width=u+"px"}else{if("left"!==t)throw"Invalid dpBorder.";l.snapToGrid?(c>=r&&(c=r),h=Math.floor((s+c+0)/o)*o,d>h&&(h=d)):h=s+c,u=r-(h-s);var g=s+r,y=o;l.snapToGrid?"Never"===l.useEventBoxes&&(y=o>r?r:1):y=1,y>u&&(u=y,h=g-u),a.resizingShadow.style.left=h+"px",a.resizingShadow.style.width=u+"px"}!function m(){var e=a.resizing.event,t=l.rowlist[e.part.dayIndex],i=h,n=u;l.$dv(a.resizingShadow,t,i,n,e.data)}(),l.$dy()},this.$dh=function(){var e=this.nav.scroll;if(l.coords&&a.moving){l.$aH();var t=a.movingShadow,i=this.$cK(a.moving);if(!l.$cN(i.rowIndex)){var n=a.movingEvent,o=0,r=0;!function m(){if(l.cellStacking){var e=i.relativeY,t=l.$b2(i.left).x,a=i.row,n=a.evColumns[t],s=n.events.find(function(t){return e<t.part.top+t.part.height+l.eventMarginBottom});s||(s=n.events.last()),s&&(r=s.part.top,o=DayPilot.indexOf(n.events,s),e-s.part.top>s.part.height/2&&(r=s.part.top+s.part.height+l.eventMarginBottom/2,o+=1))}else{for(var e=i.relativeY,a=i.row,d=0,c=l.$cL.eventHeight(),h=a.lines.length,u=0;u<a.lines.length;u++){var f=a.lines[u];if(f.isFree(i.left,l.cellWidth)){h=u;break}}var v=Math.floor((e-d+c/2)/c),v=Math.min(h,v),v=Math.max(0,v);
o=v,r=l.rowMarginTop+o*(l.$cL.eventHeight()+l.eventMarginBottom)+l.eventMarginBottom/2}}(),r>0&&(r-=3);var s=n.cache&&"undefined"!=typeof n.cache.moveVDisabled?!n.cache.moveVDisabled:!n.data.moveVDisabled,d=n.cache&&"undefined"!=typeof n.cache.moveHDisabled?!n.cache.moveHDisabled:!n.data.moveHDisabled,c=!D.additional().isEmpty();if(c&&"Disabled"===l.multiMoveVerticalMode&&(s=!1),s)if(this.$cN(i.rowIndex)){var h=t.row,u=1;if(!h)return;u=i.rowIndex<h.index?1:-1;for(var f=i.rowIndex;f!==h.index;f+=u){var v=this.rowlist[f];if(!this.$cN(f)&&!v.hidden){t.style.top=v.top+"px",t.style.height=Math.max(v.height,0)+"px",t.row=v,l.eventMoveToPosition&&(o=u>0?0:v.lines.length-1,t.style.top=i.top+r+"px",t.style.height="3px",t.line=o);break}}}else t.row=i.row,t.style.height=Math.max(i.row.height,0)+"px",t.style.top=i.top+"px",l.eventMoveToPosition&&(t.style.top=i.top+r+"px",t.style.height="3px",t.line=o);else{for(var h=l.rowlist[n.part.dayIndex],p=h.lines.length,f=0;f<h.lines.length;f++){var g=h.lines[f];if(g.isFree(i.left,l.cellWidth)){p=f;break}}if(c||(t.style.height=Math.max(h.height,0)+"px",t.style.top=h.top+"px"),t.row=h,l.eventMoveToPosition&&!c)if(i.row===h)t.style.top=h.top+r+"px",t.style.height="3px",t.line=o;else{var y=i.rowIndex>h.index&&p>0?p*l.$cL.eventHeight()-3:0;t.style.top=h.top+y+"px",t.style.height="3px",t.line=0}}d?(t.style.left=i.left+"px",t.style.width=l.eventMoveToPosition?l.cellWidth+"px":i.width+"px",t.start=i.start,t.end=i.end):(t.style.left=n.part.left+"px",t.start=n.start(),t.end=n.rawend()),function b(){var e=t.row,a=n.data,o=i.width,r=i.left,s=DayPilot.list(D.list).map(function(e){return e.event.data}).add(a);l.$dv(t,e,r,o,s)}(),function(){var e=l.$bW;if(!e||e.start.getTime()!==t.start.getTime()||e.end.getTime()!==t.end.getTime()||e.resource!==t.row.id){D.update();var i={};i.start=t.start,i.end=l.$bm(t.end),i.duration=new DayPilot.Duration(i.start,i.end),i.e=n,i.resource=t.row.id,i.row=l.$ce(t.row),i.position=t.line,i.overlapping=t.overlapping||D.forbidden,i.allowed=!0,i.left={},i.left.html=i.start.toString(l.eventMovingStartEndFormat,B.locale()),i.left.enabled=l.eventMovingStartEndEnabled,i.right={},i.right.html=i.end.toString(l.eventMovingStartEndFormat,B.locale()),i.right.enabled=l.eventMovingStartEndEnabled,i.multimove=DayPilot.list(D.list);var o={};o.event=n,o.start=i.start,o.end=i.end,i.multimove.splice(0,0,o),l.$bW=i;var r={start:i.start,end:i.end};if("function"==typeof l.onEventMoving&&l.onEventMoving(i),t.allowed=i.allowed,i.start!==r.start||i.end!==r.end){var s=i.start,d=l.$bT(i.end);t.start=s,t.end=d;var c=DayPilot.DateUtil.diff(s,d);c=Math.max(c,1);var h=B.useBox(c),u=h?l.getPixels(s).boxLeft:l.getPixels(s).left,f=h?l.getPixels(d).boxRight:l.getPixels(d).left;t.style.left=u+"px",t.style.width=f-u+"px"}l.$dz(t,i),DayPilot.Util.addClass(a.moving,l.$aD(H.eventMovingSource)),l.$dA(a.movingShadow,i)}}()}}},this.$dv=function(e,t,i,a,n){if(!l.allowEventOverlap){!function s(){e.overlapping=!1;for(var o=0;o<t.lines.length;o++){var r=t.lines[o];if(!r.isFree(i,a,n))return void(e.overlapping=!0)}if(l.allowMultiRange){var s=t.index,d=DayPilot.list(R.list).some(function(t){var n=t.div,o=parseInt(n.style.left),r=parseInt(n.style.width),l=t.start.y;return e===n?!1:l!==s?!1:DayPilot.Util.overlaps(i,i+a,o,o+r)});return d?void(e.overlapping=!0):void 0}}();var o=e.overlapping,r=l.$aD("_shadow_overlap");o?DayPilot.Util.addClass(e,r):DayPilot.Util.removeClass(e,r)}},this.$dz=function(e,t){var i=l.$aD("_shadow_forbidden");!t.allowed||D.invalid?DayPilot.Util.addClass(e,i):DayPilot.Util.removeClass(e,i)},this.$dA=function(e,t){var i=5;this.$dB();var a={};a.left=parseInt(e.style.left),a.top=parseInt(e.style.top),a.right=a.left+parseInt(e.style.width);var n=t.left.width||10,o=document.createElement("div");if(o.style.position="absolute",o.style.left=a.left-n-i+"px",o.style.top=a.top+"px",o.style.height=l.eventHeight+"px",o.style.overflow="hidden",o.style.boxSizing="border-box",o.innerHTML=t.left.html,o.className=this.$aD("_event_move_left"),t.left.enabled)if(l.divHover.appendChild(o),t.left.width)o.style.width=n+"px";else{o.style.whiteSpace="nowrap";var r=o.offsetWidth,s=a.left-r-i;o.style.width=r+"px",o.style.left=s+"px";var d=l.nav.scroll.scrollLeft;d>s&&l.divHover.removeChild(o);var c=l.$dC()+(s-d);c>0&&(o.style.left=c+"px",o.style.top=a.top-l.nav.scroll.scrollTop+l.$aF()+"px",l.nav.top.appendChild(o),l.elements.hover.push(o))}var h=document.createElement("div");if(h.style.position="absolute",h.style.left=a.right+i+"px",h.style.top=a.top+"px",h.style.height=l.eventHeight+"px",h.style.overflow="hidden",h.style.boxSizing="border-box",t.right.width?h.style.width=t.right.width+"px":h.style.whiteSpace="nowrap",h.innerHTML=t.right.html,h.className=this.$aD("_event_move_right"),t.right.enabled){l.divHover.appendChild(h);var u=l.nav.scroll.scrollWidth,f=a.right+i+h.offsetWidth;f>=u&&l.divHover.removeChild(h)}},this.$dB=function(){l.divHover.innerHTML="",DayPilot.de(l.elements.hover),l.elements.hover=[]},this.$dD=function(){var e=l.rowHeaderColumnDefaultWidth;this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width",e))},this.$dC=function(){var e=0;if(this.$dD(),this.rowHeaderCols)for(var t=0;t<this.rowHeaderCols.length;t++)e+=this.rowHeaderCols[t];else e=this.rowHeaderWidth;return e},this.$dE=function(){return this.$dF(l.progressiveRowRenderingPreload)},this.$dF=function(e){var e=e||0,t=0,i=l.rowlist.length,a=l.progressiveRowRendering;if(a){var n=l.$aw();t=n.yStart,i=n.yEnd+1,t=Math.max(0,t-e),i=Math.min(l.rowlist.length,i+e)}return{start:t,end:i}},this.$dG=function(){if(this.$dH()&&this.rowHeaderWidthAutoFit){var e=this.divHeader;if(e&&e.rows){for(var t=[],i=l.$dE(),a=i.start;a<i.end;a++){var n=e.rows[a];if(n&&!n.hidden&&!n.autofitDone){n.autofitDone=!0;for(var o=0;o<n.cells.length;o++){var r=n.cells[o].firstChild.firstChild;if(r&&r.style){var s=r.style.width,d=r.style.right;r.style.position="absolute",r.style.width="auto",r.style.right="auto",r.style.whiteSpace="nowrap";var c=r.offsetWidth+2;r.style.position="",r.style.width=s,r.style.right=d,r.style.whiteSpace="","undefined"==typeof t[o]&&(t[o]=0),t[o]=Math.max(t[o],c)}}}}var h=0,u=!1;if(this.$dD(),this.rowHeaderCols)for(var a=0;a<t.length;a++)this.rowHeaderCols[a]&&(t[a]>this.rowHeaderCols[a]&&(this.rowHeaderCols[a]=t[a],u=!0),h+=this.rowHeaderCols[a]);else h=this.rowHeaderWidth,this.rowHeaderWidth<t[0]+l.rowHeaderWidthMarginRight&&(h=t[0]+l.rowHeaderWidthMarginRight,u=!0);l.progressiveRowRendering,u&&(this.$dI&&(this.$dI.widths=this.rowHeaderCols,this.$dI.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=h),this.$bI(),this.$dJ())}}},this.$a5=function(){this.$dK=!0,this.$dD();var e=this.$dC(),t=this.divHeader;t?(t.innerHTML="",DayPilot.puc(t)):(t=document.createElement("div"),t.onmousemove=function(){l.$dL()},this.divHeader=t),t.style.width=e+"px",t.style.height=l.$9Q+"px",t.rows=[];var i=l.progressiveRowRendering;if(i)n();else for(var a=this.rowlist.length,o=0;a>o;o++)l.$dM(o);l.$dN(),this.divResScroll.appendChild(t),this.rowHeaderWidthAutoFit&&this.$dG()},this.$bJ=function(){if(l.progressiveRowRendering){for(var e=this.$dE(),t=0;t<l.rowlist.length;t++)e.start<=t&&t<e.end?l.$dM(t):l.$dO(t);if(this.rowHeaderWidthAutoFit){var i=l.$aG();this.$dG();var a=l.$aG();if(a!==i){var n=this.cellWidth;this.$a0();var o=this.cellWidth;o!==n&&(this.$a1(),this.$a6(),this.$ac(),this.$a4())}}}},this.$dN=function(){var e=l.divHeader,t=this.rowHeaderCols,i=t?this.rowHeaderCols.length:0,a=this.$dC(),n=document.createElement("div");n.style.position="absolute",n.style.top=this.$9Q+"px",n.colSpan=i+1,n.style.width=a+"px",n.style.height=l.divResScroll.clientHeight+20+"px",e.appendChild(n),l.nav.resScrollSpace=n,n.setAttribute("unselectable","on");var o=document.createElement("div");o.style.position="relative",o.style.height="100%",o.className=this.$aD("_rowheader"),n.appendChild(o)},this.$dO=function(e){var t=l.divHeader.rows[e];t&&(DayPilot.de(t.cells),l.divHeader.rows[e]=null)},this.$bN=function(e){this.$dO(e),this.$dM(e)},this.$dM=function(e){var t=l.divHeader,i=this.divHeader;if(!i.rows[e]){var a=this.rowHeaderCols,n=a?this.rowHeaderCols.length:0,o=this.$dC(),r=this.rowlist[e];if(r&&!r.hidden){var s=this.$dP(r);i.rows[e]={},i.rows[e].cells=[];var d=document.createElement("div");d.style.position="absolute",d.style.top=r.top+"px",d.row=r,d.index=e;var h=s.row,u=a?a[0]:this.rowHeaderWidth;d.style.width=u+"px",d.style.border="0px none",h.toolTip&&(d.title=h.toolTip),d.setAttribute("unselectable","on"),d.onmousemove=l.$dQ,d.onmouseout=l.$dR,d.onmouseup=l.$dS,d.oncontextmenu=l.$dT,d.onclick=l.$dU,d.ondblclick=l.$dV;var f=document.createElement("div");f.style.width=u+"px",f.setAttribute("unselectable","on"),f.className=this.$aD("_rowheader"),h.cssClass&&DayPilot.Util.addClass(f,h.cssClass),h.backColor&&(f.style.background=h.backColor),f.style.height=r.height+"px",f.style.overflow="hidden",f.style.position="relative";var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.$aD("_rowheader_inner"),f.appendChild(v);var p="Disabled"!==this.rowMoveHandling,g=10,y=h.areas||[];p&&!h.moveDisabled&&y.push({v:"Hover",w:g,bottom:0,top:0,left:0,css:l.$aD("_rowmove_handle"),action:"Move"});var m=l.$ce(r);DayPilot.Areas.attach(f,m,{areas:y,allowed:function(){return!c.row}});var b=document.createElement("div");if(b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.$aD(H.resourcedivider),f.appendChild(b),function _(){if(l.treeEnabled&&!r.isNewRow){var t=r.level*l.treeIndent+l.treeImageMarginLeft;p&&(t+=g);var i=10,a=document.createElement("div");a.style.width="10px",a.style.height=i+"px",a.style.backgroundRepeat="no-repeat",a.style.position="absolute",a.style.left=t+"px",a.style.top=l.treeImageMarginTop+"px",r.loaded||0!==r.children.length?r.children.length>0?(a.className=l.$aD(r.expanded?"_tree_image_collapse":"_tree_image_expand"),a.style.cursor="pointer",a.index=e,a.onclick=function(e){l.$dg(this.index),e=e||window.event,e.cancelBubble=!0}):a.className=l.$aD("_tree_image_no_children"):(a.className=l.$aD("_tree_image_expand"),a.style.cursor="pointer",a.index=e,a.onclick=function(e){l.$dW(this.index),e=e||window.event,e.cancelBubble=!0}),v.appendChild(a)}var n=document.createElement("div");l.treeEnabled&&(n.style.marginLeft=t+i+"px"),n.innerHTML=h.html,d.textDiv=n,d.cellDiv=f,v.appendChild(n)}(),d.appendChild(f),h.areas)for(var w=0;w<h.areas.length;w++){var D=h.areas[w],k=D.v||"Visible";if("Visible"===k){var C=l.$ce(r),x=DayPilot.Areas.createArea(f,C,D);f.appendChild(x)}}if(t.appendChild(d),i.rows[e].cells.push(d),r.columns&&0!==r.columns.length)for(var P=u,w=1;n>w;w++){var S=h.columns[w-1]||{},d=document.createElement("div");d.style.position="absolute",d.style.top=r.top+"px",d.style.left=P+"px",t.appendChild(d),i.rows[e].cells.push(d),d.row=r,d.index=e,h.toolTip&&(d.title=h.toolTip),d.setAttribute("unselectable","on"),d.onmousemove=l.$dQ,d.onmouseout=l.$dR,d.onmouseup=l.$dS,d.oncontextmenu=l.$dT,d.onclick=l.$dU,d.ondblclick=l.$dV;var f=document.createElement("div"),A=a[w];P+=A;var T=S.backColor||h.backColor;T&&(f.style.backgroundColor=T),f.style.width=A+"px",f.style.height=r.height+"px",f.style.overflow="hidden",f.style.position="relative",f.setAttribute("unselectable","on"),DayPilot.Util.addClass(f,this.$aD("_rowheader")),DayPilot.Util.addClass(f,this.$aD("_rowheadercol")),DayPilot.Util.addClass(f,this.$aD("_rowheadercol"+w)),h.cssClass&&DayPilot.Util.addClass(f,h.cssClass),S.cssClass&&DayPilot.Util.addClass(f,S.cssClass);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.$aD("_rowheader_inner"),f.appendChild(v);var b=document.createElement("div");b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.$aD("_resourcedivider"),f.appendChild(b);var M=document.createElement("div"),E=S.html||"";M.innerHTML=E,d.textDiv=M,d.cellDiv=f,v.appendChild(M),d.appendChild(f)}else d.colSpan=n>0?n:1,f.style.width=o+"px"}}},this.$dT=function(){var e=this.row;return e.contextMenu&&e.contextMenu.show(l.$ce(e)),!1},this.$dU=function(e){if(!x.cancelClick){var t=this.row,i=l.$ce(t,this.index);return t.isNewRow?void l.$ci.edit(t):void l.$cf(i,e.ctrlKey,e.shiftKey,e.metaKey)}},this.$dV=function(e){if(l.timeouts.resClick){for(var t in l.timeouts.resClick)window.clearTimeout(l.timeouts.resClick[t]);l.timeouts.resClick=null}var i=this.row,a=l.$ce(i,this.index);if(l.$aq()){var n={};if(n.resource=a,n.row=a,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onRowDoubleClick&&(l.onRowDoubleClick(n),n.preventDefault.value))return;switch(l.rowDoubleClickHandling){case"PostBack":l.rowDoubleClickPostBack(a);break;case"CallBack":l.rowDoubleClickCallBack(a);break;case"Select":l.$ch(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":l.$ci.edit(i)}"function"==typeof l.onRowDoubleClicked&&l.onRowDoubleClicked(n)}else switch(l.rowDoubleClickHandling){case"PostBack":l.rowDoubleClickPostBack(a);break;case"CallBack":l.rowDoubleClickCallBack(a);break;case"JavaScript":l.onRowDoubleClick(a);break;case"Select":l.$ch(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":l.$ci.edit(i)}},this.rowDoubleClickPostBack=function(e,t){var i={};i.resource=e,this.$b8("RowDoubleClick",i,t)},this.rowDoubleClickCallBack=function(e,t){var i={};i.resource=e,this.$b9("RowDoubleClick",i,t)},this.$dX=function(e){var t={};t.start=this.cell.start,t.level=this.cell.level,t.end=this.cell.end,t.end||(t.end=new DayPilot.Date(t.start).addMinutes(l.cellDuration)),l.$cj(t)},this.$ce=function(e){return new DayPilot.Row(e,l)},this.$aU=function(e){var t=this.rowlist[e];if(t.events||t.resetEvents(),!t.data){t.data={},t.data.start=new DayPilot.Date(t.start),t.data.startTicks=t.data.start.getTime();var i=this.$aX().getTime()-this.$aT().getTime();t.data.end=B.isResourcesView()?t.data.start.addTime(i):t.data.start.addDays(1),t.data.endTicks=t.data.end.getTime(),t.data.offset=t.start.getTime()-this.$aT().getTime(),t.data.i=e}},this.$a4=function(e){e?this.events.list=e:this.events.list||(this.events.list=[]),k.prepareRows(!0);for(var t=this.events.list,i=t.length,a="function"==typeof this.onBeforeEventRender,n,o="Resources"===l.viewType,r=0;i>r;r++){var s=t[r];if(s){if(s instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";a&&this.$cY(r),"*"===s.resource?n=l.rowlist:o?n=DayPilot.list(k.rowcache[s.resource]).concat(k.rowcache["*"]):"Days"===l.viewType?n=l.rowlist:"Gantt"===l.viewType&&(n=k.rowcache[s.id]);for(var d=0;n&&d<n.length;d++){var c=n[d],h=this.$cZ(s,c);h&&a&&(h.cache=this.$9R.events[r])}}}DayPilot.list(l.rowlist).each(function(e){l.$dY(e)}),this.$bt()},this.$dZ=function(e){var t=[],i=[],a=null;if(e&&$5A){for(var n=e,a=[],o=0;o<n.length;o++){for(var r=n[o],s=!1,d=0;d<this.events.list.length;d++){var c=this.events.list[d];if(c.id===r.id&&c.start.toString()===r.start.toString()&&c.resource===r.resource){var h=l.events.$bq(c);i=i.concat(h),this.events.list[d]=r,s=!0;break}}s||a.push(r)}this.events.list=this.events.list.concat(a)}else e?this.events.list=e:this.events.list||(this.events.list=[]);var u=a||this.events.list;e?this.events.list=e:this.events.list||(this.events.list=[]);var u=this.events.list,f=u.length;if("function"==typeof this.onBeforeEventRender)for(var v=a?this.events.list.length-a.length:0,p=this.events.list.length,o=v;p>o;o++)this.$cY(o);var g=!this.$cX(),y=!0;if(y){var m=!a||"undefined"==typeof D.events;k.prepareRows(m);for(var d=0;u&&f>d;d++)if(!t[d]){var b=u[d];if(b){var h=[];h="*"===b.resource?l.rowlist:"Days"===l.viewType?l.rowlist:"Gantt"===l.viewType?k.rowcache[b.id]:k.rowcache[b.resource];for(var w=0;h&&w<h.length;w++){var D=h[w],C=this.$cZ(b,D);C&&("function"==typeof this.onBeforeEventRender&&(C.cache=this.$9R.events[d+v]),i.push(D.index))}}}}else for(var o=0;o<this.rowlist.length;o++){var D=this.rowlist[o];if(a&&"undefined"!=typeof D.events||D.resetEvents(),l.$aU(o),!this.$cN(o))for(var d=0;u&&f>d;d++)if(!t[d]){var r=u[d],C=this.$cZ(r,D);C&&("function"==typeof this.onBeforeEventRender&&(C.cache=this.$9R.events[d+v]),i.push(o),g&&"*"!==C.data.resource&&C.part.start.getTime()===C.start().getTime()&&C.part.end.getTime()===C.rawend().getTime()&&(t[d]=!0))}}for(var o=0;o<this.rowlist.length;o++){var D=this.rowlist[o];this.$dY(D)}return this.$bt(),DayPilot.ua(i)},this.$e0={};var k=this.$e0;k.rowCache={},k.prepareRows=function(e){k.rowcache={};for(var t=0;t<l.rowlist.length;t++){var i=l.rowlist[t];if(e&&i.resetEvents(),l.$aU(t),i.id){var a=i.id.toString();k.rowcache[a]||(k.rowcache[a]=DayPilot.list()),k.rowcache[a].push(i)}}},k.loadEvent=function(e){},this.$cX=function(){var e={};if("Resources"!==l.viewType)return!1;for(var t=0;t<l.rowlist.length;t++){var i=l.rowlist[t],a=i.id;if(e[a])return!0;e[a]=!0}return!1},this.$cY=function(e){var t=this.$9R.events,i=this.events.list[e],a={};i instanceof DayPilot.Event&&(i=i.data);for(var n in i)a[n]=i[n];if("function"==typeof this.onBeforeEventRender){var o={};o.e=a,o.data=a,this.onBeforeEventRender(o)}t[e]=a},this.$dY=function(e){if(e.lines=[],e.sections=null,!e.isNewRow){this.sortDirections?e.events.sort(this.$e1):l.cellStacking||e.events.sort(this.$e2);var t=l.cellStacking;if(t)return void T.loadRow(e);var i=l.groupConcurrentEvents;if(i)for(var a=0;a<e.blocks.length;a++)e.blocks[a].clear();DayPilot.list(e.events).each(function(t){return t.part.height?void 0:e.eventHeight?void(t.part.height=e.eventHeight):void(t.part.height=B.eventHeight())});for(var n=0;n<e.events.length;n++){var o=e.events[n];e.putIntoLine(o),i&&e.putIntoBlock(o)}for(var r=0,a=0;a<e.lines.length;a++){var s=e.lines[a];s.top=r,r+=(s.height||e.eventHeight)*this.eventStackingLineHeight/100}if(i)for(var n=0;n<e.blocks.length;n++){var d=e.blocks[n];d.lines=[],d.events.sort(this.$e1);for(var c=0;c<d.events.length;c++){var o=d.events[c];d.putIntoLine(o)}d.lines.length<=l.groupConcurrentEventsLimit&&(d.expanded=!0);var h=DayPilot.list(d.events).map(function(e){return e.id()}).some(function(e){return DayPilot.contains(l.$e3,e)});h&&(d.expanded=!0);for(var r=0,a=0;a<d.lines.length;a++){var s=d.lines[a];s.top=r,r+=(s.height||e.eventHeight)*this.eventStackingLineHeight/100}}}},this.$bs=function(e){e=DayPilot.ua(e);for(var t=0;t<e.length;t++){var i=e[t];l.$dY(l.rowlist[i])}if(l.cellStacking)T.calculateEventPositions();else for(var t=0;t<e.length;t++){var i=e[t],a=l.rowlist[i];l.$e4(a)}},this.$da=function(){var e="Manual"===l.scale?l.itline[0].start:l.startDate;return DayPilot.list(l.rowlist).some(function(t){return t.start?t.start.getTime()!==new DayPilot.Date(e).getTime():!1})},this.$cZ=function(e,t){var i=new DayPilot.Date(e.start),a=new DayPilot.Date(e.end);a=l.$bT(a);var n=i.ticks,o=a.ticks;if(n>o)return null;var r=null;if("function"==typeof l.onBeforeEventRender){var s=DayPilot.indexOf(l.events.list,e);r=l.$9R.events[s]}if(r){if(r.hidden)return null}else if(e.hidden)return null;var d=!1;switch(this.viewType){case"Days":d=!(o<=t.data.startTicks||n>=t.data.endTicks)||n===o&&n===t.data.startTicks;break;case"Resources":d=(t.id===e.resource||"*"===t.id||"*"===e.resource)&&(!(o<=t.data.startTicks||n>=t.data.endTicks)||n===o&&n===t.data.startTicks);break;case"Gantt":d=t.id===e.id&&!(o<=t.data.startTicks||n>=t.data.endTicks)}if(!d)return null;var c=new DayPilot.Event(e,l);c.part.dayIndex=t.data.i,c.part.start=t.data.startTicks<n?i:t.data.start,c.part.end=t.data.endTicks>o?a:t.data.end;var h=this.getPixels(c.part.start.addTime(-t.data.offset)),u=this.getPixels(c.part.end.addTime(-t.data.offset));c.part.start===c.part.end&&(u=this.getPixels(c.part.end.addTime(-t.data.offset).addSeconds(1))),r&&r.height?c.part.height=r.height:e.height&&(c.part.height=e.height),c.part.$e5=function(){var e=this.height;if(l.eventVersionsEnabled&&!DayPilot.list(c.data.versions).isEmpty()){var t=c.versions.length;e+=t*l.eventVersionHeight,e+=t*l.eventVersionMargin}return e+l.eventMarginBottom};var f=h.left,v=u.left;if(c.part.startPixels=h,c.part.endPixels=u,f===v){if(h.cut||u.cut)return null;var p=(c.part.start.addTime(-t.data.offset).getTime()+c.part.end.addTime(-t.data.offset).getTime())/2,g=l.getPixels(new DayPilot.Date(Math.floor(p)));if(g.cut)return null}c.part.box=B.useBox(o-n);var y=l.eventHeight;if("Milestone"===e.type){var m=e.width||y;c.part.end=c.part.start,c.part.left=f-m/2,c.part.width=m,c.part.barLeft=0,c.part.barWidth=m}else if(c.part.box){var b=h.boxLeft,w=u.boxRight;c.part.left=b,c.part.width=w-b,c.part.barLeft=Math.max(f-c.part.left,0),c.part.barWidth=Math.max(v-f,1)}else c.part.left=f,c.part.width=Math.max(v-f,1),c.part.barLeft=0,c.part.barWidth=Math.max(v-f-1,1);if(l.eventVersionsEnabled&&l.$e6(c,t),"function"==typeof l.onEventFilter&&l.events.$cV){var D={};if(D.filter=l.events.$cV,D.visible=!0,D.e=c,l.onEventFilter(D),!D.visible)return null}return t.events.push(c),c},this.$e6=function(e,t){e.versions=[];var i=e.data,a=DayPilot.list(i.versions);a.isEmpty()||a.each(function(i){var a=new DayPilot.Date(i.start),n=new DayPilot.Date(i.end),o=l.getPixels(a.addTime(-t.data.offset)),r=l.getPixels(n.addTime(-t.data.offset));a.ticks===n.ticks&&(r=l.getPixels(n.addTime(-t.data.offset).addTime(1)));var s=o.left,d=r.left;if(s===d&&(o.cut||r.cut))return null;var c={};c.left=s,c.continueLeft=a<t.data.start,c.right=d,c.continueRight=n>t.data.end,c.width=d-s,e.versions.push(c)})},this.$e2=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;if(0!==i)return i;var a=t.end().ticks-e.end().ticks;return a},this.$e1=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return l.$e2(e,t);for(var i=0,a=0;0===i&&"undefined"!=typeof e.data.sort[a]&&"undefined"!=typeof t.data.sort[a];)i=e.data.sort[a]===t.data.sort[a]?0:l.$e7(e.data.sort[a],t.data.sort[a],l.sortDirections[a]),a++;return i},this.$e7=function(e,t,i){var a="desc"!==i,n=a?-1:1,o=-n;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return n;var r=[];return r[0]=e,r[1]=t,r.sort(),e===r[0]?n:o},this.$ch=function(e,t,i,a){if(l.$aq()){var n=DayPilot.indexOf(l.rowlist,e),o=l.$ce(e,n),r=-1!==DayPilot.indexOf(x.selected,e),s=r?"deselected":"selected",d={};if(d.row=o,d.selected=r,d.ctrl=t,d.shift=i,d.meta=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onRowSelect&&(l.onRowSelect(d),d.preventDefault.value))return;var c=i&&!t&&!a;if(i||(x.$e8={row:e,index:n}),c){x.fixRowSelectLast();var h=x.$e8.index,u=n;x.selectRange(h,u)}switch(l.rowSelectHandling){case"PostBack":l.rowSelectPostBack(o,s);break;case"CallBack":l.rowSelectCallBack(o,s);break;case"Notify":!c&&x.select(e,t,i,a),l.rowSelectNotify(o,s);break;case"Update":!c&&x.select(e,t,i,a)}"function"==typeof l.onRowSelected&&(d.selected=-1!==DayPilot.indexOf(x.selected,e),l.onRowSelected(d))}else{x.select(e,t,i);var n=DayPilot.indexOf(l.rowlist,e),o=l.$ce(e,n),r=-1!==DayPilot.indexOf(x.selected,e),s=r?"deselected":"selected";switch(l.rowSelectHandling){case"PostBack":l.rowSelectPostBack(o,s);break;case"CallBack":l.rowSelectCallBack(o,s);break;case"Notify":l.rowSelectNotify(o,s);break;case"JavaScript":l.onRowSelect(o,s)}}},this.rowSelectPostBack=function(e,t,i){var a={};a.resource=e,a.change=t,this.$b8("RowSelect",a,i)},this.rowSelectCallBack=function(e,t,i){var a={};a.resource=e,a.change=t,this.$b9("RowSelect",a,i)},this.rowSelectNotify=function(e,t,i){var a={};a.resource=e,a.change=t,this.$b9("RowSelect",a,i,"Notify")},this.rows={},this.rows.selection={};var C=this.rows.selection;C.get=function(){var e=[];return DayPilot.list(x.selected).each(function(t){e.push(l.$ce(t))}),e},C.clear=function(){x.clearSelection()},C.add=function(e){if(!e||!e.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";var t=DayPilot.list(x.selected).some(function(t){return t===e.$.row});t||x.selected.push(e.$.row),x.$e9(),C.$ea()},C.$ea=function(){l.selectedRows=DayPilot.list(x.selected).map(function(e){return e.id})},this.rows.all=function(){for(var e=[],t=0;t<l.rowlist.length;t++){var i=l.$ce(l.rowlist[t]);e.push(i)}return p(e)},this.rows.each=function(e){l.rows.all().each(e)},this.rows.filter=function(e){l.rows.$cV=e,l.$bx({immediateEvents:!0})},this.rows.find=function(e,t){for(var i=l.rows.all(),a=0;a<i.length;a++){var n=i[a];if(n.id===e){if("string"!=typeof t)return n;if(t===n.start.toString())return n}}},this.rows.load=function(e){DayPilot.ajax({method:"POST",url:e,success:function(e){var t=e.request,i=DayPilot.Util.parseJSON(t.responseText);DayPilot.isArray(i)&&(l.resources=i,l.$bM&&l.update())}})},this.rows.expand=function(e){for(var t=[],i=e||1,a=0;a<l.rowlist.length;a++){var n=l.rowlist[a],o=-1===i;n.level<i&&(o=!0),o&&!n.expanded&&n.children&&n.children.length>0&&t.push(n.index)}if(0!==t.length)if(1===t.length)l.$dg(t[0]);else{for(var a=0;a<t.length;a++){var r=t[a],n=l.rowlist[r];n.expanded=!0}l.$bx()}},this.rows.expandAll=function(){l.rows.expand(-1)},this.rows.headerHide=function(){l.$eb=!0,l.$ec(),l.$dJ(),l.$aL()},this.rows.headerShow=function(){l.$eb=!1,l.$ec(),l.$dJ(),l.$aL()},this.rows.headerToggle=function(){l.$eb?l.rows.headerShow():l.rows.headerHide()},this.rows.remove=function(e){var t=e.$.row.resource,i=P.findParentArray(t);if(!i)throw"Cannot find source node parent";var a=DayPilot.indexOf(i,t);i.splice(a,1),l.update()},this.$ed=function(){var e=c.source,t=c.target,i=c.position;if(x.resetMoving(),l.$aq()){var a={};if(a.source=l.$ce(e),a.target=l.$ce(t),a.position=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onRowMove&&(l.onRowMove(a),a.preventDefault.value))return;switch(l.rowMoveHandling){case"Update":x.move(a);break;case"CallBack":l.rowMoveCallBack(a.source,a.target,a.position);break;case"PostBack":l.rowMovePostBack(a.source,a.target,a.position);break;case"Notify":x.move(a),l.rowMoveNotify(a.source,a.target,a.position)}"function"==typeof l.onRowMoved&&l.onRowMoved(a)}else{var e=l.$ce(e),t=l.$ce(t),i=i;switch(l.rowMoveHandling){case"CallBack":l.rowMoveCallBack(e,t,i);break;case"PostBack":l.rowMovePostBack(e,t,i);break;case"JavaScript":l.onRowMove(e,t,i)}}},this.$ao=function(e){var t=DayPilot.list(e);x.selected=[],t.isEmpty()||(l.$9H=!1,l.$a3()),t.each(function(e){var t=l.$au(e);t&&x.selected.push(t)}),x.$e9()},this.$ci={};var x=this.$ci;x.edit=function(e){var t=x.$ee(e)},x.rowSelectLastSetDefault=function(){x.$e8={row:l.rowlist[0],index:0}},x.rowSelectSetLast=function(e){var t=DayPilot.indexOf(l.rowlist,e);if(-1===t)throw"DayPilot.Scheduler: Row not found when selecting a range";x.$e8={row:e,index:t}},x.fixRowSelectLast=function(){x.$e8||x.rowSelectLastSetDefault();var e=DayPilot.indexOf(l.rowlist,x.$e8.row);if(!(e>-1)){var t=l.$au(x.$e8.row.id);t?(e=DayPilot.indexOf(l.rowlist,t),x.$e8={row:t,index:e}):x.rowSelectLastSetDefault()}},x.createOverlay=function(e){var t=l.$dC(),i=l.$aD("_rowmove_source"),a=DayPilot.Util.div(l.divHeader,0,e.top,t,e.height);a.className=i,e.moveOverlay=a},x.deleteOverlay=function(e){DayPilot.de(e.moveOverlay),e.moveOverlay=null},x.$ee=function(e){var t=x.$cb(e),i=t.cells[0];if(i.input)return i.input;var a=i.clientWidth;e.isNewRow&&(a=l.$aG());var o=document.createElement("textarea");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=a+"px",o.style.height=e.height+"px",o.style.border="0px none",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.resize="none";var r=i.textDiv;o.style.fontFamily=DayPilot.gs(r,"fontFamily")||DayPilot.gs(r,"font-family"),o.style.fontSize=DayPilot.gs(r,"fontSize")||DayPilot.gs(r,"font-size"),o.value=e.html,i.firstChild.appendChild(o),i.input=o;var s=function(){try{i.input.parentNode.removeChild(i.input)}catch(e){n()}i.input=null};return o.focus(),o.onblur=function(){o.onblur=null;var t=o.value,i=DayPilot.indexOf(l.rowlist,e);s(),o.canceled||l.$cd(e,t)},o.onkeydown=function(e){var t=window.event?event.keyCode:e.keyCode;return 27===t&&(o.canceled=!0,s()),13===t?(o.onblur(),!1):!0},o.setSelectionRange?o.setSelectionRange(0,9999):o.select(),o},x.selected=[],x.select=function(e,t,i,a){var n=-1!==DayPilot.indexOf(x.selected,e);if(t||a){if(n)return x.unselect(e),void DayPilot.rfa(x.selected,e)}else n=!1,x.clearSelection();x.$ef(e),n||x.selected.push(e),C.$ea()},x.selectRange=function(e,t){x.clearSelection();for(var i=Math.min(e,t),a=Math.max(e,t),n=i;a>=n;n++){var o=l.rowlist[n];x.$ef(o),x.selected.push(o)}C.$ea()},x.$e9=function(){for(var e=0;e<x.selected.length;e++){var t=x.selected[e];x.$ef(t)}},x.$ef=function(e){var t=DayPilot.indexOf(l.rowlist,e);if(-1===t){var i=l.$au(e.id).index;if(!i)return;t=i.index}for(var a=l.$aD("_cell_selected"),n=[],o=0;o<l.itline.length;o++){var r={};r.x=o,r.y=t,n.push(r)}l.cells.findXy(n).addClass(a);for(var a=l.$aD("_rowheader_selected"),s=l.divHeader,t=0;t<s.rows.length;t++){var d=s.rows[t];if(d&&d.cells[0]&&d.cells[0].row===e)for(var c=0;c<d.cells.length;c++){var r=d.cells[c],h=r.firstChild;DayPilot.Util.addClass(h,a)}}},x.$cv=function(){var e=[];if(!x.selected)return e;for(var t=0;t<x.selected.length;t++){var i=x.selected[t],a=DayPilot.indexOf(l.rowlist,i),n=l.$ce(i,a);e.push(n.toJSON())}return e},x.unselect=function(e){for(var t=l.$aD("_cell_selected"),i=DayPilot.indexOf(l.rowlist,e),a=[],n=0;n<l.itline.length;n++){var o={};o.x=n,o.y=i,a.push(o)}l.cells.findXy(a).removeClass(t);var t=l.$aD("_rowheader_selected"),r=l.divHeader,s=x.$cb(e);if(s)for(var d=0;d<s.cells.length;d++){var o=s.cells[d],c=o.firstChild;DayPilot.Util.removeClass(c,t)}},x.$e8=null,x.clearSelection=function(){for(var e=0;e<x.selected.length;e++){var t=x.selected[e];x.unselect(t)}x.selected=[],l.selectedRows=[]},x.$cb=function(e){for(var t=l.divHeader,i=0;i<t.rows.length;i++){var a=t.rows[i];if(a&&a.cells[0]&&a.cells[0].row===e)return a}return null},x.selectById=function(e){var t=l.$au(e);t&&x.select(t)},x.startMoving=function(e){var t=DayPilot.Global.rowmoving;t.row=e,t.cursor=l.divResScroll.style.cursor,l.divResScroll.style.cursor="move",x.createOverlay(e)},x.resetMoving=function(){l.divResScroll.style.cursor=c.cursor,DayPilot.de(c.div),x.deleteOverlay(c.row),DayPilot.Global.rowmoving=c={}},x.move=function(e){var t=e.source.$.row.resource,i=e.target.$.row.resource,a=e.position;if("forbidden"!==a){var n=P.findParentArray(t);if(!n)throw"Cannot find source node parent";var o=DayPilot.indexOf(n,t);n.splice(o,1);var r=P.findParentArray(i);if(!r)throw"Cannot find target node parent";var s=DayPilot.indexOf(r,i);switch(a){case"before":r.splice(s,0,t);break;case"after":r.splice(s+1,0,t);break;case"child":i.children||(i.children=[],i.expanded=!0),i.children.push(t)}l.update()}};var P={};P.findParentArray=function(e){return P.findInArray(l.resources,e)},P.findInArray=function(e,t){if(-1!==DayPilot.indexOf(e,t))return e;for(var i=0;i<e.length;i++){var a=e[i];if(a.children&&a.children.length>0){var n=P.findInArray(a.children,t);if(n)return n}}return null},this.$a2=function(){this.rowlist=DayPilot.list();var e=this.resources,t=this.$aM();t||("Gantt"===this.viewType?e=this.$eg():"Days"===this.viewType&&(e=this.$eh())),!t||"Days"!==this.viewType||e&&0!==e.length||(e=this.$eh());var i={};i.i=0,this.$ei(e,i,0,null,this.treeEnabled,!1);var a="Disabled"!==l.rowCreateHandling;a&&this.$ej()},this.$ej=function(){var e={};e.id="NEW",e.isNewRow=!0,e.html="",e.loaded=!0,e.start=this.startDate,e.children=[],e.height=l.eventHeight,e.marginBottom=0,e.marginTop=0,e.getHeight=function(){return l.eventHeight+l.rowMarginBottom+l.rowMarginTop},e.putIntoLine=function(){},e.resetEvents=function(){},this.rowlist.push(e)},this.$eg=function(){var e=[];if(this.$9K&&this.resources)for(var t=0;t<this.resources.length;t++)e.push(this.resources[t]);if(this.events.list){for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t],a={};a.id=i.id,a.name=i.text,e.push(a)}return e}},this.$eh=function(){for(var e=[],t=l.$aT(),i=this.$cL.locale(),a=0;a<this.days;a++){var n=t.addDays(a),o={};
o.name=n.toString(i.datePattern,i),o.start=n,e.push(o)}return e},this.$aT=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.$aX=function(){if(this.itline&&this.itline.length>0){var e=l.itline[this.itline.length-1].end;return"Days"!==l.viewType?e:e.addDays(l.days-1)}return l.startDate.addDays(l.days)},this.$ek={};var S=this.$ek;this.visibleStart=function(){return this.$aT()},this.visibleEnd=function(){return this.$aX()},this.$ei=function(e,t,i,a,n,o){if(e)for(var r=0;r<e.length;r++)if(e[r]){var s={};s.level=i,s.hidden=o,s.index=t.i;var d=this.$el(e[r],s),c={};if(!e[r].hidden){if(c.backColor=d.backColor,c.cssClass=d.cssClass,c.expanded=d.expanded,c.name=d.name,c.html=d.html?d.html:c.name,c.eventHeight="undefined"!=typeof d.eventHeight?d.eventHeight:l.$cL.eventHeight(),c.minHeight="undefined"!=typeof d.minHeight?d.minHeight:l.rowMinHeight,c.marginBottom="undefined"!=typeof d.marginBottom?d.marginBottom:l.rowMarginBottom,c.marginTop="undefined"!=typeof d.marginTop?d.marginTop:l.rowMarginTop,c.loaded=!d.dynamicChildren,c.id=d.id||d.value,c.toolTip=d.toolTip,c.children=[],c.columns=[],c.start=d.start?new DayPilot.Date(d.start):this.$aT(),c.isParent=d.isParent,c.contextMenu=d.contextMenu?DayPilot.Util.evalVariable(d.contextMenu):this.contextMenuResource,c.areas=d.areas,c.moveDisabled=d.moveDisabled,c.bubbleHtml=d.bubbleHtml,c.tags=d.tags,c.task=d.task,c.swimlane=d.swimlane,c.height=c.eventHeight,c.hidden=o,c.level=i,c.index=t.i,c.resource=e[r],c.lines=[],c.blocks=[],c.isRow=!0,c.getHeight=function(){var e=0;if(l.groupConcurrentEvents)for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];e=Math.max(e,i.getHeight())}else if(this.lines.length>0){var a=this.lines.length-1,n=this.lines[a],o=n.height||this.eventHeight,r=n.top||0;e=r+o}return 0===e&&(e=this.eventHeight),e>this.minHeight?e:this.minHeight},c.resetEvents=function(){var e=this;e.events=[],e.events.forRange=function(t,i){for(var a=[],n=0;n<e.events.length;n++){var o=e.events[n];DayPilot.Util.overlaps(o.start(),o.end(),t,i)&&a.push(o)}return a}},c.calculateUtilization=function(){function e(){for(var e=[],t=0;t<i.events.length;t++){var a=i.events[t];DayPilot.contains(e,a.start().toString())||e.push(a.start().toString()),DayPilot.contains(e,a.rawend().toString())||e.push(a.rawend().toString())}return e.sort(),e}function t(){for(var t=e(),a=[],n={start:i.data.start},o=0;o<t.length;o++)n.end=new DayPilot.Date(t[o]),a.push(n),n={start:new DayPilot.Date(t[o])};return n.end=i.data.end,a.push(n),a.forRange=function(e,t){for(var i=[],a=0;a<this.length;a++){var n=this[a];DayPilot.Util.overlaps(e,t,n.start,n.end)&&i.push(n)}return i.maxSum=function(e){for(var t=0,i=0;i<this.length;i++){var a=this[i],n=a.sum(e);n>t&&(t=n)}return t},i},a}for(var i=this,a=i.sections=t(),n=0;n<a.length;n++){var o=a[n];o.events=[];for(var r=0;r<i.events.length;r++){var s=i.events[r];DayPilot.Util.overlaps(o.start,o.end,s.start(),s.rawend())&&o.events.push(s)}o.sum=function(e){for(var t=0,i=0;i<this.events.length;i++){var a=this.events[i],n=0;"undefined"==typeof e?n=1:a.tag(e)?n=a.tag(e):a.data[e]&&(n=a.data[e]),"number"==typeof n&&(t+=n)}return t}}},c.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.left,e.part.width))return a.add(e),i}var a=[];return a.height=0,a.add=function(e){this.push(e);var t=e.part.$e5();t>a.height&&(a.height=t)},a.isFree=function(e,t,i){for(var a=e+t-1,n=this.length,o=0;n>o;o++){var r=this[o];if(!(a<r.part.left||e>r.part.left+r.part.width-1)){if(DayPilot.contains(i,r.data))continue;return!1}}return!0},a.add(e),this.lines.push(a),this.lines.length-1},c.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];if(-1!==DayPilot.indexOf(i.events,e))return;if(i.overlapsWith(e.part.left,e.part.width))return i.events.push(e),e.part.block=i,i.min=Math.min(i.min,e.part.left),i.max=Math.max(i.max,e.part.left+e.part.width),t}var i={};i.expanded=!1,i.row=this,i.events=[],i.lines=[],i.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.left,e.part.width))return a.add(e),i}var a=[];a.height=0,a.add=function(e){this.push(e),e.part.height>a.height&&(a.height=e.part.height)},a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.left||e>o.part.left+o.part.width-1))return!1}return!0},a.add(e),this.lines.push(a)},i.overlapsWith=function(e,t){var i=e+t-1;return i<this.min||e>this.max-1?!1:!0},i.getHeight=function(){if(!this.expanded)return l.eventHeight;if(this.lines.length>0){var e=this.lines.length-1,t=this.lines[e],i=t.height||l.eventHeight,a=t.top||0;return a+i}return l.eventHeight},i.clear=function(){i.events=[],i.min=null,i.max=null},i.events.push(e),e.part.block=i,i.min=e.part.left,i.max=e.part.left+e.part.width,this.blocks.push(i)},c.$em=!1,c.$en=a,c.$eo=function(){this.hidden=!this.$ep(),this.$em=!1,this.$en&&this.$en.$eo()},c.$ep=function(){return this.$en?this.$en.$ep()&&this.$en.expanded:!0},this.rowlist.push(c),"function"==typeof l.onRowFilter&&l.rows.$cV){var h={};h.visible=!0,h.row=l.$ce(c),h.filter=l.rows.$cV,l.onRowFilter(h),c.$em=!h.visible,h.visible?a&&a.$eo():c.hidden=!0}if(null!==a&&a.children.push(t.i),d.columns)for(var u=0;u<d.columns.length;u++)c.columns.push(d.columns[u]);if(t.i++,n&&d.children&&d.children.length){var f=o||!c.expanded;this.$ei(d.children,t,i+1,c,!0,f)}}}},this.$dP=function(e){if(e.isNewRow)return{row:{cssClass:l.$aD("_row_new"),moveDisabled:!0,html:""}};var t={};if(t.row=this.$ce(e),DayPilot.Util.copyProps(e,t.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),t.row.columns=DayPilot.Util.createArrayCopy(e.columns,["html","backColor","cssClass"]),t.row.areas=DayPilot.Util.createArrayCopy(e.areas),"undefined"==typeof t.row.columns&&l.rowHeaderColumns&&l.rowHeaderColumns.length>0){r.columns=[];for(var i=0;i<l.rowHeaderColumns.length;i++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(t),t},this.$el=function(e,t){var i=this.$eq(e,t);if("function"==typeof this.onBeforeResHeaderRender){var a={};a.resource=i,this.onBeforeResHeaderRender(a)}return i},this.$eq=function(e,t){var i={};for(var a in t)i[a]=t[a];for(var a in e)i[a]=e[a];if("undefined"==typeof e.html&&(i.html=e.name),"undefined"==typeof i.columns&&l.rowHeaderColumns&&l.rowHeaderColumns.length>0){i.columns=[];for(var n=0;n<l.rowHeaderColumns.length;n++)i.columns.push({})}return i},this.$er=function(){this.$es(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.$aD("_main")),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.$aD("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.$aD("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.$et,this.nav.top.ontouchstart=E.onMainTouchStart,this.nav.top.ontouchmove=E.onMainTouchMove,this.nav.top.ontouchend=E.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var e=this.$aG(),t=this.$cL.layout();if("DivBased"===t){var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.width=e+"px",i.appendChild(this.$eu());var a=document.createElement("div");a.style.height="1px",a.className=this.$aD("_divider_horizontal"),i.appendChild(a),this.nav.dh1=a,i.appendChild(this.$ev()),this.nav.left=i;var n=document.createElement("div");n.style.position="absolute",n.style.left=e+"px",n.style.width=B.splitterWidth()+"px",n.style.height=this.$aF()+this.$aJ()+"px",n.className=this.$aD("_divider")+" "+this.$aD("_splitter"),n.setAttribute("unselectable","on"),this.nav.divider=n,this.rowHeaderScrolling&&this.$ew();var o=document.createElement("div");o.style.marginLeft=e+B.splitterWidth()+"px",o.style.marginRight="1px",o.style.position="relative",o.appendChild(this.$ex()),this.nav.right=o;var r=document.createElement("div");r.style.height="1px",r.style.position="absolute",r.style.top=this.$aF()+"px",r.style.width="100%",r.className=this.$aD("_divider_horizontal"),o.appendChild(r),this.nav.dh2=r,o.appendChild(this.$ey());var s=document.createElement("div");s.style.clear="left",this.nav.top.appendChild(i),this.nav.top.appendChild(n),this.nav.top.appendChild(o),this.nav.top.appendChild(s)}else{var l=document.createElement("table");l.cellPadding=0,l.cellSpacing=0,l.border=0,l.style.position="absolute";var d=l.insertRow(-1),c=d.insertCell(-1);c.appendChild(this.$eu());var h=d.insertCell(-1);h.appendChild(this.$ex());var u=l.insertRow(-1),f=u.insertCell(-1);f.appendChild(this.$ev());var v=u.insertCell(-1);v.appendChild(this.$ey()),this.nav.top.appendChild(l)}if(this.$9Z=document.createElement("div"),this.$9Z.style.display="none",this.nav.top.appendChild(this.$9Z),this.$cu()){var p=document.createElement("input");p.type="hidden",p.id=this.id+"_state",p.name=this.id+"_state",this.nav.state=p,this.nav.top.appendChild(p)}var g=5,y=document.createElement("div");y.style.position="absolute",y.style.left=this.$aG()+B.splitterWidth()+5+"px",y.style.top=this.$aF()+5+"px",y.style.display="none",y.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(y,this.$aD("_loading")),this.nav.loading=y,this.nav.top.appendChild(y),this.$ez()},this.$et=function(e){if(c.row){var t=DayPilot.mo3(l.divHeader,e),i=l.$cD(t.y),n=l.rowlist[i.i];if(n.isNewRow)return;var o=t.y-i.top,r=i.bottom-i.top,s=r/3,d=2*s,h=r/2,u="before",f=n.children&&n.children.length>0,v=function(){for(var e=i.i,t=n.level;e>=0;){var a=l.rowlist[e];if(e--,!(t<=a.level)){if(a===c.row)return!0;if(0===a.level)return!1;t=a.level}}return!1}(),p=l.treeEnabled;u=v||i.i===c.row.index?"forbidden":p?f?h>o?"before":"child":s>o?"before":d>o?"child":"after":f?"before":h>o?"before":"after",c.row.moveDisabled&&(u="forbidden"),c.calendar=l,c.source=c.row,c.target=l.rowlist[i.i],c.position=u;var g=function(){return c.last?c.last.target!==c.target?!0:c.last.position!==c.position?!0:!1:!0}();if(g){if("function"==typeof l.onRowMoving){var y={};y.source=l.$ce(c.source),y.target=l.$ce(c.target),y.position=u,l.onRowMoving(y),c.position=y.position}}else c.last&&(c.position=c.last.position);c.last={},c.last.target=c.target,c.last.position=c.position,function D(){c.div&&DayPilot.de(c.div);var e=i.top,t=c.position,a=l.rowlist[i.i],n=a.level,o=n*l.treeIndent;switch(t){case"before":e=i.top;break;case"child":e=i.top+h;break;case"after":e=i.bottom;break;case"forbidden":e=i.top+h}var r=l.$dC()-o,s=document.createElement("div");s.style.position="absolute",s.style.left=o+"px",s.style.width=r+"px",s.style.top=e+"px",s.className=l.$aD("_rowmove_position_"+t),c.div=s,l.divResScroll.appendChild(s)}()}else if(a.splitting){var m=DayPilot.mo3(l.nav.top,e).x,b=l.$dC(),w=Math.min(b,m-1);l.rowHeaderWidth=w,l.$eb=!1,l.$ec()}},this.$ab=function(){var e=this.$aF();this.nav.corner.style.height=e+"px",this.divTimeScroll.style.height=e+"px",this.divNorth.style.height=e+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=e+"px",this.nav.dh2.style.top=e+"px"),this.nav.loading.style.top=e+5+"px",this.nav.scroll.style.top=e+1+"px"},this.$aG=function(){if(this.$eb)return 0;var e=this.rowHeaderScrolling;return e?this.rowHeaderWidth:this.$dC()},this.$ew=function(){var e=this.nav.divider;e.style.cursor="col-resize",e.setAttribute("unselectable","on"),e.onmousedown=function(e){var t=a.splitting={};return t.cursor=l.nav.top.style.cursor,t.cleanup=function(){if(l.nav.top.style.cursor=t.cursor,"function"==typeof l.onRowHeaderResized){var e={};l.onRowHeaderResized(e)}},l.nav.top.style.cursor="col-resize",!1}},this.$ec=function(){var e=B.splitterWidth(),t=this.$aG();if(this.nav.corner.style.width=t+"px",this.divCorner.style.width=t+"px",this.divResScroll.style.width=t+"px",this.nav.left.style.width=t+"px",this.nav.divider.style.left=t+"px",this.nav.right.style.marginLeft=t+e+"px",this.nav.message&&(this.nav.message.style.left=t+e+"px"),this.nav.loading&&(this.nav.loading.style.left=t+e+5+"px"),this.nav.hideIcon){var i=this.nav.hideIcon,a=l.$aD("_header_icon_show"),n=l.$aD("_header_icon_hide");i.style.left=t+e-1+"px",l.$eb?(DayPilot.Util.removeClass(i,n),DayPilot.Util.addClass(i,a)):(DayPilot.Util.removeClass(i,a),DayPilot.Util.addClass(i,n))}},this.$eA=function(){this.$dD();var e=this.$dC(),t=function(e,t,i){if(e&&e.style){var a=e.firstChild;l.$dK?(e.style.width=t+"px",a.style.width=t+"px","number"==typeof i&&(e.style.left=i+"px")):a.style.width=t+"px"}},i=this.divHeader;i.style.width=e+"px";for(var a=l.$dE(),n=a.start;n<a.end;n++){var o=i.rows[n];if(o){var r=o.cells[0];if(r.colSpan>1){var r=o.cells[0];t(r,e)}else if(this.rowHeaderCols)for(var s=0,d=0;d<o.cells.length;d++){var c=this.rowHeaderCols[d],r=o.cells[d];t(r,c,s),s+=c}else{var c=this.rowHeaderWidth,r=o.cells[0];t(r,c)}}}l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.width=e+"px"),this.$eB()},this.$bI=function(){this.$ec(),this.$eA()},this.$eC=function(){var e=l.nav.corner,t=this.rowHeaderColumns,i=document.createElement("div");i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="100%",i.style.height=B.headerHeight()+"px",i.style.overflow="hidden",l.nav.columnScroll=i;var a=document.createElement("div");a.style.position="absolute",a.style.bottom="0px",a.style.left="0px",a.style.width="5000px",a.style.height=B.headerHeight()+"px",a.style.overflow="hidden",a.className=this.$aD("_columnheader"),i.appendChild(a);var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.className=this.$aD("_columnheader_inner"),a.appendChild(n);var o=new DayPilot.Splitter(n);o.widths=DayPilot.Util.propArray(t,"width",l.rowHeaderColumnDefaultWidth),o.height=B.headerHeight(),o.css.title=this.$aD("_columnheader_cell"),o.css.titleInner=this.$aD("_columnheader_cell_inner"),o.css.splitter=this.$aD("_columnheader_splitter"),o.titles=DayPilot.Util.propArray(t,"title"),o.updating=function(e){DayPilot.Util.updatePropsFromArray(l.rowHeaderColumns,"width",this.widths),l.$bI(),"Auto"===l.cellWidthSpec},o.updated=function(e){if(l.$dJ(),l.$aq()){if("function"==typeof l.onRowHeaderColumnResized){var t={};t.column=l.rowHeaderColumns[e.index],l.onRowHeaderColumnResized(t)}}else switch(l.rowHeaderColumnResizedHandling){case"CallBack":break;case"PostBack":break;case"JavaScript":if("function"==typeof l.onRowHeaderColumnResized){var t={};t.column=l.rowHeaderColumns[e.index],l.onRowHeaderColumnResized(t)}}},o.color="#000000",o.opacity=30,o.init(),e.appendChild(i),this.$dI=o},this.$bK=function(){var e=this.nav.corner;e.innerHTML="",e.className=this.$aD("_corner");var t=document.createElement("div");if(t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.bottom="0px",t.className=this.$aD("_corner_inner"),this.divCorner=t,t.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom=B.headerHeight()+1+"px",e.appendChild(i);var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.height="1px",a.style.bottom=B.headerHeight()+"px",a.className=this.$aD("_divider"),e.appendChild(a),i.appendChild(t),this.$eC()}else e.appendChild(t);var n=document.createElement("div");n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="1px",n.style.backgroundColor="#FF6600",n.style.color="white",n.innerHTML="DEMO",this.numberFormat&&e.appendChild(n)},this.$ez=function(){if(this.rowHeaderHideIconEnabled){var e=3,t=this.$aG()+B.splitterWidth()-1,i=10,a=20,n=this.$aF()+e,o=DayPilot.Util.div(this.nav.top,t,n,i,a);o.style.cursor="pointer",o.className=l.$aD("_header_icon"),DayPilot.Util.addClass(o,l.$aD("_header_icon_hide")),o.onclick=function(){l.rows.headerToggle()},this.nav.hideIcon=o}},this.$eu=function(){var e=this.$aG(),t=document.createElement("div");return l.nav.corner=t,t.style.width=e+"px",t.style.height=this.$aF()+"px",t.style.overflow="hidden",t.style.position="relative",t.setAttribute("unselectable","on"),t.onmousemove=function(){l.$dL()},t.oncontextmenu=function(){return!1},this.$bK(),t},this.$aF=function(){if(this.timeHeader){var e=this.timeHeader.length;return e*B.headerHeight()}return 2*B.headerHeight()},this.$eD=null,this.$ev=function(){var e=document.createElement("div");return e.style.width=this.$aG()+"px",e.style.height=this.$aJ()+"px",e.style.overflow="hidden",e.style.position="relative",e.className=l.$aD("_rowheader_scroll"),e.onmousemove=function(){l.$dL()},e.onscroll=function(){l.nav.columnScroll&&l.rowHeaderScrolling&&(l.nav.columnScroll.scrollLeft=e.scrollLeft),l.$eD&&clearTimeout(l.$eD),l.$eD=setTimeout(function(){l.nav.scroll.scrollTop=e.scrollTop},500)},e.onwheel=function(t){var i=t.deltaY>0?l.eventHeight:-l.eventHeight;l.nav.scroll.scrollTop=e.scrollTop+i,t.preventDefault&&t.preventDefault()},e.onmousewheel=function(t){t=t||window.event;var i=t.wheelDelta<0?l.eventHeight:-l.eventHeight;l.nav.scroll.scrollTop=e.scrollTop+i,t.preventDefault&&t.preventDefault(),t.returnValue=!1},e.oncontextmenu=function(){return!1},e.onmouseenter=function(){l.rowHeaderScrolling&&(e.style.overflowX="auto")},e.onmouseleave=function(){l.rowHeaderScrolling&&(e.style.overflowX="hidden")},this.divResScroll=e,this.$aK=e,e},this.$eE=function(e){if("TableBased"===B.layout()){var t=parseInt(this.width,10),i=-1!==this.width.indexOf("%"),a=/MSIE/i.test(navigator.userAgent),n=this.$dC();i?this.nav.top&&this.nav.top.offsetWidth>0&&(e.style.width=this.nav.top.offsetWidth-6-n+"px"):e.style.width=t-n+"px"}},this.$cI=function(e){l.$a9(),l.$ap()},this.$a9=function(){"TableBased"===l.$cL.layout()&&(l.$eE(l.nav.scroll),l.$eE(l.divTimeScroll)),l.$ac(),l.$dJ(),l.$eF(),l.$9R.drawArea=null},this.$eF=function(){var e=a.rangeHold;l.clearSelection(),a.rangeHold=e,l.$c5(e,!0)},this.$dJ=function(){l.$bM&&"Auto"===l.cellWidthSpec&&(l.$a0(),l.$a1(),l.$a6(),l.$ad(),l.$ah(),l.$af(),l.$ai(),l.$ae(),l.$a4(),l.$aj(),l.$ac())},this.$a0=function(){if("Auto"===this.cellWidthSpec){var e=this.nav.top.clientWidth,t=this.$aG(),i=l.$eG(),a=e-t-i,n=this.$aE();if(n){var o=a/this.$aE();this.cellWidth=Math.max(o,l.cellWidthMin),l.$aP=o<l.cellWidthMin}}},this.$eG=function(){if("Auto"===l.heightSpec)return 0;if("Max"===l.heightSpec||"Fixed"===l.heightSpec||"Parent100Pct"===l.heightSpec){var e=l.$dm();return e>l.height?DayPilot.sw(l.nav.scroll):0}return DayPilot.sw(l.nav.scroll)},this.$aO=function(){var e=this.nav.top.clientWidth,t=this.$aG(),i=2,a=this.$aJ(),n=this.$dm(),o="Auto"===l.heightSpec,r=0;n>a&&!o&&(r=DayPilot.swa());var s=e-t-i-r;return s},this.$ex=function(){var e=document.createElement("div");e.style.overflow="hidden",e.style.position="absolute",e.style.display="block",e.style.top="0px",e.style.width="100%",e.style.height=this.$aF()+"px",e.style.overflow="hidden",e.onmousemove=function(){l.$dL(),l.cellBubble&&l.cellBubble.delayedHide()},this.$eE(e),this.divTimeScroll=e;var t=document.createElement("div");return t.style.width=this.$aE()*this.cellWidth+5e3+"px",this.divNorth=t,e.appendChild(t),e},this.$aJ=function(){var e=0;return"Fixed"===this.heightSpec||"Parent100Pct"===this.heightSpec?this.height?this.height:0:(e=this.$dm(),"Max"===this.heightSpec&&e>this.height?this.height:e)},this.$eH=null,this.$eI=0,this.$eJ=0,this.$eK=0,this.$aL=function(){if("function"==typeof l.onHeightChanged||"function"==typeof l.onDimensionsChanged){l.$eH&&clearTimeout(l.$eH);var e=function(){var e=l.nav.top.offsetHeight,t=l.$eI;l.$eI=e;var i=l.nav.top.offsetWidth,a=l.$eJ;l.$eJ=i;var n=l.$aG(),o=l.$eK;if(l.$eK=n,"function"==typeof l.onHeightChanged&&e!==t){var r={};r.oldHeight=t,r.newHeight=e,l.onHeightChanged(r)}if("function"==typeof l.onDimensionsChanged&&(e!==t||i!==a||n!==o)){var r={};r.oldHeight=t,r.newHeight=e,r.oldWidth=a,r.newWidth=i,r.oldRowHeaderWidth=o,r.newRowHeaderWidth=n,l.onDimensionsChanged(r)}};l.$eH=setTimeout(e,100)}},this.$dm=function(){var e;return e=this.$9Q?this.$9Q+DayPilot.sh(l.nav.scroll):this.rowlist.length*this.$cL.eventHeight()},this.$dL=function(){this.$eB(),this.$eL(),this.$eM()},this.$ey=function(){var e=document.createElement("div");e.style.overflow="auto",e.style.overflowX="auto",e.style.overflowY="auto",e.style.position="absolute",e.style.height=this.$aJ()+"px",e.style.top=this.$aF()+1+"px",e.style.width="100%",e.className=this.$aD("_scrollable"),e.oncontextmenu=function(){return!1},this.$eE(e),this.nav.scroll=e,this.$as=document.createElement("div"),this.$as.style.MozUserSelect="none",this.$as.style.KhtmlUserSelect="none",this.$as.style.webkitUserSelect="none",this.$as.daypilotMainD=!0,this.$as.calendar=this,i&&(this.$as.style.webkitTransform="translateZ(0px)"),this.$as.style.position="absolute";var t=this.$dl();return t>0&&!isNaN(t)&&(this.$as.style.width=t+"px"),this.$as.setAttribute("unselectable","on"),this.$as.onmousedown=this.$eN,this.$as.onmousemove=this.$eO,this.$as.onmouseup=this.$eP,this.$as.oncontextmenu=this.$eQ,this.$as.ondblclick=this.$eR,this.$as.className=this.$aD("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.$as.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.$eQ,this.$as.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.$eQ,this.$as.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.$eQ,this.$as.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.$eQ,this.$as.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.$as.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.$eR,this.$as.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.$eQ,this.$as.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.$as.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.$eQ,this.$as.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.$as.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.$as.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.$as.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.$as.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.$as.appendChild(this.divHover),e.appendChild(this.$as),e},this.$eS={};var A=this.$eS;A.create=function(){if(!l.nav.overlay){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.className=l.$aD("_block"),l.nav.top.appendChild(e),l.nav.overlay=e}},A.show=function(){A.create(),l.nav.overlay.style.display=""},A.hide=function(){l.nav.overlay&&(l.nav.overlay.style.display="none")},this.$cq=function(e){l.loadingTimeout&&window.clearTimeout(l.loadingTimeout);var t=e?0:100;l.loadingTimeout=window.setTimeout(function(){l.loadingLabelVisible&&(l.nav.loading.innerHTML=l.loadingLabelText,l.nav.loading.style.display=""),l.blockOnCallBack&&A.show()},t)},this.$9U=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&A.hide()},this.uiBlock=function(){A.show()},this.uiUnblock=function(){A.hide()},this.$eT=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.$eU=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$aD(e),document.body.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;document.body.removeChild(t);var n={};return n.height=i,n.width=a,n},this.$9V=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$9P>=this.autoRefreshMaxCount)){this.$cp();var t=this.autoRefreshInterval;if(!t||10>t)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){l.$eV()},1e3*this.autoRefreshInterval)}},this.$cp=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(e){l.$9V(e)},this.autoRefreshPause=function(){l.$cp()},this.$eV=function(){if(!(a.resizing||a.moving||a.drag||a.range)){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.$9P,t.preventDefault=function(){this.preventDefault.value=!0},l.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.$aM()&&this.commandCallBack(this.autoRefreshCommand),this.$9P++}this.$9P<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){l.$eV()},1e3*this.autoRefreshInterval))},this.$eW=function(){a.globalHandlers||(a.globalHandlers=!0,DayPilot.re(document,"mousemove",a.gMouseMove),DayPilot.re(document,"mouseup",a.gMouseUp),DayPilot.re(document,"keyup",a.gKeyUp),DayPilot.re(document,"mousedown",a.gMouseDown),DayPilot.re(document,"touchmove",a.gTouchMove),DayPilot.re(document,"touchend",a.gTouchEnd)),DayPilot.re(window,"resize",this.$cI)},this.$eX=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.$ap,l.$dp=this.nav.scroll.scrollLeft,l.$do=this.nav.scroll.scrollTop,l.$dq=this.divNorth.clientWidth},this.$am=function(){if(this.nav.state){var e={};e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop,this.syncResourceTree&&(e.tree=this.$cz()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(e))}},this.$ai=function(){if(this.separators)for(var e=0;e<this.separators.length;e++)this.$eY(e)},this.$eZ={},this.$eZ.step=300,this.$eZ.delay=10,this.$eZ.mode="display",this.$eZ.layers=!1,this.$e4=function(e){if(l.cellStacking)return void T.calculateEventPositionsRow(e);for(var t=!0,i=this.durationBarDetached?-10:0,a=0,n=0;n<e.lines.length;n++){var o=e.lines[n];o.height=0,o.top=a;for(var r=0;r<o.length;r++){var s=o[r];if(!s.part.top||t){s.part.line=n,s.part.height||(s.part.height=e.eventHeight);var d=s.part.$e5();if(d>o.height&&(o.height=d),s.part.top=a+e.marginTop,l.eventVersionsEnabled&&!DayPilot.list(s.data.versions).isEmpty()){var c=s.data.versions.length,h=s.part.top;DayPilot.list(s.data.versions).each(function(e,t){if(s.versions[t]){var i=t*(l.eventVersionHeight+l.eventVersionMargin);s.versions[t].top=h+i,s.part.top+=l.eventVersionHeight,s.part.top+=l.eventVersionMargin}})}s.part.top+=l.eventMarginBottom,s.part.detachedBarTop=s.part.top-i,s.part.right=s.part.left+s.part.width,s.part.fullTop=this.rowlist[s.part.dayIndex].top+s.part.top,s.part.fullBottom=s.part.fullTop+s.part.height}}a+=(o.height||e.eventHeight)*this.eventStackingLineHeight/100}};var T={};T.loadRow=function(e){e.evColumns=DayPilot.list(l.itline).map(function(e,t){return{events:DayPilot.list()}}),DayPilot.list(e.events).each(function(t){var i=t.start(),a=l.$b4(i);e.evColumns[a.i].events.push(t)})},T.calculateEventPositions=function(){var e=l.cellStackingAutoHeight,t=0;DayPilot.list(l.rowlist).each(function(i){var a=0;i.evColumns.each(function(t,n){var o=l.itline[n],r=l.rowMarginTop;t.events.each(function(t){t.part.left=o.left,t.part.width=o.width,t.part.top=r,t.part.height||(t.part.height=e?T.getEventAutoHeight(t)+l.durationBarHeight:i.eventHeight),r+=t.part.height+l.eventMarginBottom}),t.height=r,t.height>a&&(a=t.height)}),i.maxColumnHeight=a,i.top=t;var n=i.height;i.height=i.getHeight(),a>l.rowMarginTop&&(i.height=a+l.rowMarginBottom),n!==i.height&&(l.$bO=!0),t+=i.height}),l.$9Q=t},T.getEventAutoHeight=function(e){var t=e.client.html(),i=document.createElement("div");i.style.position="absolute",i.style.top="-2000px",i.style.left="-2000px",i.style.width=e.part.width+"px",i.className=l.$aD(H.event);var a=document.createElement("div");a.className=l.$aD(H.eventInner),a.innerHTML=t,a.style.position="static",a.style.overflow="auto",i.appendChild(a);var n=l.divEvents;n.appendChild(i);var o=i.offsetHeight;return n.removeChild(i),o},T.calculateEventPositionsRow=function(e){T.calculateEventPositions()},T.drawEventsWithoutCheckingOverflow=function(){DayPilot.list(l.rowlist).each(function(e){T.drawEventsRow(e)})},T.drawEvents=function(){T.drawEventsWithoutCheckingOverflow(),T.checkOverflow(),l.$aa(),l.$ac()},T.checkOverflow=function(){if(l.cellStackingAutoHeight){var e=!1;DayPilot.list(l.elements.events).each(function(t){var i=t.firstChild,a=i.offsetHeight-i.clientHeight+t.offsetHeight-t.clientHeight,n=i.scrollHeight+a,o=t.event.part.height;t.event.part.height=n,o!==n&&(e=!0)}),e&&(l.$ae(),T.calculateEventPositions(),T.drawEventsWithoutCheckingOverflow(),l.$ad(),l.$ah())}},T.drawEventsRow=function(e){e.evColumns.each(function(e,t){e.events.each(function(e){l.$f0(e)})})},this.$aj=function(e){if(l.cellStacking)return void T.drawEvents();var t=this.$eZ.step,i=this.$eZ.layers;i&&(l.divEvents=document.createElement("div"),l.divEvents.style.position="absolute",l.$as.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.$eZ.mode?this.divEvents.style.display="none":"visibility"===this.$eZ.mode&&(this.divEvents.style.visibility="hidden");for(var a="Progressive"===this.dynamicEventRendering,n=this.$aw(),o=n.pixels.top,r=n.pixels.bottom,s=0;s<this.rowlist.length;s++){var d=this.rowlist[s],c=d.top-this.dynamicEventRenderingMargin,h=c+d.height+2*this.dynamicEventRenderingMargin;if(!a||!(c>=r||o>=h)){this.$e4(d);for(var u=0;u<d.lines.length;u++)for(var f=d.lines[u],p=0;p<f.length;p++){var g=f[p],y=this.$f0(g);if(e&&y&&(t--,0>=t))return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){l.$aj(e)},l.$eZ.delay)}}}this.divEvents.style.display="",DayPilot.list(l.multiselect.list).isEmpty()||l.multiselect.redraw(),this.$az(),v.load()},this.$bQ=function(e){var t=this.rowlist[e];if(l.cellStacking)return void T.drawEventsRow(t);this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.$as.insertBefore(this.divEvents,this.divSeparatorsAbove);var i=this.durationBarDetached?10:0;this.$e4(t);for(var a=0;a<t.lines.length;a++)for(var n=t.lines[a],o=0;o<n.length;o++){var r=n[o];this.$f0(r)}this.divEvents.style.display=""},this.$ae=function(){if(this.elements.events)for(var e=this.elements.events.length,t=0;e>t;t++){var i=this.elements.events[t];this.$f1(i)}this.elements.events=[]},this.$bP=function(e){if(this.elements.events){for(var t=this.elements.events.length,i=[],a=0;t>a;a++){var n=this.elements.events[a],o=n.event;o.part.dayIndex===e&&(this.$f1(n),i.push(a))}for(var a=i.length-1;a>=0;a--)this.elements.events.splice(i[a],1)}},this.$f1=function(e){e.onclick=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onmousemove=null,e.onmousedown=null,e.ondblclick=null,e.event&&(e.isBar||(e.event.rendered=null),e.event=null),e.related&&DayPilot.de(e.related),e.parentNode&&e.parentNode.removeChild(e)
},this.$f2=function(e){e.event&&(e.event.rendered=!1),e.onclick=null,e.onmousedown=null,e.event=null,e.parentNode&&e.parentNode.removeChild(e)},this.$f3=function(e){if(e||(e=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var t=[],i=0,a=this.elements.events.length,n=a-1;n>=0;n--){var o=this.elements.events[n];this.$f4(o.event)?e>0?(e--,t.unshift(o)):(this.$f1(o),i++):t.unshift(o)}this.elements.events=t,this.divEvents.style.display=""}},this.$f5=function(e){for(var t=[],i=0,a=this.$aw(),n=this.elements.cells.length,o=n-1;o>=0;o--){var r=this.elements.cells[o],s=a.xStart<r.coords.x&&r.coords.x<=a.xEnd&&a.yStart<r.coords.y&&r.coords.y<=a.yEnd;s?t.unshift(r):e>0?(e--,t.unshift(r)):(this.$d4(r),i++)}},this.$d4=function(e){if(e){var t=e.coords.x,i=e.coords.y;DayPilot.rfa(l.elements.cells,e),DayPilot.de(e),l.$9R.cells[t+"_"+i]=null}},this.$af=function(){if(this.elements.separators)for(var e=0;e<this.elements.separators.length;e++){var t=this.elements.separators[e];DayPilot.de(t)}this.elements.separators=[]},this.$f6=function(){var e="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var t=this.nav.scroll.scrollTop,i=t+this.nav.scroll.clientHeight,a=0;a<this.rowlist.length;a++){var n=this.rowlist[a],o=n.top,r=n.top+n.height;if(!e||!(o>=i||t>=r))for(var s=0;s<n.lines.length;s++)for(var l=n.lines[s],d=0;d<l.length;d++){var c=l[d];if(this.$f7(c))return!0}}return!1},this.$f7=function(e){if(e.rendered)return!1;var t="Progressive"===this.dynamicEventRendering,i=this.nav.scroll.scrollLeft,a=i+this.nav.scroll.clientWidth,n=e.Left,o=e.Left+e.Width;return t&&(n>=a||i>=o)?!1:!0},this.$f4=function(e){if(!e.rendered)return!0;var t=this.$aw(),i=t.pixels.top,a=t.pixels.bottom,n=t.pixels.left-this.dynamicEventRenderingMargin,o=t.pixels.right+this.dynamicEventRenderingMargin,r=e.part.left,s=e.part.right,l=e.part.fullTop,d=e.part.fullBottom;return r>=o||n>=s?!0:l>=a||i>=d?!0:!1},this.$e3=DayPilot.list(),this.$f8=function(e){if(e.rendered)return!1;var t=e.row;if(t.hidden)return!1;var i=e.min,a=e.max-e.min,n=l.eventHeight,o=e.row.top,r=document.createElement("div");r.style.position="absolute",r.style.left=i+"px",r.style.top=o+"px",r.style.width=a+"px",r.style.height=n+"px",r.className=l.$aD("_event_group"),r.style.cursor="pointer";var s={};s.group={},s.group.count=e.events.length,s.group.html="[+] "+e.events.length+" events","function"==typeof l.onBeforeGroupRender&&l.onBeforeGroupRender(s);var d=document.createElement("div");return d.innerHTML=s.group.html,r.appendChild(d),r.onmousedown=function(e){var e=e||window.event;e.cancelBubble=!0},r.onclick=function(e){var t=r.event;t.expanded=!0,l.$f2(r);var i=DayPilot.indexOf(l.elements.events,r);-1!==i&&l.elements.events.splice(i,1);var a=l.$e3;DayPilot.list(t.events).each(function(e){a.push(e.id())}),l.$bt(),l.$bu(t.part.dayIndex),l.$ac();var e=e||window.event;e.cancelBubble=!0},e.part={},e.part.left=i,e.part.width=a,e.part.height=l.eventHeight,e.part.dayIndex=DayPilot.indexOf(l.rowlist,e.row),e.part.top=0,e.part.isBlock=!0,e.client={},e.client.html=function(){return s.group.html},e.data={},r.event=e,this.elements.events.push(r),this.divEvents.appendChild(r),e.rendered=!0,!0},this.$f0=function(e){if(e.rendered)return!1;if(l.groupConcurrentEvents){var t=e.part.block;if(t.events.length>1&&!t.expanded)return l.$f8(t)}var i="Progressive"===this.dynamicEventRendering,a=this.$aw(),n=a.pixels.left-this.dynamicEventRenderingMargin,o=a.pixels.right+this.dynamicEventRenderingMargin,r=e.part.left,s=e.part.left+e.part.width;if(i&&(r>=o||n>=s))return!1;var d=e.part.dayIndex,c=e.part.width,h=e.part.height,u=e.cache||e.data;c=Math.max(0,c),h=Math.max(0,h);var f=this.rowlist[d];if(f.hidden)return!1;var v=f.top,p=this.durationBarDetached,g=document.createElement("div");if(g.related=[],p){var y=e.part.barLeft,m=e.part.barWidth;"PercentComplete"===this.durationBarMode&&(y=0,m=(u.complete||0)/100*c);var b=document.createElement("div");b.style.position="absolute",b.style.left=e.part.left+y+"px",b.style.top=v+e.part.detachedBarTop+"px",b.style.width=m+"px",b.style.height="5px",b.style.backgroundColor="black",b.type="detachedBar",g.related.push(b),this.divEvents.appendChild(b)}if(function L(t){l.eventVersionsEnabled&&DayPilot.list(e.data.versions).each(function(i,a){if(i){var n=e.versions[a];if(n){var o=document.createElement("div");o.style.position="absolute",o.style.left=n.left+"px",o.style.top=v+n.top+"px",o.style.width=n.width+"px",o.style.height=l.eventVersionHeight+"px",o.className=l.$aD(H.event)+" "+l.$aD("_event_previous")+" "+l.$aD("_event_version"),i.toolTip&&(o.title=i.toolTip),i.cssClass&&DayPilot.Util.addClass(o,i.cssClass);var r=document.createElement("div");r.setAttribute("unselectable","on"),r.className=l.$aD(H.eventInner),r.innerHTML=i.html||i.text||"",i.backColor&&(r.style.background=i.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(r.style.filter="")),i.fontColor&&(r.style.color=i.fontColor),i.borderColor&&(r.style.borderColor=i.borderColor),i.backImage&&(r.style.backgroundImage="url("+i.backImage+")",i.backRepeat&&(r.style.backgroundRepeat=i.backRepeat)),o.appendChild(r),n.continueLeft&&DayPilot.Util.addClass(o,l.$aD("_event_continueleft")),n.continueRight&&DayPilot.Util.addClass(o,l.$aD("_event_continueright"));var s=l.durationBarVisible&&!i.barHidden,d=n.width;if(s&&d>0){var c=100*n.barLeft/d,h=Math.ceil(100*n.barWidth/d);"PercentComplete"===l.durationBarMode&&(c=0,h=i.complete||0);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=l.$aD(H.eventBar),u.style.position="absolute",i.barBackColor&&(u.style.backgroundColor=i.barBackColor);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=l.$aD(H.eventBarInner),f.style.left=c+"%",f.style.width=h>0&&1>=h?"1px":h+"%",i.barColor&&(f.style.backgroundColor=i.barColor),i.barImageUrl&&(f.style.backgroundImage="url("+i.barImageUrl+")"),u.appendChild(f),o.appendChild(u)}if(i.htmlLeft){var p=5,g=document.createElement("div");g.style.position="absolute",g.style.right=-(n.left-p)+"px",g.style.top=v+n.top+"px",g.style.height=l.eventHeight+"px",g.style.boxSizing="border-box",g.innerHTML=i.htmlLeft,g.className=l.$aD("_event_left"),g.type="divLeft",g.versionPart=n,t.related.push(g),l.divEvents.appendChild(g)}if(i.htmlRight){var p=5,y=document.createElement("div");y.style.position="absolute",y.style.left=n.left+n.width+p+"px",y.style.top=v+n.top+"px",y.style.height=l.eventHeight+"px",y.style.boxSizing="border-box",y.innerHTML=i.htmlRight,y.className=l.$aD("_event_right"),y.type="divRight",y.versionPart=n,t.related.push(y),l.divEvents.appendChild(y)}o.versionPart=n,o.type="version",t.related.push(o),l.divEvents.appendChild(o)}}})}(g),e.data.htmlLeft){var w=5,D=document.createElement("div");D.style.position="absolute",D.style.right=-(e.part.left-w)+"px",D.style.top=v+e.part.top+"px",D.style.height=l.eventHeight+"px",D.style.boxSizing="border-box",D.innerHTML=e.data.htmlLeft,D.className=l.$aD("_event_left"),D.type="divLeft",g.related.push(D),this.divEvents.appendChild(D)}if(e.data.htmlRight){var w=5,k=document.createElement("div");k.style.position="absolute",k.style.left=e.part.left+e.part.width+w+"px",k.style.top=v+e.part.top+"px",k.style.height=l.eventHeight+"px",k.style.boxSizing="border-box",k.innerHTML=e.data.htmlRight,k.className=l.$aD("_event_right"),k.type="divRight",g.related.push(k),this.divEvents.appendChild(k)}var C=v+e.part.top;g.style.position="absolute",g.style.left=e.part.left+l.eventMarginLeft+"px",g.style.top=v+e.part.top+"px",g.style.width=c-l.eventMarginLeft-l.eventMarginRight+"px",g.style.height=h+"px",l.eventTextWrappingEnabled||(g.style.whiteSpace="nowrap"),g.style.overflow="hidden",g.className=this.$aD(H.event),"Milestone"===e.data.type&&DayPilot.Util.addClass(g,l.$aD("_task_milestone")),"Group"===e.data.type&&(DayPilot.Util.addClass(g,l.$aD("_task_parent")),DayPilot.Util.addClass(g,l.$aD("_task_group"))),u.cssClass&&DayPilot.Util.addClass(g,u.cssClass);var x=!0;x&&"number"==typeof e.part.line&&DayPilot.Util.addClass(g,this.$aD(H.eventLine+e.part.line)),g.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(g.title=e.client.toolTip()||""),g.onmousemove=this.$f9,g.onmouseout=this.$fa,g.onmousedown=this.$fb,g.ontouchstart=E.onEventTouchStart,g.ontouchmove=E.onEventTouchMove,g.ontouchend=E.onEventTouchEnd,e.client.clickEnabled()&&(g.onclick=this.$b6),e.client.doubleClickEnabled()&&(g.ondblclick=this.$bi),g.oncontextmenu=this.$bh;var P=[],S=0,A=document.createElement("div");A.setAttribute("unselectable","on"),A.className=l.$aD(H.eventInner),A.innerHTML=e.client.innerHTML(),u.backColor&&(A.style.background=u.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(A.style.filter="")),u.fontColor&&(A.style.color=u.fontColor),u.borderColor&&(A.style.borderColor=u.borderColor),u.backImage&&(A.style.backgroundImage="url("+u.backImage+")",u.backRepeat&&(A.style.backgroundRepeat=u.backRepeat)),g.appendChild(A);var T=e.start().getTime()===e.part.start.getTime(),M=e.rawend().getTime()===e.part.end.getTime();if(T||DayPilot.Util.addClass(g,this.$aD("_event_continueleft")),M||DayPilot.Util.addClass(g,this.$aD("_event_continueright")),e.client.barVisible()&&c>0){var y=100*e.part.barLeft/c,m=Math.ceil(100*e.part.barWidth/c);"PercentComplete"===this.durationBarMode&&(y=0,m=u.complete||0);var b=document.createElement("div");b.setAttribute("unselectable","on"),b.className=this.$aD(H.eventBar),b.style.position="absolute",u.barBackColor&&(b.style.backgroundColor=u.barBackColor);var _=document.createElement("div");_.setAttribute("unselectable","on"),_.className=this.$aD(H.eventBarInner),_.style.left=y+"%",_.style.width=m>0&&1>=m?"1px":m+"%",u.barColor&&(_.style.backgroundColor=u.barColor),u.barImageUrl&&(_.style.backgroundImage="url("+u.barImageUrl+")"),b.appendChild(_),g.appendChild(b)}if(g.row=d,u.areas)for(var R=0;R<u.areas.length;R++){var a=u.areas[R],B=a.v||"Visible";if("Visible"===B){(a.start||a.end)&&(a.left=l.getPixels(new DayPilot.Date(a.start)).left-e.part.left,a.width=l.getPixels(new DayPilot.Date(a.end)).left-a.left-e.part.left);var N=DayPilot.Areas.createArea(g,e,a);g.appendChild(N)}}if(this.elements.events.push(g),this.divEvents.appendChild(g),e.rendered=!0,g.event=e,l.multiselect.$by(g.event)&&(l.multiselect.add(g.event,!0),l.multiselect.$bx(g)),l.$aq()){if("function"==typeof l.onAfterEventRender){var U={};U.e=g.event,U.div=g,l.onAfterEventRender(U)}}else l.afterEventRender&&l.afterEventRender(g.event,g);return!0},this.$aq=function(){return 2===l.api},this.$bR=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e],i=t.event,a=i.part.dayIndex,n=this.rowlist[a],o=n.top,r=o+i.part.top;t.style.top=r+"px",DayPilot.list(t.related).filter(function(e){return!!e.versionPart}).each(function(e){var t=e.versionPart;e.style.top=o+t.top+"px"}),DayPilot.list(t.related).filter(function(e){return!e.versionPart&&("divLeft"===e.type||"divRight"===e.type)}).each(function(e){e.style.top=r+"px"})}},this.$cS=function(e){if(!e)return null;for(var t=0;t<l.elements.events.length;t++){var i=l.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.$fa=function(e){var t=this;DayPilot.Areas.hideAreas(t,e),DayPilot.Util.removeClass(t,l.$aD("_event_hover")),l.$fc(t),h.source||v.hideLinkpointsWithDelay(),l.bubble&&"Bubble"===l.eventHoverHandling&&l.bubble.hideOnMouseOut()},this.$fd=function(e){if("function"==typeof this.onEventMouseOver){var t={};t.div=e,t.e=e.event,this.onEventMouseOver(t)}},this.$fc=function(e){if("function"==typeof this.onEventMouseOut){var t={};t.div=e,t.e=e.event,this.onEventMouseOut(t)}},this.$f9=function(e){e=e||window.event,l.cellBubble&&l.cellBubble.delayedHide();for(var t=this;t&&!t.event;)t=t.parentNode;l.$fe(t,e);var i=t.event.cache?t.event.cache.deleteDisabled:t.event.data.deleteDisabled;if(!t.active){var n=[];if("Disabled"!==l.eventDeleteHandling&&!i){var o=l.durationBarVisible?l.durationBarHeight:0;n.push({action:"JavaScript",v:"Hover",w:17,h:17,top:o+2,right:2,css:l.$aD(H.eventDelete),js:function(e){l.$be(e)}})}var r=t.event.cache?t.event.cache.areas:t.event.data.areas;r&&r.length>0&&(n=n.concat(r)),DayPilot.Areas.showAreas(t,t.event,null,n),DayPilot.Util.addClass(t,l.$aD("_event_hover")),l.$fd(t)}"Disabled"===l.linkCreateHandling||h.source||(v.clearHideTimeout(),v.hideLinkpoints(),a.moving||a.resizing||v.showLinkpoint(t)),e.srcElement?e.srcElement.insideEvent=!0:e.insideEvent=!0},this.$ff={};var M=this.$ff;this.$fb=function(e){l.$dL(),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),e=e||window.event;var t=DayPilot.Util.mouseButton(e);if(t.left){var i=e.shiftKey;if("Disabled"!==l.multiSelectRectangle&&i)return _.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(a.preventEventClick=!0,a.resizing=this,a.originalMouse=DayPilot.mc(e),document.body.style.cursor=this.style.cursor,v.hideLinkpoints()):("move"===this.style.cursor||"Full"===l.moveBy&&this.event.client.moveEnabled())&&(M.start=!0,M.moving=this,M.movingEvent=this.event,M.originalMouse=DayPilot.mc(e),M.moveOffsetX=DayPilot.mo3(this,e).x,M.moveDragStart=l.getDate(l.coords.x,!0),v.hideLinkpoints())}return DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide(),e.cancelBubble=!0,!1},this.$fg={};var E=l.$fg;E.active=!1,E.start=!1,E.timeouts=[],E.onEventTouchStart=function(e){if(!E.active&&!E.start){e.stopPropagation(),E.clearTimeouts(),E.start=!0,E.active=!1;var i=this,a=l.tapAndHoldTimeout;E.timeouts.push(window.setTimeout(function(){E.active=!0,E.start=!1,l.coords=E.relativeCoords(e),e.preventDefault();var a=i.event;switch(l.eventTapAndHoldHandling){case"Move":if(a.client.moveEnabled()){var n=t(e);E.startMoving(i,n)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(e);var o=a.client.contextMenu();o?o.show(a):l.contextMenu&&l.contextMenu.show(a)}},a))}},E.onEventTouchMove=function(e){E.clearTimeouts(),E.start=!1},E.onEventTouchEnd=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(E.clearTimeouts(),E.start){E.start=!1,e.preventDefault(),e.stopPropagation();var t=this;window.setTimeout(function(){l.$ba(t,e)})}window.setTimeout(function(){E.start=!1,E.active=!1},500)}},E.onMainTouchStart=function(e){if(!(E.active||E.start||e.touches.length>1||"Disabled"===l.timeRangeSelectedHandling)){E.clearTimeouts(),E.start=!0,E.active=!1;var t=l.tapAndHoldTimeout;E.timeouts.push(window.setTimeout(function(){E.active=!0,E.start=!1,e.preventDefault(),l.coords=E.relativeCoords(e),E.range=l.$fh()},t));var i=!0;i&&(l.coords=E.relativeCoords(e))}},E.onMainTouchMove=function(e){if(E.clearTimeouts(),E.start=!1,a.resizing)return e.preventDefault(),void E.updateResizing();if(E.active){if(e.preventDefault(),l.coords=E.relativeCoords(e),a.moving)return void E.updateMoving();if(E.range){var t=E.range;t.end={x:Math.floor(l.coords.x/l.cellWidth)},l.$c5(t)}}},E.onMainTouchEnd=function(e){E.clearTimeouts();var t=!0;if(E.active){if(a.moving){e.preventDefault();var i=a.movingEvent,n=a.movingShadow.start,o=a.movingShadow.end,r="Days"!==l.viewType?a.movingShadow.row.id:null,s=a.drag?!0:!1,d=a.movingShadow.overlapping,c=!a.movingShadow.allowed;if(DayPilot.Util.removeClass(a.moving,l.$aD("_event_moving_source")),DayPilot.de(a.movingShadow),l.$dB(),a.movingShadow.calendar=null,document.body.style.cursor="",a.moving=null,a.movingEvent=null,a.movingShadow=null,l.$dw.clear(),d||c||l.$dw.forbidden||l.$dw.invalid)return;l.$bV(i,n,o,r,s)}if(E.range){var h=E.range;E.range=null;var u=l.elements.range2;u&&u.overlapping?l.clearSelection():l.$c1(h)}}else if(E.start&&t){var h=l.$fh();l.$c5(h);var u=l.elements.range2;u&&u.overlapping?l.clearSelection():l.$c1(h)}window.setTimeout(function(){E.start=!1,E.active=!1},500)},E.clearTimeouts=function(){for(var e=0;e<E.timeouts.length;e++)clearTimeout(E.timeouts[e]);E.timeouts=[]},E.relativeCoords=function(e){var t=l.$as,i=e.touches[0].pageX,a=e.touches[0].pageY,n=DayPilot.abs(t),o={x:i-n.x,y:a-n.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return o},E.startMoving=function(e,t){a.moving=e,a.movingEvent=e.event,a.originalMouse=t;var i=DayPilot.abs(e);a.moveOffsetX=t.x-i.x,a.moveDragStart=l.getDate(l.coords.x,!0),a.movingShadow=l.$cM(e,l.shadow),l.$dh()},E.startResizing=function(e,t){a.resizing=e,a.resizing.dpBorder=t,a.resizingShadow||(a.resizingShadow=l.$cM(e,l.shadow)),l.$dx()},E.updateResizing=function(){if(!a.resizingShadow){var e=a.resizing;a.resizingShadow=l.$cM(e,l.shadow)}l.$dx()},E.updateMoving=function(){if(a.movingShadow&&a.movingShadow.calendar!==l&&(a.movingShadow.calendar=null,DayPilot.de(a.movingShadow),a.movingShadow=null),!a.movingShadow){var e=a.moving;a.movingShadow=l.$cM(e,l.shadow)}a.moving.target=l,l.$dh()},this.$fe=function(e,t){var i=this.eventResizeMargin,n=this.eventMoveMargin,o=e;if("undefined"!=typeof a){var r=DayPilot.mo3(e,t);if(r&&(l.eventOffset=r,!a.resizing&&!a.moving)){var s=o.event.part.start.toString()===o.event.start().toString(),d=o.event.part.end.toString()===o.event.rawend().toString();if("Top"===l.moveBy&&r.y<=n&&o.event.client.moveEnabled()&&"Disabled"!==l.eventMoveHandling?e.style.cursor="move":("Top"===l.moveBy||"Full"===l.moveBy)&&r.x<=i&&o.event.client.resizeEnabled()&&"Disabled"!==l.eventResizeHandling?s?(e.style.cursor="w-resize",e.dpBorder="left"):e.style.cursor="not-allowed":"Left"===l.moveBy&&r.x<=n&&o.event.client.moveEnabled()&&"Disabled"!==l.eventMoveHandling?e.style.cursor="move":e.offsetWidth-r.x<=i&&o.event.client.resizeEnabled()&&"Disabled"!==l.eventResizeHandling?d?(e.style.cursor="e-resize",e.dpBorder="right"):e.style.cursor="not-allowed":a.resizing||a.moving||(e.style.cursor=o.event.client.clickEnabled()&&"Disabled"!==l.eventClickHandling?"pointer":"default"),"undefined"!=typeof DayPilotBubble&&l.bubble&&"Bubble"===l.eventHoverHandling&&("default"===e.style.cursor||"pointer"===e.style.cursor)){var c=this.$fi&&r.x===this.$fi.x&&r.y===this.$fi.y;c||(this.$fi=r,l.bubble.showEvent(e.event))}}}},this.$aE=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.$c2=function(e){var e=e||a.range||a.rangeHold;if(!e)return null;var t=l.rowlist[e.start.y];if(!t)return null;var i=e.$fj?e.$fj:e,n=t.id,o=i.end.x>i.start.x?i.start.x:i.end.x,r=i.end.x>i.start.x?i.end.x:i.start.x,s=0;s=t.start.getTime()-this.$aT().getTime();var d=this.itline[o].start.addTime(s),c=this.itline[r].end.addTime(s);return new DayPilot.Selection(d,c,n,l)},this.$fk=function(e){var t=e.parentNode,i=document.createElement("textarea");return i.style.position="absolute",i.style.width=(e.offsetWidth<100?100:e.offsetWidth-2)+"px",i.style.height=e.offsetHeight-2+"px",i.style.fontFamily=DayPilot.gs(e,"fontFamily")||DayPilot.gs(e,"font-family"),i.style.fontSize=DayPilot.gs(e,"fontSize")||DayPilot.gs(e,"font-size"),i.style.left=e.offsetLeft+"px",i.style.top=e.offsetTop+"px",i.style.border="1px solid black",i.style.padding="0px",i.style.marginTop="0px",i.style.backgroundColor="white",i.value=DayPilot.tr(e.event.text()),i.event=e.event,t.appendChild(i),i},this.$bc=function(e){if(e&&(a.editing&&a.editing.blur(),e.event)){var t=this.$fk(e);a.editing=t,DayPilot.re(t,DayPilot.touch.start,function(e){e.stopPropagation()}),t.onblur=function(){if(t.onblur=null,a.editing=null,t.parentNode&&t.parentNode.removeChild(t),e.event){var i=e.event.text(),n=t.value;l.$cm(e.event,n,t.canceling)}},t.onmousedown=function(e){e=e||window.event,e.stopPropagation&&e.stopPropagation()},t.onkeypress=function(e){var t=window.event?event.keyCode:e.keyCode;return 13===t?(this.onblur(),!1):!0},t.cancel=function(){a.editing&&(a.editing.canceling=!0,a.editing.blur())},t.onkeydown=function(e){var t=window.event?event.keyCode:e.keyCode;27===t&&a.editing.cancel()},t.select(),t.focus()}},this.$dQ=function(e){var t=this,i=t.row;if("undefined"!=typeof DayPilotBubble&&(l.cellBubble&&l.cellBubble.hideOnMouseOut(),l.resourceBubble)){var a={};a.calendar=l,a.id=i.id,i.bubbleHtml&&(a.bubbleHtml=function(){return i.bubbleHtml}),a.toJSON=function(){var e={};return e.id=this.id,e},l.resourceBubble.showResource(a)}},this.$dR=function(e){var t=this;"undefined"!=typeof DayPilotBubble&&l.resourceBubble&&l.resourceBubble.hideOnMouseOut();var i=t.firstChild;DayPilot.Areas.hideAreas(i,e),i.data=null},this.$dS=function(e){c.row&&(x.cancelClick=!0,setTimeout(function(){x.cancelClick=!1},100))},this.$a6=function(){if(this.timeHeader){this.$9R.timeHeader={};var e=document.createElement("div");e.style.position="relative",this.nav.timeHeader=e;for(var t=0;t<this.timeHeader.length;t++)for(var i=this.timeHeader[t],a=0;a<i.length;a++)this.$fl(a,t);var n=this.divNorth;1===n.childNodes.length?n.replaceChild(e,n.childNodes[0]):(n.innerHTML="",n.appendChild(e));var o=this.$dl();n.style.width=o+5e3+"px",l.divCorner.innerHTML=this.cornerHtml||"",o>0&&(this.divStretch.style.width=o+"px")}},this.$aZ=function(e,t){var i=null,a=this.$cL.locale(),t=t||this.cellGroupBy,n=e.start,o=e.end;switch(t){case"Hour":i="Clock12Hours"===l.$cL.timeFormat()?n.toString("h tt",a):n.toString("H",a);break;case"Day":i=n.toString(a.datePattern);break;case"Week":i=1===B.weekStarts()?n.weekNumberISO():n.weekNumber();break;case"Month":i=n.toString("MMMM yyyy",a);break;case"Quarter":i="Q"+Math.floor(n.getMonth()/3+1);break;case"Year":i=n.toString("yyyy");break;case"None":i="";break;case"Cell":if("Manual"===this.scale||"CellDuration"===this.scale){var r=(e.end.ticks-e.start.ticks)/6e4;i=this.$fm(n,r)}else i=this.$aZ(e,this.scale);break;default:throw"Invalid cellGroupBy value"}return i},this.$fm=function(e,t){var i=this.$cL.locale(),t=t||this.cellDuration;return 60>t?e.toString("mm"):1440>t?"Clock12Hours"===l.$cL.timeFormat()?e.toString("h tt",i):e.toString("H",i):10080>t?e.toString("d"):10080===t?1===B.weekStarts()?e.weekNumberISO():e.weekNumber():e.toString("MMMM yyyy",i)},this.$aV=function(e){var t=this.scale;switch(t){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return e.addMinutes(1);case"CellDuration":return e.addMinutes(this.cellDuration);default:return this.$aY(e,t)}},this.$aY=function(e,t){var i,a="Days"!==this.viewType?this.days:1,n=this.startDate.addDays(a);"Manual"===l.scale&&(n=l.$aX());var t=t||this.cellGroupBy,o=60;switch(t){case"Hour":e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()>0&&(e=e.getDatePart().addHours(e.getHours())),i=e.addHours(1);break;case"Day":i=e.getDatePart().addDays(1);break;case"Week":for(i=e.getDatePart().addDays(1);i.dayOfWeek()!==B.weekStarts();)i=i.addDays(1);break;case"Month":i=e.addMonths(1),i=i.firstDayOfMonth();for(var r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"Quarter":for(i=e.addMonths(1),i=i.firstDayOfMonth();i.getMonth()%3;)i=i.addMonths(1);for(var r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"Year":i=e.addYears(1),i=i.firstDayOfYear();for(var r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,e)/6e4%o===0;break;case"None":i=n;break;case"Cell":var s=this.$b4(e);i=s.current?s.current.end:s.past?s.previous.end:s.next.start;break;default:throw"Invalid cellGroupBy value"}return i.getTime()>n.getTime()&&(i=n),i},this.$fn={},this.$fn.timeheadercol="_timeheadercol",this.$fn.timeheadercolInner="_timeheadercol_inner",this.$fn.resourcedivider="_resourcedivider",this.$fn.eventFloat="_event_float",this.$fn.eventFloatInner="_event_float_inner",this.$fn.event="_event",this.$fn.eventInner="_event_inner",this.$fn.eventBar="_event_bar",this.$fn.eventBarInner="_event_bar_inner",this.$fn.eventDelete="_event_delete",this.$fn.eventLine="_event_line",this.$fn.eventMovingSource="_event_moving_source";var H=this.$fn;this.$fl=function(e,t){var i=this.nav.timeHeader,a=this.timeHeader[t][e],n=t<this.timeHeader.length-1,o=t*B.headerHeight(),r=a.left,s=a.width,d=B.headerHeight(),c=document.createElement("div");c.style.position="absolute",c.style.top=o+"px",c.style.left=r+"px",c.style.width=s+"px",c.style.height=d+"px",a.toolTip&&(c.title=a.toolTip),a.cssClass&&DayPilot.Util.addClass(c,a.cssClass),c.setAttribute("unselectable","on"),c.style.KhtmlUserSelect="none",c.style.MozUserSelect="none",c.style.webkitUserSelect="none",c.oncontextmenu=function(){return!1},c.cell={},c.cell.start=a.start,c.cell.end=a.end,c.cell.level=t,c.cell.th=a,c.onclick=this.$dX,c.style.overflow="hidden",l.timeHeaderTextWrappingEnabled||(c.style.whiteSpace="nowrap");var h=document.createElement("div");h.setAttribute("unselectable","on"),a.innerHTML&&(h.innerHTML=a.innerHTML),a.backColor&&(h.style.background=a.backColor);var u=this.$aD(H.timeheadercol),f=this.$aD(H.timeheadercolInner);n&&(u=this.$aD("_timeheadergroup"),f=this.$aD("_timeheadergroup_inner")),DayPilot.Util.addClass(c,u),DayPilot.Util.addClass(h,f),DayPilot.list(a.areas).each(function(e){(e.start||e.end)&&(e.left=l.getPixels(new DayPilot.Date(e.start)).left-r,e.width=l.getPixels(new DayPilot.Date(e.end)).left-e.left-r)}),c.appendChild(h),DayPilot.Areas.attach(c,a,{areas:a.areas}),this.$9R.timeHeader[e+"_"+t]=c,i.appendChild(c)},this.$bt=function(){if(l.cellStacking)return void T.calculateEventPositions();for(var e=0;e<this.rowlist.length;e++){var t=this.rowlist[e],i=t.getHeight()+t.marginBottom+t.marginTop;t.height!==i&&(this.$bO=!0),t.height=i}},this.$aa=function(){var e=this.divHeader;if(!e)return!1;for(var t=this.rowlist.length,i=this.rowHeaderCols?this.rowHeaderCols.length:1,a=0,n=0;t>n;n++){var o=this.rowlist[n];if(!o.hidden){var r=this.$dK?n:a;if(e.rows[r]){for(var s=0;s<e.rows[r].cells.length;s++){var d=e.rows[r].cells[s];this.$dK&&(d.style.top=o.top+"px");var c=o.height;d&&d.firstChild&&parseInt(d.firstChild.style.height,10)!==c&&(d.firstChild.style.height=c+"px")}a++}}}this.$dK&&l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.top=l.$9Q+"px")},this.$eY=function(e){var t=this.separators[e];t.location=t.location||t.Location,t.color=t.color||t.Color,t.layer=t.layer||t.Layer,t.width=t.width||t.Width,t.opacity=t.opacity||t.Opacity;var i=new DayPilot.Date(t.location),a=t.color,n=t.width?t.width:1,o=t.layer?"AboveEvents"===t.layer:!1,r=t.opacity?t.opacity:100;if(!(i.getTime()<this.$aT().getTime()||i.getTime()>=this.$aX().getTime())){var s=this.getPixels(i);if(!s.cut&&!(s.left<0||s.left>this.$aE()*this.cellWidth)){var d=document.createElement("div");d.style.width=n+"px",d.style.height=l.$9Q+"px",d.style.position="absolute",d.style.left=s.left-1+"px",d.style.top="0px",d.style.backgroundColor=a,d.style.opacity=r/100,d.style.filter="alpha(opacity="+r+")",o?this.divSeparatorsAbove.appendChild(d):this.divSeparators.appendChild(d),this.elements.separators.push(d)}}},this.$eR=function(e){if("Disabled"===l.timeRangeDoubleClickHandling)return!1;a.timeRangeTimeout&&(clearTimeout(a.timeRangeTimeout),a.timeRangeTimeout=null);var t={};if(!l.coords){var i=l.$as;l.coords=DayPilot.mo3(i,e)}if(e=e||window.event,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,l.$fo(l.coords)){var n=l.$c2(a.rangeHold);l.$c6(n.start,n.end,n.resource)}else if(a.range=l.$fh(),a.range){a.rangeCalendar=l;var n=l.$c2(a.range);l.$c6(n.start,n.end,n.resource)}a.rangeHold=a.range,a.range=null},this.$eN=function(e){if(!E.start&&!E.active){if(l.$fp(),l.$eL(),!l.coords){var t=l.$as;l.coords=DayPilot.mo3(t,e)}if(a.rectangleSelect)return!1;e=e||window.event;var i=DayPilot.Util.mouseButton(e);if(i.middle||i.right&&l.$fo(l.coords))return!1;var n=e.ctrlKey,o=e.metaKey,r=e.shiftKey,s=n||o,d={};if(d.action="None","Disabled"!==l.multiSelectRectangle&&r?d.action="RectangleSelect":"Disabled"!==l.timeRangeSelectedHandling&&(d.action="TimeRangeSelect"),d.shift=r,d.ctrl=r,d.meta=o,d.preventDefault=function(){d.action="None"},"function"==typeof l.onGridMouseDown&&l.onGridMouseDown(d),"None"===d.action)return!1;if("RectangleSelect"===d.action){var c={};return c.start=l.coords,c.calendar=l,a.rectangleSelect=c,!1}l.allowMultiRange&&!s&&R.clear();var h=l.$cD(l.coords.y).i,u=l.rowlist[h];return u.isNewRow?!1:(a.range=l.$fh(),a.range&&(a.range.ctrl=s,a.rangeCalendar=l),!1)}},this.$fh=function(){var e={},t=this.$b2(l.coords.x).x;return e.start={y:l.$cD(l.coords.y).i,x:t},e.end={x:t},this.$cN(l.$cD(l.coords.y).i)?null:(e.calendar=l,l.$c5(e),e)},this.$dy=function(){l.$di();var e=a.resizingShadow,t=a.resizing;!function(){var i=l.$fq;if(!i||i.start.getTime()!==e.start.getTime()||i.end.getTime()!==l.$bm(e.end).getTime()){var n={};n.start=e.start,n.end=l.$bm(e.end),n.duration=new DayPilot.Duration(n.start,n.end),n.e=t.event,n.allowed=!0,n.left={},n.left.html=n.start.toString(l.eventResizingStartEndFormat,B.locale()),n.left.enabled=l.eventResizingStartEndEnabled,n.right={},n.right.html=n.end.toString(l.eventResizingStartEndFormat,B.locale()),n.right.enabled=l.eventResizingStartEndEnabled,n.multiresize=DayPilot.list(w.list);var o={};o.event=t,o.start=n.start,o.end=n.end,n.multiresize.splice(0,0,o),l.$fq=n,"function"==typeof l.onEventResizing&&l.onEventResizing(n),e.allowed=n.allowed,l.$dz(a.resizingShadow,n),l.$dA(a.resizingShadow,n)}}()},this.$eP=function(e){if(a.rectangleSelect){var e=e||window.event;return e.cancelBubble=!0,e.preventDefault&&e.preventDefault(),a.gMouseUp(e),!1}M={}},this.$fr=function(){return a.resizing||a.moving||a.range},this.$eO=function(e){if(!E.active){a.activeCalendar=l,e=e||window.event;var t=DayPilot.mc(e);if(l.coords=DayPilot.mo3(l.$as,e),e.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),M.start&&(M.originalMouse.x!==t.x||M.originalMouse.y!==t.y)&&(DayPilot.Util.copyProps(M,a),document.body.style.cursor="move",M={}),a.resizing&&a.resizing.event.calendar===l)l.$fs();else if(a.moving&&(a.movingEvent.calendar===l||a.movingEvent.calendar.dragOutAllowed))a.moving.event||(a.moving.event=a.movingEvent),l.$ft();else if(a.range&&a.range.calendar===l)l.$fu();else if(h.source){var i=h.source;v.drawShadow(i.coords,l.coords)}else a.rectangleSelect&&(a.rectangleSelect.moved=!0,_.draw());"Disabled"!==l.crosshairType&&l.$fv(),l.$fw();var n=e.insideEvent;if(window.event&&(n=window.event.srcElement.insideEvent),l.cellBubble&&l.coords&&l.rowlist&&l.rowlist.length>0&&!n){var o=l.$b2(l.coords.x),r=l.$cD(l.coords.y).i;if(r>=0&&r<l.rowlist.length&&o>=0&&o<l.itline.length){var d={};d.calendar=l,d.start=l.itline[o].start,d.end=l.itline[o].end,d.resource=l.rowlist[r].id,d.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},l.cellBubble.showCell(d)}}if(a.drag){if(l.$fp(),a.gShadow&&document.body.removeChild(a.gShadow),a.gShadow=null,!a.movingShadow&&l.coords&&l.rowlist.length>0){if(!a.moving){a.moving={};var c=a.drag.event;if(!c){var f=l.itline[0].start,e={id:a.drag.id,start:f,end:f.addSeconds(a.drag.duration),text:a.drag.text},p=a.drag.data;if(p){var g=["duration","element","id","text"];for(var y in p)DayPilot.contains(g,y)||(e[y]=p[y])}c=new DayPilot.Event(e),c.calendar=l,c.part.external=!0}a.moving.event=c,a.movingEvent=c}a.movingShadow=l.$cM(a.moving,a.drag.shadowType)}e.cancelBubble=!0}if("Always"===l.autoScroll||"Drag"===l.autoScroll&&(a.moving||a.resizing||a.range)){var m=l.nav.scroll,b={x:l.coords.x,y:l.coords.y};b.x-=m.scrollLeft,b.x+=u.shiftX,b.y-=m.scrollTop;var w=m.clientWidth,D=m.clientHeight,k=30,C=b.x<k?b.x:0,x=w-b.x<k?w-b.x:0,P=b.y<k?b.y:0,S=D-b.y<k?D-b.y:0,o=0,r=0,A=50;C&&(o=-A*s(C,k)),x&&(o=A*s(x,k)),P&&(r=-A*s(P,k)/2),S&&(r=A*s(P,k)/2),(a.resizing||a.range)&&(r=0),o||r?l.$fx(o,r):l.$eL()}}},this.$fu=function(){var e=a.range;e.end={x:l.$b2(l.coords.x).x},l.$c5(e)},this.$fs=function(){a.resizingShadow||(a.resizingShadow=l.$cM(a.resizing,l.shadow)),l.$dx()},this.$ft=function(){if(a.movingShadow&&a.movingShadow.calendar!==l&&(a.movingShadow.calendar=null,DayPilot.de(a.movingShadow),a.movingShadow=null),!a.movingShadow){var e=a.moving;a.movingShadow=l.$cM(e,l.shadow)}l.$df(),a.moving.target=l,l.$dh()},this.$fy={};var _=this.$fy;_.start=function(){var e={};e.start=l.coords,e.calendar=l,a.rectangleSelect=e},_.draw=function(){var e=a.rectangleSelect,t=a.rectangleSelect.start,i=l.coords;
_.clear();var n={x:e.x,y:e.y,width:e.width,height:e.height},o,r,s,c,h,u,f,v;if(function D(){h=Math.min(t.x,i.x),f=Math.max(t.x,i.x),"Free"===l.multiSelectRectangle?(u=Math.min(t.y,i.y),v=Math.max(t.y,i.y)):"Row"===l.multiSelectRectangle&&(u=t.y,v=t.y)}(),"Free"===l.multiSelectRectangle)o=h,r=u,s=f-h,c=v-u;else{if("Row"!==l.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+l.multiSelectRectangle;var p=l.$cD(u).i,g=l.rowlist[p];r=g.top,c=g.height;var y=l.$b2(h).cell;o=y.left;var m=l.$b2(f).cell;s=m.left+m.width-o}var b=DayPilot.Util.div(l.divRectangle,o,r,s,c);if(b.style.boxSizing="border-box",b.style.backgroundColor="#0000ff",b.style.border="1px solid #000033",b.style.opacity=.4,e.x=o,e.y=r,e.width=s,e.height=c,(e.x!==n.x||e.y!==n.y||e.width!==n.width||e.height!==n.height)&&"function"==typeof l.onRectangleEventSelecting){var w={};w.events=d.eventsInRectangle(e.x,e.y,e.width,e.height).map(function(e){return e.event}),w.start=l.getDate(e.x,!0),w.end=l.getDate(e.x+e.width,!0),l.onRectangleEventSelecting(w)}},_.clear=function(){l.divRectangle.innerHTML="",l.elements.rectangle=[]},this.$fz=function(){var e,t;if(!(l.coords&&l.rowlist&&l.rowlist.length>0&&l.itline&&l.itline.length>0))return null;if(e=l.$b2(l.coords.x).x,t=l.$cD(l.coords.y).i,!(t>=l.rowlist.length)){var i=l.cells.findXy(e,t);return i[0]}},this.$fw=function(){var e=this.$fz();if(this.hover.cell){if(this.hover.cell.x===e.x&&this.hover.cell.y===e.y)return;this.$eM()}if(this.hover.cell=e,"function"==typeof this.onCellMouseOver){var t={};t.cell=e,this.onCellMouseOver(t)}},this.$eM=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var e={};e.cell=this.hover.cell,this.onCellMouseOut(e)}this.hover.cell=null}},this.hover={},this.$fv=function(){var e=this.$fz();this.hover.cell&&this.hover.cell.x===e.x&&this.hover.cell.y===e.y||this.$fA()},this.$fp=function(){this.divCrosshair.innerHTML="",this.$fB=null,this.$fC=null},this.$eB=function(){if(this.$fp(),this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null),this.crosshairLeft){for(var e=0;e<this.crosshairLeft.length;e++){var t=this.crosshairLeft[e];t.parentNode&&t.parentNode.removeChild(t)}this.crosshairLeft=null}this.$9O=-1,this.$9N=-1},this.$fA=function(){var e,t;if(l.coords&&l.rowlist&&l.rowlist.length>0&&(e=l.$b2(l.coords.x).x,t=l.$cD(l.coords.y).i,!(t>=l.rowlist.length))){var i=this.crosshairType,a=l.rowlist[t];if("Full"===i){var n=this.itline[e],o=n.left,r=this.$fB;if(!r){var r=document.createElement("div");r.style.height=l.$9Q+"px",r.style.position="absolute",r.style.top="0px",r.style.backgroundColor=this.crosshairColor,r.style.opacity=this.crosshairOpacity/100,r.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.$fB=r,this.divCrosshair.appendChild(r)}r.style.left=o+"px",r.style.width=n.width+"px";var s=a.top,d=a.height,c=this.$dl(),r=this.$fC;if(!r){var r=document.createElement("div");r.style.width=c+"px",r.style.height=d+"px",r.style.position="absolute",r.style.top=s+"px",r.style.left="0px",r.style.backgroundColor=this.crosshairColor,r.style.opacity=this.crosshairOpacity/100,r.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.$fC=r,this.divCrosshair.appendChild(r)}r.style.top=s+"px",r.style.height=d+"px"}var h=this.$fD(this.coords.x);if(h&&this.$9O!==h.x){this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null);var r=document.createElement("div");r.style.width=h.cell.width+"px",r.style.height=B.headerHeight()+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.style.backgroundColor=this.crosshairColor,r.style.opacity=this.crosshairOpacity/100,r.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairTop=r;var u=this.divNorth,f=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.$9R.timeHeader[h.x+"_"+f].appendChild(r):u.firstChild.rows[f].cells[e]&&u.firstChild.rows[f].cells[e].firstChild.appendChild(r)}if(this.$9N!==t){if(this.crosshairLeft){for(var v=0;v<this.crosshairLeft.length;v++){var p=this.crosshairLeft[v];p.parentNode&&p.parentNode.removeChild(p)}this.crosshairLeft=null}var g=this.rowHeaderCols?this.rowHeaderCols.length:1;if(this.crosshairLeft=[],this.divHeader.rows[t])for(var v=0;v<this.divHeader.rows[t].cells.length;v++){var c=l.$aG(),r=document.createElement("div");r.style.width=c+"px",r.style.height=a.height+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.style.backgroundColor=this.crosshairColor,r.style.opacity=this.crosshairOpacity/100,r.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairLeft.push(r),this.divHeader.rows[t].cells[v].firstChild.appendChild(r)}}h&&(this.$9O=h.x),this.$9N=t}},this.$dr=function(e,t){var i=l.timeHeader[e];if(!i)return null;for(var a=0;a<i.length;a++){var n=i[a];if(t>=n.left&&t<n.left+n.width){var o={};return o.cell=n,o.x=a,o}}return null},this.$fD=function(e){return l.$dr(l.timeHeader.length-1,e)},this.$eQ=function(e){if(e=e||window.event,"Disabled"===l.timeRangeSelectedHandling)return!1;if("Disabled"===l.timeRangeRightClickHandling)return!1;l.$fo(l.coords)||l.$fE(e);var t=null;t=l.$fo(l.coords)?l.$c2(a.rangeHold):l.$c2(),t.end=l.$bm(t.end);var i={};return i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeRangeRightClick&&(l.onTimeRangeRightClick(i),i.preventDefault.value)?!1:("ContextMenu"===l.timeRangeRightClickHandling&&l.contextMenuSelection&&l.contextMenuSelection.show(t),"function"==typeof l.onTimeRangeRightClicked&&l.onTimeRangeRightClicked(i),e.cancelBubble=!0,l.allowDefaultContextMenu?void 0:!1)},this.$fo=function(e){var t=a.rangeHold;if(!t||!t.start||!t.end)return!1;var i=this.$cT(t.start.y),n=t.start.x<t.end.x,o=(n?t.start.x:t.end.x)*this.cellWidth,r=(n?t.end.x:t.start.x)*this.cellWidth+this.cellWidth,s=i.top,l=i.bottom;return e.x>=o&&e.x<=r&&e.y>=s&&e.y<=l?!0:!1},this.$c5=function(e,t){function i(e){var t=e.end.x>e.start.x?e.start.x:e.end.x,i=e.end.x>e.start.x?e.end.x:e.start.x,a=e.start.y,n=l.rowlist[a],o=l.itline[t],r=l.itline[i],s=o.left,d=r.left+r.width,c=d-s,h=l.elements.range2;if(!h){h=document.createElement("div"),h.style.position="absolute",h.setAttribute("unselectable","on"),h.className=l.$aD("_shadow");var u=document.createElement("div");u.className=l.$aD("_shadow_inner"),h.appendChild(u),l.divRange.appendChild(h)}return h.style.left=o.left+"px",h.style.top=l.rowlist[a].top+"px",h.style.width=c+"px",h.style.height=l.rowlist[a].height-1+"px",l.elements.range2=h,function f(){var e=l.rowlist[a],t=h,i=o.left;l.$dv(h,e,i,c,null)}(),h}var e=e||a.range;e&&!function(){var a=e.end.x>e.start.x?e.start.x:e.end.x,n=e.end.x>e.start.x?e.end.x:e.start.x,o=e.start.y,r=l.rowlist[o],s=l.itline[a],d=l.itline[n],c=l.$fF,h=s.start.addTime(r.data.offset),u=d.end.addTime(r.data.offset);if(t||!c||c.start.getTime()!==h.getTime()||c.end.getTime()!==u.getTime()||c.resource!==l.rowlist[o].id){var f={start:h,end:l.$bm(u)},v={};v.start=f.start,v.end=f.end,v.duration=new DayPilot.Duration(f.start,f.end),v.resource=l.rowlist[o].id,v.allowed=!0,v.left={},v.left.html=v.start.toString(l.timeRangeSelectingStartEndFormat,B.locale()),v.left.enabled=l.timeRangeSelectingStartEndEnabled,v.right={},v.right.html=v.end.toString(l.timeRangeSelectingStartEndFormat,B.locale()),v.right.enabled=l.timeRangeSelectingStartEndEnabled,l.$fF=v,"function"!=typeof l.onTimeRangeSelecting||t||l.onTimeRangeSelecting(v);var p=l.$fG(e);l.$c4(p,v.start,v.end);var g=i(p);l.$dz(g,v),e.$fj=p,e.disabled=!v.allowed,l.$dA(g,v),v.start=f.start,v.end=f.end}}()},this.$fG=function(e){return{start:{x:e.start.x,y:e.start.y},end:{x:e.end.x},disabled:e.disabled}},this.range={},this.range.all=function(){return R.get()},this.$fH={};var R=this.$fH;this.$fH.list=[],this.$fH.clear=function(){DayPilot.de(DayPilot.list(R.list).map(function(e){return e.div})),R.list=[]},this.$fH.add=function(e){e.div=l.elements.range2,l.elements.range2=null,l.$dB(),R.list.push(e)},this.$fH.get=function(){return DayPilot.list(R.list).map(function(e){return l.$c2(e)})},this.$fH.dispatch=function(){if(l.allowMultiRange&&!a.range){var e=DayPilot.list(R.list).last();l.$c1(e)}},this.$fE=function(e){if("Disabled"===l.timeRangeSelectedHandling)return!1;if(!E.active&&!E.start){e=e||window.event;var t=DayPilot.Util.mouseButton(e);if(!a.range&&!a.rectangleSelect&&!(a.rangeHold&&l.$fo(l.coords)&&(t.right||t.middle)||l.$cN(l.$cD(l.coords.y).i))){var i={},n=l.$b2(l.coords.x).x;i.start={y:l.$cD(l.coords.y).i,x:n},i.end={x:n},l.$c5(i),l.$c1(i),a.rangeHold=i}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.$ap=function(e){if(l.$9Y(),u.isEnabled()&&!u.active&&l.$bM&&"Auto"!=l.cellWidthSpec&&(l.nav.scroll.scrollLeft<l.$9L?(u.active=!0,setTimeout(function(){u.shiftStart(-l.$9M)},100)):l.nav.scroll.scrollWidth-(l.nav.scroll.scrollLeft+l.nav.scroll.clientWidth)<l.$9L&&(u.active=!0,setTimeout(function(){u.shiftStart(l.$9M)},100))),l.dynamicLoading)return void l.$fI();var t=l.nav.scroll;if(l.$dp=t.scrollLeft,l.$do=t.scrollTop,l.$dq=t.clientWidth,l.divTimeScroll.scrollLeft=l.$dp,l.divResScroll.scrollTop=l.$do,l.timeouts.drawEvents&&(clearTimeout(l.timeouts.drawEvents),l.timeouts.drawEvents=null),l.scrollDelayEvents>0?l.timeouts.drawEvents=setTimeout(l.$fJ(),l.scrollDelayEvents):l.$aj(),l.timeouts.drawCells&&(clearTimeout(l.timeouts.drawCells),l.timeouts.drawCells=null),l.scrollDelayCells>0)l.timeouts.drawCells=setTimeout(l.$fK(),l.scrollDelayCells);else{var i=l.$fK();i()}l.timeouts.updateFloats&&(clearTimeout(l.timeouts.updateFloats),l.timeouts.updateFloats=null),l.scrollDelayFloats>0?l.timeouts.updateFloats=setTimeout(function(){l.$an()},l.scrollDelayFloats):l.$an(),l.onScrollCalled=!0},this.$fK=function(){return function(){l.$am(),l.$ah()}},this.$fJ=function(){var e=!0,t=l.dynamicEventRenderingCacheSweeping,i=l.dynamicEventRenderingCacheSize;return function(){l.$f6()?window.setTimeout(function(){t&&l.$f3(i),window.setTimeout(function(){l.$aj(e)},50)},50):l.$az()}},this.$9Y=function(){this.$9R.eventHeight=null,this.$9R.drawArea=null},this.show=function(){this.visible=!0,l.nav.top.style.display="",this.$a8(),this.$a9(),l.$ap()},this.hide=function(){this.visible=!1,l.nav.top.style.display="none"},this.$fI=function(){var e=l.nav.scroll;l.$dp=e.scrollLeft,l.$do=e.scrollTop,l.$dq=e.clientWidth,l.divTimeScroll.scrollLeft=l.$dp,l.divResScroll.scrollTop=l.$do,l.refreshTimeout&&window.clearTimeout(l.refreshTimeout);var t=l.scrollDelayDynamic;l.refreshTimeout=window.setTimeout(l.$fL(e.scrollLeft,e.scrollTop),t),l.$an()},this.$fM=function(e){for(var t=e.id,i=new DayPilot.Date(e.start).toString(),a=0;a<this.events.list.length;a++){var n=this.events.list[a],o=n.id;if(o===t){if(DayPilot.Util.isNullOrUndefined(t)&&!DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)){var r=new DayPilot.Date(n.start).toString();if(n.recurrentMasterId!==e.recurrentMasterId||i!==r)continue}var s={};return s.ex=n,s.index=a,s.modified=!l.$fN(e,n),s}}return null},this.$fN=function(e,t){for(var i in e)if(("object"!=typeof e[i]||e[i]instanceof DayPilot.Date)&&e[i]!==t[i])return!1;for(var i in t)if("object"!=typeof t[i]&&e[i]!==t[i])return!1;return!0},this.$ak=function(e,t){for(var i=[],a=0;a<e.length;a++){var n=e[a],o=l.$fM(n),r=o&&o.modified,s=!o;if(r){this.events.list[o.index]=n;var d=l.events.$bq(o.ex);i=i.concat(d)}else s&&this.events.list.push(n);(r||s)&&(i=i.concat(l.events.$br(n)))}l.$bs(i),l.$bt(),l.$a7(),l.$ac();var c=!1;c?l.$bu(i,!1,t):(l.$ae(),l.$ad(),l.$aa(),l.$ah(),l.$aj())},this.$fL=function(e,t){return l.$aM()?function(){l.scrollX=e,l.scrollY=t,l.$b9("Scroll")}:function(){if("function"==typeof l.onScroll){var e=function(e){var t=function(){if(l.$aq()&&"function"==typeof l.onAfterRender){var e={};e.isCallBack=!1,e.isScroll=!0,e.data=null,l.onAfterRender(e)}};l.$ak(e,t)},t={};t.viewport=l.getViewPort(),t.async=!1,t.events=[],t.loaded=function(){this.async&&e(this.events)},l.onScroll(t),t.async||e(t.events)}}},this.$fO=function(){var e=this.$aw(),t=e.xStart,i=e.xEnd-e.xStart,a=e.yStart,n=e.yEnd-e.yStart;this.cellProperties||(this.cellProperties={});for(var o=0;i>=o;o++){for(var r=t+o,s=0;n>s;s++){var l=a+s;this.rowlist[l].hidden||this.$d5(r,l)}this.$fP(r)}for(var d=this.$dE(),l=d.start;l<d.end;l++)this.rowlist[l].hidden||this.$fQ(l)},this.$ah=function(){if(l.progressiveRowRendering&&this.$bJ(),null!==this.rowlist&&this.rowlist.length>0){var e=this.cellSweeping;if(e){var t=this.cellSweepingCacheSize;this.$f5(t)}this.$fO(),this.$fR(),x.$e9()}var i=this.$dl();this.$as.style.height=this.$9Q+"px",this.$as.style.width=i+"px","Auto"!==l.cellWidthSpec||l.$aP?l.nav.scroll.style.overflowX="auto":(l.nav.scroll.style.overflowX="hidden",l.nav.scroll.scrollLeft=0),this.$bO=!1},this.$fR=function(){for(var e=this.$aw(),t=e.xStart;t<e.xEnd;t++){var i=t<this.itline.length-1?this.itline[t+1].breakBefore:!1;i&&this.$fS(t)}},this.$fS=function(e){var t="x"+e;if(!this.$9R.breaks[t]){var i=this.itline[e+1].left-1,a=this.$9Q,n=document.createElement("div");n.style.left=i+"px",n.style.top="0px",n.style.width="1px",n.style.height=a+"px",n.style.fontSize="1px",n.style.lineHeight="1px",n.style.overflow="hidden",n.style.position="absolute",n.setAttribute("unselectable","on"),n.className=this.$aD("_matrix_vertical_break"),this.divBreaks.appendChild(n),this.elements.breaks.push(n),this.$9R.breaks[t]=n}},this.$aw=function(){if(l.$9R.drawArea)return l.$9R.drawArea;if(!this.nav.scroll)return null;var e=l.$do,t={},i=this.dynamicEventRenderingMargin,i=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,a=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,n=l.$dp-i-u.shiftX,o=n+l.$dq+2*i,r=0,s=0;if(l.itline&&l.itline.length>0){r=l.$b2(n).x,s=l.$b2(o,!0).x;var d=this.$aE();s=Math.min(s,d),r=Math.max(r,0)}var c=e-a,h=e+this.nav.scroll.offsetHeight+2*a,f=this.$cD(c).i,v=this.$cD(h).i;return v<this.rowlist.length&&v++,t.xStart=r,t.xEnd=s,t.yStart=f,t.yEnd=v,t.pixels={},t.pixels.left=this.nav.scroll.scrollLeft-u.shiftX,t.pixels.right=this.nav.scroll.scrollLeft-u.shiftX+this.nav.scroll.clientWidth,t.pixels.top=this.nav.scroll.scrollTop,t.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,t.pixels.width=this.nav.scroll.scrollWidth,l.$9R.drawArea=t,t},this.$dl=function(){var e=0,t=this.itline[this.itline.length-1];return e=t?t.left+t.width:0,(0>e||isNaN(e))&&(e=0),e},this.$fQ=function(e){var t="y"+e;if(!this.$9R.linesHorizontal[t]){var i=this.rowlist[e].top+this.rowlist[e].height-1,a=this.$dl(),n=document.createElement("div");n.style.left="0px",n.style.top=i+"px",n.style.width=a+"px",n.style.height="1px",n.style.fontSize="1px",n.style.lineHeight="1px",n.style.overflow="hidden",n.style.position="absolute",n.setAttribute("unselectable","on"),n.className=this.$aD("_matrix_horizontal_line"),this.divLines.appendChild(n),this.$9R.linesHorizontal[t]=n}},this.$fP=function(e){var t=this.itline[e];if(t){var i="x"+e;if(!this.$9R.linesVertical[i]){var a=t.left+t.width-1,n=document.createElement("div");n.style.left=a+"px",n.style.top="0px",n.style.width="1px",n.style.height=l.$9Q+"px",n.style.fontSize="1px",n.style.lineHeight="1px",n.style.overflow="hidden",n.style.position="absolute",n.setAttribute("unselectable","on"),n.className=this.$aD("_matrix_vertical_line"),this.divLines.appendChild(n),this.elements.linesVertical.push(n),this.$9R.linesVertical[i]=n}}},this.$dg=function(e){var t=this.rowlist[e],i=!t.expanded;t.expanded=i,t.resource&&(t.resource.expanded=i);var a=this.$fT(e,t.expanded);if(!i)for(var n=0;n<a.length;n++){var o=a[n];this.$bP(o)}if(this.$a7(),this.$a5(),this.$ac(),this.$9Y(),i){for(var n=0;n<a.length;n++){var o=a[n];this.$bQ(o)}this.$az()}this.$bR(),v.load(),this.$ad(),this.$ah(),this.$aj(),this.$am();var r=this.$ce(t,e);i?this.$cl(r):this.$ck(r),this.$9Y()},this.$dW=function(e){var t={};if(t.index=e,"function"==typeof this.onLoadNode){var i={},a=this.rowlist[e].resource;i.resource=a,i.async=!1,i.loaded=function(){this.async&&(a.dynamicChildren=!1,a.expanded=!0,l.update())},this.onLoadNode(i),i.async||(a.dynamicChildren=!1,a.expanded=!0,this.update())}else this.$b9("LoadNode",t)},this.$fT=function(e,t){var i=this.rowlist[e],a=[];if(null===i.children||0===i.children.length)return a;for(var n=0;n<i.children.length;n++){var o=i.children[n],r=this.rowlist[o],s=t&&i.expanded&&!r.$em;r.hidden=!s,t===!r.hidden&&a.push(o);var l=this.$fT(o,t);l.length>0&&(a=a.concat(l))}return a},this.$fx=function(e,t){this.$eL(),this.$fU(e,t)},this.$fV=function(e){if(!e)return!1;var t=this.nav.scroll.scrollWidth,i=this.nav.scroll.scrollLeft,a=this.nav.scroll.clientWidth,n=i+a;return 0>e&&0>=i?!1:e>0&&n>=t?!1:(this.nav.scroll.scrollLeft+=e,l.coords.x+=e,l.$fW(),!0)},this.$fX=function(e){if(!e)return!1;var t=this.nav.scroll.scrollHeight,i=this.nav.scroll.scrollTop,a=this.nav.scroll.clientHeight,n=i+a;return 0>e&&0>=i?!1:e>0&&n>=t?!1:(this.nav.scroll.scrollTop+=e,l.coords.y+=e,l.$fW(),!0)},this.$fW=function(){a.resizing&&a.resizing.event.calendar===l?l.$fs():a.moving&&(a.movingEvent.calendar===l||a.movingEvent.calendar.dragOutAllowed)?(a.moving.event||(a.moving.event=a.movingEvent),l.$ft()):a.range&&a.range.calendar===l&&l.$fu()},this.$fU=function(e,t){var i=this.$fV(e)||this.$fX(t);if(i){var a=function(e,t){return function(){l.$fU(e,t)}};this.$fY=window.setTimeout(a(e,t),100)}},this.$eL=function(){l.$fY&&(window.clearTimeout(l.$fY),l.$fY=null)},this.$a7=function(){for(var e=0,t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];i.hidden||(i.top=e,e+=i.height)}this.$9Q=e},this.$ad=function(){this.elements.cells=[],this.elements.linesVertical=[],this.elements.breaks=[],this.$9R.cells=[],this.$9R.linesVertical={},this.$9R.linesHorizontal={},this.$9R.breaks=[],this.divCells.innerHTML="",this.divLines.innerHTML="",this.divBreaks.innerHTML=""},this.$bS=function(e){var t=DayPilot.list();for(var i in l.$9R.cells)t.push(l.$9R.cells[i]);t.filter(function(t){return t&&t.coords&&t.coords.y===e}).each(function(e){l.$d4(e)})},this.$fZ=0,this.$g0=["html","cssClass","backColor","backImage","backRepeat","business","areas"],this.$d5=function(e,t){if(this.$bM){var i=l.$bb(e);if(i){var a=e+"_"+t;if(!this.$9R.cells[a]){var n=this.$d6(e,t);if(l.$ds(e,t),!this.drawBlankCells){var o=!1;if(this.$dd(t)?o=!1:this.$g1(n,l.$g0)||(o=!0),o)return}var r=document.createElement("div");if(r.style.left=i.left+"px",r.style.top=this.rowlist[t].top+"px",r.style.width=i.width+"px",r.style.height=this.rowlist[t].height+"px",r.style.position="absolute",n&&n.backColor&&(r.style.backgroundColor=n.backColor),r.setAttribute("unselectable","on"),r.className=this.$aD("_cell"),r.coords={},r.coords.x=e,r.coords.y=t,this.$dd(t)&&DayPilot.Util.addClass(r,this.$aD("_cellparent")),n){n.cssClass&&DayPilot.Util.addClass(r,n.cssClass),DayPilot.Util.isNullOrUndefined(n.html)||(r.innerHTML=n.html),n.backImage&&(r.style.backgroundImage='url("'+n.backImage+'")'),n.backRepeat&&(r.style.backgroundRepeat=n.backRepeat),n.business&&l.cellsMarkBusiness&&DayPilot.Util.addClass(r,l.$aD("_cell_business")),DayPilot.list(n.areas).each(function(e){(e.start||e.end)&&(e.left=l.getPixels(new DayPilot.Date(e.start)).left-i.left,e.width=l.getPixels(new DayPilot.Date(e.end)).left-e.left-i.left)});var s=l.cells.findXy(e,t)[0];DayPilot.Areas.attach(r,s,{areas:n.areas})}r.onmouseup=this.$eP,this.divCells.appendChild(r),this.elements.cells.push(r),this.$9R.cells[a]=r}}}},this.$ds=function(e,t){if("function"==typeof this.onBeforeCellRender){var i=l.$bb(e);if(!i)return;var a=l.cells.findXy(e,t)[0],n={};return n.cell=a,n.getPixels=function(e){var e=new DayPilot.Date(e),t=l.getPixels(e).left;return t-i.left},this.onBeforeCellRender(n),DayPilot.Util.copyProps(n.cell,n.cell.properties,l.$g0),n}},this.$g1=function(e,t){if(t){for(var i=0;i<t.length;i++)if(!DayPilot.Util.isNullOrUndefined(e[t[i]]))return!0}else for(var a in e)if(!DayPilot.Util.isNullOrUndefined(e[a]))return!0;return!1},this.clearSelection=function(){this.$al(),R.clear()},this.cleanSelection=this.clearSelection,this.$bX=function(){DayPilot.de(a.movingShadow),a.movingShadow=null,l.$dB(),l.$dw.clear()},this.$al=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.$dB(),a.rangeHold=null},this.$cL={};var B=this.$cL;B.locale=function(){return DayPilot.Locale.find(l.locale)},B.timeFormat=function(){return"Auto"!==l.timeFormat?l.timeFormat:B.locale().timeFormat},B.weekStarts=function(){if("Auto"===l.weekStarts){var e=B.locale();return e?e.weekStarts:0}return l.weekStarts},B.rounded=function(){return"Rounded"===l.eventCorners},B.layout=function(){var e=/MSIE 6/i.test(navigator.userAgent);return"Auto"===l.layout?e?"TableBased":"DivBased":l.layout},B.notifyType=function(){var e;if("Immediate"===l.notifyCommit)e="Notify";else{if("Queue"!==l.notifyCommit)throw"Invalid notifyCommit value: "+l.notifyCommit;e="Queue"}return e},B.isResourcesView=function(){return"Days"!==l.viewType},B.useBox=function(e){return"Always"===l.useEventBoxes?!0:"Never"===l.useEventBoxes?!1:e<60*l.cellDuration*1e3},B.eventHeight=function(){if(l.$9R.eventHeight)return l.$9R.eventHeight;var e=l.$eU("_event_height").height;return e||(e=l.eventHeight),l.$9R.eventHeight=e,e},B.headerHeight=function(){if(l.$9R.headerHeight)return l.$9R.headerHeight;var e=l.$eU("_header_height").height;return e||(e=l.headerHeight),l.$9R.headerHeight=e,e},B.splitterWidth=function(){return l.rowHeaderScrolling?l.rowHeaderSplitterWidth:1},this.$g2=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.$d6=function(e,t){var i=e+"_"+t;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[i])return this.cellProperties[i];if(this.$9H&&(this.cellProperties[i]=l.$g3(e,t)),!this.cellProperties[i]){var a=l.rowlist[t],n=a.id,o=a.start.getTime()-l.$aT().getTime(),r=l.$bb(e),s=r.start.addTime(o),d=r.end.addTime(o),c={};c.start=s,c.end=d,c.resource=n;var h={};h.business=l.isBusiness(c),this.cellProperties[i]=h}return this.cellProperties[i]},this.$g4=function(e,t,i){var a=t+"_"+i;return this.cellProperties[a]={},DayPilot.Util.copyProps(e,this.cellProperties[a],l.$g0),this.cellProperties[a]},this.$g3=function(e,t){if(!this.cellConfig)return null;var i=this.cellConfig,a=this.cellProperties[e+"_"+t];!a&&i.vertical&&(a=this.cellProperties[e+"_0"]),!a&&i.horizontal&&(a=this.cellProperties["0_"+t]),!a&&i["default"]&&(a=i["default"]);var n={};return DayPilot.Util.copyProps(a,n,l.$g0),n},this.$a3=function(){if(!this.$9H&&!this.$9I&&(this.$9I=!0,this.cellConfig)){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++){var i=this.cellProperties[t+"_0"];if(i)for(var a=1;a<e.y;a++)this.$g4(i,t,a)}if(e.horizontal)for(var a=0;a<e.y;a++){var i=this.cellProperties["0_"+a];if(i)for(var t=1;t<e.x;t++)this.$g4(i,t,a)}if(e["default"])for(var i=e["default"],a=0;a<e.y;a++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+a]||this.$g4(i,t,a)}},this.isBusiness=function(e){var t=e.start,i=e.end,a=(i.getTime()-t.getTime())/6e4;if(1440>=a&&"Days"!==l.viewType&&!l.businessWeekends&&(0===e.start.dayOfWeek()||6===e.start.dayOfWeek()))return!1;if(720>a){var n=t.getHours();if(n+=t.getMinutes()/60,n+=t.getSeconds()/3600,n+=t.getMilliseconds()/36e5,n<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(n>=this.businessEndsHour)return!1}return!0},this.$a8=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$dH=function(){var e=l.nav.top;return e.offsetWidth>0&&e.offsetHeight>0},this.$g5=function(){var e=l.$dH;e()||(l.debug.message("Not visible during init, starting visibilityInterval"),l.$g6=setInterval(function(){e()&&(l.debug.message("Made visible, calling .show()"),l.show(),l.$dG(),clearInterval(l.$g6))},100))},this.$g7=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-(this.$aF()+2),this.$ac()},this.setHeight=this.$g7,this.$au=function(e){for(var t=0;t<this.rowlist.length;t++)if(this.rowlist[t].id===e)return this.rowlist[t];return null},this.$es=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+e+"'."}},this.$g8=function(){this.$eT(),this.$a2(),this.$a9(),this.$eW(),this.$cH(),a.register(this),this.$9W(this.afterRenderData,!1),this.$eX(),this.$g5(),this.$9V(),this.$b9("Init")},this.init=function(){this.$g9()},this.$g9=function(){if(this.$es(),!this.nav.top.dp){this.$er();var e=this.$cU();if(e)return this.$g8(),this.$bM=!0,void this.$9Y();this.$eW(),this.$cH(),a.register(this),this.$eX(),this.$bx(),this.$bM=!0,l.scrollToDate?l.scrollTo(l.scrollToDate):l.scrollX||l.scrollY?l.setScroll(l.scrollX,l.scrollY):l.$ap(),l.scrollToResourceId&&(l.scrollToResource(l.scrollToResourceId),l.scrollToResourceId=null);var t=function(){l.scrollY&&l.setScroll(l.scrollX,l.scrollY)};window.setTimeout(t,200),this.messageHTML&&window.setTimeout(function(){l.message(l.messageHTML)},0),this.$g5(),this.$9V(),this.$9Y(),this.$9W(this.afterRenderData,!1),l.initEventEnabled&&setTimeout(function(){l.$b9("Init")}),this.$ga()}},this.$gb=null,this.$gc=function(e){var t={events:{preInit:function(){var e=this.data;e&&(l.events.list=DayPilot.isArray(e.list)?e.list:e)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&l.scrollTo(this.data,e.scrollToAnimated,e.scrollToPosition)}}};this.$gb=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else l[i]=e[i]},this.$ga=function(){var e=this.$gb;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.temp={},this.temp.getPosition=function(){var e=Math.floor(l.coords.x/l.cellWidth),t=l.$cD(l.coords.y).i;if(t<l.rowlist.length){var i={};return i.start=l.itline[e].start,i.end=l.itline[e].end,i.resource=l.rowlist[t].id,i}return null},this.internal={},this.internal.initialized=function(){return l.$bM},this.internal.dragInProgress=this.$fr,this.internal.invokeEvent=this.$bk,this.internal.eventMenuClick=this.$c0,this.internal.timeRangeMenuClick=this.$c7,this.internal.resourceHeaderMenuClick=this.$c9,this.internal.linkMenuClick=this.$c8,this.internal.bubbleCallBack=this.$bY,this.internal.findEventDiv=this.$cS,this.internal.rowtools=this.$ci,this.internal.getNodeChildren=this.$cF,this.internal.callback=function(){l.$b9.apply(l,arguments)},this.internal.createRowObject=this.$ce,this.internal.adjustEndIn=l.$bT,this.internal.adjustEndNormalize=l.$bU,this.internal.touch=l.$fg,this.internal.cssNames=l.$fn,this.Init=this.init,this.$gc(o)},o="${v}"===(new DayPilot.Scheduler).v,DayPilot.Row=function(e,t){if(!e)throw"Now row object supplied when creating DayPilot.Row";if(!t)throw"No parent control supplied when creating DayPilot.Row";var i=DayPilot.indexOf(t.rowlist,e),a=this;a.isRow=!0,a.menuType="resource",a.start=e.start,a.name=e.name,a.value=e.id,a.id=e.id,a.tags=e.tags,a.index=i,a.level=e.level,a.calendar=t,a.$gd=e,a.$={},a.$.row=e,a.toJSON=function(e){var t={};return t.start=this.start,t.name=this.name,t.value=this.value,t.id=this.id,t.index=this.index,t},a.parent=function(){return a.$gd.$en?t.$ce(a.$gd.$en):null},a.children=function(){var e=DayPilot.list(a.$.row.children).map(function(e){return t.$ce(t.rowlist[e])});return e.add=function(e){var t=a.$.row.resource;t.children||(t.children=[]),t.children.push(e)},e},a.loaded=function(){return a.$gd.loaded},a.cells={},a.cells.all=function(){for(var e=[],i=t.itline.length,n=a.index,o=0;i>o;o++){var r=t.cells.findXy(o,n);e.push(r[0])}return t.$d7(e)},a.events={},a.events.all=function(){for(var e=[],t=0;t<a.$gd.events.length;t++)e.push(a.$gd.events[t]);return DayPilot.list(e)},a.events.totalDuration=function(){var e=0;return a.events.all().each(function(t){e+=t.part.end.getTime()-t.part.start.getTime()}),new DayPilot.Duration(e)},a.groups={},a.groups.collapseAll=function(){for(var e=0;e<a.$gd.blocks.length;e++){var i=a.$gd.blocks[e],o=new n(i);o.$ge()}t.$bt(),t.$bu(a.index),t.$ac()},a.groups.expandAll=function(){for(var e=0;e<a.$gd.blocks.length;e++){var i=a.$gd.blocks[e],o=new n(i);o.$gf()}t.$bt(),t.$bu(a.index),t.$ac()},a.groups.expanded=function(){for(var e=[],i=0;i<a.$gd.blocks.length;i++){var o=a.$gd.blocks[i];o.expanded&&o.lines.length>t.groupConcurrentEventsLimit&&e.push(new n(o))}return DayPilot.list(e)},a.groups.collapsed=function(){for(var e=[],t=0;t<a.$gd.blocks.length;t++){var i=a.$gd.blocks[t];i.expanded||e.push(new n(i))}return DayPilot.list(e)},a.groups.all=function(){for(var e=[],t=0;t<a.$gd.blocks.length;t++){var i=a.$gd.blocks[t];e.push(new n(i))}return DayPilot.list(e)},a.events.collapseGroups=a.groups.collapseAll,a.events.expandGroups=a.groups.expandAll,a.column=function(e){return new o(a,e)},a.toggle=function(){t.$dg(a.index)},a.addClass=function(e){var i=a,n=t.divHeader,i=n.rows[i.index];if(i){var o=DayPilot.list(i.cells).map(function(e){return e.cellDiv});DayPilot.Util.addClass(o,e)}a.$.row.cssClass=DayPilot.Util.addClassToString(a.$.row.cssClass,e)},a.removeClass=function(e){var i=a,n=t.divHeader,i=n.rows[i.index];if(i){var o=DayPilot.list(i.cells).map(function(e){return e.cellDiv});DayPilot.Util.removeClass(o,e)}a.$.row.cssClass=DayPilot.Util.removeClassFromString(a.$.row.cssClass,e)};var n=function(e){var i=function(e){for(var i=0;i<t.elements.events.length;i++){var a=t.elements.events[i];if(a.event===e)return a}return null};this.$gf=function(){e.expanded=!0;var a=t.$e3;DayPilot.list(e.events).each(function(e){a.push(e.id())});var n=i(e);if(n){t.$f2(n);var o=DayPilot.indexOf(t.elements.events,n);-1!==o&&t.elements.events.splice(o,1)}},this.expand=function(){this.$gf(),t.$bt(),t.$bu(e.row.index),t.$ac()},this.$ge=function(){if(e.lines.length>t.groupConcurrentEventsLimit){e.expanded=!1;var i=DayPilot.list(e.events).map(function(e){return e.id()});t.$e3=t.$e3.filter(function(e){return!DayPilot.contains(i,e)})}},this.collapse=function(){this.$ge(),t.$bt(),t.$bu(e.row.index),t.$ac()}},o=function(e,t){this.html=function(i){var a=e.calendar.divHeader,n=a.rows[e.index].cells[t],o=n.textDiv;return"undefined"==typeof i?o.innerHTML:void(o.innerHTML=i)}}},a.moving=null,a.movingEvent=null,a.originalMouse=null,a.resizing=null,a.preventEventClick=!1,a.globalHandlers=!1,a.timeRangeTimeout=null,a.selectedCells=null,a.dragStart=function(e,t,i,n,o){DayPilot.us(e);var r=a.drag={};return r.element=e,r.duration=t,r.text=n,r.id=i,r.shadowType=o?o:"Fill",r.data={id:i,text:n,duration:t,externalHtml:n},!1},DayPilot.Scheduler.startDragging=function(e){var e=e||{},t=e.element,i=e.keepElement?null:t;DayPilot.us(t);var n=a.drag={};return n.element=i,n.id=e.id,n.duration=e.duration||60,n.text=e.text||"",n.shadowType="Fill",n.data=e,!1},DayPilot.Scheduler.makeDraggable=function(e){function t(){var t=a.drag={};t.element=n,t.id=e.id,t.duration=e.duration||60,t.text=e.text||"",t.shadowType="Fill",t.data=e}e=e||{};var i=e.element,n=e.keepElement?null:e.remove||i;DayPilot.us(i),DayPilot.re(i,"mousedown",function(e){if(DayPilot.Util.mouseButton(e).left){t();var i=e.target||e.srcElement;if(i.tagName){var a=i.tagName.toLowerCase();if("textarea"===a||"select"===a||"input"===a)return!1}return e.preventDefault&&e.preventDefault(),!1}}),i.ontouchstart=function(e){var i=0;window.setTimeout(function(){t(),a.gTouchMove(e),e.preventDefault()},i),e.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(a.dragStop(),a.resizing&&(DayPilot.de(a.resizingShadow),a.resizing=null,a.resizingShadow=null),a.moving){var e=a.movingEvent.calendar;DayPilot.Util.removeClass(a.moving,e.$aD("_event_moving_source")),DayPilot.de(a.movingShadow),a.moving=null,a.movingEvent=null,a.movingShadow=null
}if(a.range){var e=a.range.calendar;e.clearSelection(),a.range=null}document.body.style.cursor="",DayPilot.list(a.registered).each(function(e){e.$eL(),e.$dB()})},a.dragStop=function(){a.gShadow&&(document.body.removeChild(a.gShadow),a.gShadow=null),a.drag=null},a.register=function(e){a.registered||(a.registered=[]);for(var t=0;t<a.registered.length;t++)if(a.registered[t]===e)return;a.registered.push(e)},a.unregister=function(e){var t=a.registered;if(t){var i=DayPilot.indexOf(t,e);-1!==i&&t.splice(i,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mousemove",a.gMouseMove),DayPilot.ue(document,"mouseup",a.gMouseUp),DayPilot.ue(document,"keyup",a.gKeyUp),DayPilot.ue(document,"touchmove",a.gTouchMove),DayPilot.ue(document,"touchend",a.gTouchEnd),a.globalHandlers=!1)},a.gTouchMove=function(i){if(a.resizing){var n=a.resizing.event.calendar;n.coords=n.$fg.relativeCoords(i),n.$fg.updateResizing(),i.preventDefault()}if(a.moving){var n=a.movingEvent.calendar;n.coords=n.$fg.relativeCoords(i),n.$fg.updateMoving(),i.preventDefault()}if(a.drag){i.preventDefault();var o=t(i),n=e(i);if(n){if(a.gShadow&&document.body.removeChild(a.gShadow),a.gShadow=null,n.coords=n.$fg.relativeCoords(i),!a.movingShadow&&n.rowlist.length>0){if(!a.moving){a.moving={};var r=a.drag.event;if(!r){var s=n.itline[0].start,i={id:a.drag.id,start:s,end:s.addSeconds(a.drag.duration),text:a.drag.text},l=a.drag.data;if(l){var d=["duration","element","id","text"];for(var c in l)DayPilot.contains(d,c)||(i[c]=l[c])}r=new DayPilot.Event(i),r.calendar=n,r.part.external=!0}a.moving.event=r,a.movingEvent=r}a.movingShadow=n.$cM(a.moving,a.drag.shadowType)}a.moving&&n.$fg.updateMoving()}else{DayPilot.de(a.movingShadow);var h=a.moving;a.moving=null,a.movingEvent=null,a.movingShadow=null,a.gShadow||(a.gShadow=a.createGShadow(a.drag.data),a.gShadow.source=h);var u=a.gShadow;u.style.left=o.x+"px",u.style.top=o.y+"px"}}},a.gTouchEnd=function(e){a.gMouseUp(e)},a.gMouseMove=function(e){if("undefined"!=typeof a&&(e=e||window.event,!(e.insideMainD||e.srcElement&&e.srcElement.inside))){var t=DayPilot.mc(e);if(a.drag){if(!a.drag.startFired){var i=a.drag.data||{},n=i.onDragStart,o=!1;if("function"==typeof n){var r={};r.data=i,r.preventDefault=function(){r.preventDefault.value=!0},n(r),o=r.preventDefault.value}if(a.drag.startFired=!0,o)return void(a.drag=null)}document.body.style.cursor="move",a.gShadow||(a.gShadow=a.createGShadow(a.drag.data));var s=a.gShadow;if(s.style.left=t.x+"px",s.style.top=t.y+"px",a.moving=null,a.movingEvent=null,a.movingShadow){var l=a.movingShadow.calendar;l&&l.$dB(),a.movingShadow.calendar=null,DayPilot.de(a.movingShadow),a.movingShadow=null}}else if(a.moving&&a.movingEvent.calendar.dragOutAllowed&&!a.drag){var l=a.movingEvent.calendar,e=a.movingEvent;a.moving.target=null,document.body.style.cursor="move",a.gShadow||(a.gShadow=a.createGShadow(e.data),a.gShadow.source=a.moving);var s=a.gShadow;s.style.left=t.x+"px",s.style.top=t.y+"px",a.drag={};var d=a.drag;d.element=null,d.duration=(e.rawend().getTime()-e.start().getTime())/1e3,d.text=e.text(),d.id=e.value(),d.shadowType=l.shadow,d.event=e,l.$dB(),DayPilot.de(a.movingShadow),a.movingShadow.calendar=null,a.movingShadow=null}for(var c=0;c<a.registered.length;c++)a.registered[c].$dL&&a.registered[c].$dL()}},a.gUnload=function(e){if(a.registered)for(var t=0;t<a.registered.length;t++){var i=a.registered[t];a.unregister(i)}},a.gMouseDown=function(e){a.editing&&a.editing.blur()},a.gKeyUp=function(e){var e=e||window.event,t=e.keyCode;if(17===t&&a.rangeCalendar){var i=a.rangeCalendar;i.$fH.dispatch()}},a.gMouseUp=function(e){if(DayPilot.list(a.registered).each(function(e){e.$eL()}),a.resizing){if(setTimeout(function(){a.preventEventClick=!1}),!a.resizingShadow)return document.body.style.cursor="",void(a.resizing=null);var t=a.resizing.event,i=t.calendar;i.$di();var o=a.resizingShadow.start,r=a.resizingShadow.end,s=a.resizingShadow.overlapping,l=!a.resizingShadow.allowed;if(DayPilot.de(a.resizingShadow),a.resizing=null,a.resizingShadow=null,i.$dB(),i.$du.clear(),document.body.style.cursor="",s||l)return;i.$bl(t,o,r)}else if(a.moving){var d=function(){var e=a.moving.target;a.movingShadow&&(DayPilot.de(a.movingShadow),a.movingShadow.calendar=null),document.body.style.cursor="",a.moving=null,a.movingEvent=null,a.drag=null,e&&(e.$bW=null)};if(!a.movingShadow)return void d();var t=a.movingEvent,i=a.moving.target;if(!i)return void d();if(DayPilot.Util.removeClass(a.moving,i.$aD("_event_moving_source")),!a.movingShadow.row)return void d();clearTimeout(i.$de.timeout);var o=a.movingShadow.start,r=a.movingShadow.end,u="Days"!==i.viewType?a.movingShadow.row.id:null,f=(a.drag?!0:!1)&&t.part.external,v=a.movingShadow.line,s=a.movingShadow.overlapping,l=!a.movingShadow.allowed;if(a.drag&&(i.todo||(i.todo={}),i.todo.del=a.drag.element,a.drag=null),a.movingShadow.calendar=null,document.body.style.cursor="",a.moving=null,a.movingEvent=null,s||l||i.$dw.forbidden||i.$dw.invalid)return void i.$bX();var e=e||window.event;i.$bV(t,o,r,u,f,e,v)}else if(a.range){e=e||window.event;var p=DayPilot.Util.mouseButton(e),g=a.range,i=g.calendar;i.$fF=null;var y=e.ctrlKey||e.metaKey;if(i.allowMultiRange)return i.elements.range2.overlapping?(DayPilot.de(i.elements.range2),i.elements.range2=null,i.$dB()):i.$fH.add(g),a.range=null,void(y||i.$fH.dispatch());if(a.timeRangeTimeout)return clearTimeout(a.timeRangeTimeout),void(a.timeRangeTimeout=null);a.rangeHold=g,a.range=null;var m=function(e){return function(){a.timeRangeTimeout=null;var t=i.elements.range2;return t&&t.overlapping?void i.clearSelection():(i.$c1(e),void("Hold"!==i.timeRangeSelectedHandling&&"HoldForever"!==i.timeRangeSelectedHandling?n():a.rangeHold=e))}},b=i.$fG(g);if(!p.left)return void(a.timeRangeTimeout=null);if("Disabled"===i.timeRangeDoubleClickHandling){m(b)();var e=e||window.event;return e.cancelBubble=!0,!1}a.timeRangeTimeout=setTimeout(m(b),i.doubleClickTimeout)}else if(c.row){var i=c.calendar;i&&i.$ed()}else if(h.source){var i=h.calendar;i.$cO.clearShadow(),i.$cO.hideLinkpoints(),h.source=null,h.calendar=null}else if(a.splitting){var w=a.splitting;w.cleanup(),a.splitting=null}else if(a.rectangleSelect){var D=a.rectangleSelect,i=D.calendar;if(!D.moved)return a.rectangleSelect=null,void(i.$fo(i.coords)||i.$fE(e));var k=D.x,C=D.y,x=D.width,P=D.height,S=!1,A=i.$aA.eventsInRectangle(k,C,x,P).map(function(e){return e.event});if("function"==typeof i.onRectangleEventSelect){var T={};if(T.events=A,T.append=!1,T.start=i.getDate(k,!0),T.end=i.getDate(k+x,!0),T.preventDefault=function(){this.preventDefault.value=!0},i.onRectangleEventSelect(T),T.preventDefault.value)return i.$fy.clear(),void(a.rectangleSelect=null);S=T.append}if(S||i.multiselect.clear(!0),A.each(function(e){i.multiselect.add(e,!0)}),i.multiselect.redraw(),setTimeout(function(){i.$fy.clear(),a.rectangleSelect=null},0),"function"==typeof i.onRectangleEventSelected){var T={};T.events=A,i.onRectangleEventSelected(T)}}if(a.drag&&(a.drag.event&&a.drag.event.part&&delete a.drag.event.part.external,a.drag=null,document.body.style.cursor=""),a.gShadow){if(a.gShadow.source){var i=a.gShadow.source.event.calendar;DayPilot.Util.removeClass(a.gShadow.source,i.$aD("_event_moving_source"))}document.body.removeChild(a.gShadow),a.gShadow=null}a.moveOffsetX=null,a.moveDragStart=null},a.createGShadow=function(e){var e=e||{},t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.zIndex=101,t.style.pointerEvents="none",t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.className=e.externalCssClass,e.externalHtml&&(t.innerHTML=e.externalHtml),document.body.appendChild(t),t};var c={};DayPilot.Global.rowmoving=c;var h={};DayPilot.Global.linking=h,DayPilot.SchedulerVisible.dragStart=a.dragStart,DayPilot.SchedulerVisible.dragStop=a.dragStop,DayPilot.SchedulerVisible.Scheduler=a.Scheduler,DayPilot.SchedulerVisible.globalHandlers=a.globalHandlers,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotScheduler=function(e){var t=null,i=this.each(function(){var i=new DayPilot.Scheduler(this.id,e);i.init(),this.daypilot=i,t||(t=i)});return 1===this.length?t:i}}(jQuery),function u(){var e=DayPilot.am();e&&e.directive("daypilotScheduler",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function t(i,a){return i.replaceWith(this.template.replace("{{id}};",a.id)),function n(t,i,a){var n=new DayPilot.Scheduler(i[0]);n.$d0.scope=t,n.init();var o=a.id;o&&(t[o]=n);var r=a.publishAs;if(r){var s=e(r),l=s.assign;l(t,n)}for(var d in a)0===d.indexOf("on")&&!function(i){n[i]=function(n){var o=e(a[i]);t.$apply(function(){o(t,{args:n})})}}(d);var c=t.$watch,h=a.config||a.daypilotConfig,u=a.events||a.daypilotEvents;c.call(t,h,function(e,t){n.$gc(e),n.update(),n.$ga()},!0),c.call(t,u,function(e){n.events.list=e,n.$bx({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};"undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.Year&&(DayPilot.Year=function(e,t){this.v="2130";var i=this;this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.$i=[],this.$j=function(){this.root.dp=this,this.$k=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.$l=function(e){return this.cssClassPrefix?this.cssClassPrefix+e:""},this.$m=function(){return this.showWeekNumbers?this.cellWidth:0},this.$n=function(){this.$i=[];var e=this.columns,t=12/e;this.root.className=this.$l("_main"),this.root.style.width=e*(7*this.cellWidth+this.$m())+"px";for(var i=0;t>i;i++){for(var a=0;e>a;a++){var n=i*e+a,o=o+"_nav_"+n,r=document.createElement("div");r.id=o,r.style["float"]="left",this.root.appendChild(r);var s=new DayPilot.Navigator(o);s.startDate=this.$k.addMonths(n),s.cssOnly=this.cssOnly,s.cssClassPrefix=this.cssClassPrefix,s.cellWidth=this.cellWidth,s.showWeekNumbers=this.showWeekNumbers,s.internal.showLinks={},s.selectMode="none",s.timeRangeSelectedHandling="JavaScript",s.onTimeRangeSelected=this.$o,s.init(),s.root.className="",this.$i.push(s)}var l=document.createElement("div");l.style.clear="left",this.root.appendChild(l)}},this.$o=function(e){alert("clicked: "+e.day)},this.init=function(){this.root=document.getElementById(e),this.root.dp||(this.$j(),this.$n())}})}();